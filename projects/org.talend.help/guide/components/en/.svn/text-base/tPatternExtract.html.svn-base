<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tPatternExtract</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Enterprise"><link rel="up" href="Raa78577.html" title="Chapter&nbsp;5.&nbsp;Data Quality components"><link rel="prev" href="tPatternCheck.html" title="tPatternCheck"><link rel="next" href="tPostgresqlInvalidRows.html" title="tPostgresqlInvalidRows"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tPatternExtract"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tPatternExtract"></a>tPatternExtract</h2></div></div></div><div class="mediaobject"><img src="../images/tPatternExtract_white.png"></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="italic">This component will be available in the <span class="bold"><strong>Palette</strong></span> of the studio on the
                                condition that you have subscribed to the relevant edition of
                                        <span class="bluebold">Talend Enterprise Data Quality</span>.</span></p></td></tr></table></div><div class="section" title="tPatternExtract properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e65287"></a>tPatternExtract properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top"><p><span class="bold"><strong>Component family</strong></span></p>
                                                </td><td valign="top"><p>Data Quality</p>
                                                </td><td valign="top">&nbsp;</td></tr><tr><td valign="top"><p><span class="bold"><strong>Function</strong></span></p>
                                                </td><td colspan="2" valign="top"><p><span class="bold"><strong>tPatternExtract</strong></span> extracts from a column
                                                  all data strings that match a given Java regular
                                                  expression. </p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Purpose</strong></span></p>
                                                </td><td colspan="2" valign="top"><p><span class="bold"><strong>tPatternExtract</strong></span> allows to output all
                                                  data that match a given pattern. You can then
                                                  implement any required operation on the extracted
                                                  data.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Basic settings</strong></span></p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Column to
                                                  check</em></span></p>
                                                </td><td valign="top"><p>Select the column you want
                                                  to analyze.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Schema</em></span> and
                                                  <span class="emphasis"><em>Edit schema</em></span></p>
                                                </td><td valign="top"><p>A schema is a row
                                                  description, i.e., it defines the number of fields
                                                  that will be processed and passed on to the next
                                                  component. The schema is either built-in or remote
                                                  in the Repository. </p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Pattern
                                                  type</em></span></p>
                                                </td><td valign="top"><p>Select from the list the
                                                  pattern you want to check the data against and
                                                  then extract all data that match the selected
                                                  pattern.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="bold"><strong>Built-in</strong></span>: You create the schema and
                                                  store it locally for this component only. Related
                                                  topic: see <span class="bluebold">Talend Enterprise Studio</span>
                                                  <span class="bold"><strong>User
                                                  Guide</strong></span>.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="bold"><strong>Repository</strong></span>: You have already created
                                                  the schema and stored it in the Repository. You
                                                  can reuse it in various projects and job designs.
                                                  Related topic: see <span class="bluebold">Talend Enterprise Studio</span>
                                                  <span class="bold"><strong>User
                                                  Guide</strong></span>.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Advanced settings</strong></span></p>
                                                </td><td valign="top"><p><span class="emphasis"><em>tStat</em></span><span class="emphasis"><em>Catcher</em></span>
                                                  <span class="emphasis"><em>Statistics</em></span></p>
                                                </td><td valign="top"><p>Select this check box to
                                                  collect log data at the component level.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Usage</strong></span></p>
                                                </td><td colspan="2" valign="top"><p>This component is an intermediary step. It
                                                  requires an input flow as well as an
                                                  output.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Limitation</strong></span></p>
                                                </td><td colspan="2" valign="top"><p>n/a</p>
                                                </td></tr></tbody></table></div></div><div class="section" title="Scenario: Extracting only the data that corresponds to a defined pattern from a delimited file"><div class="titlepage"><div><div><h3 class="title"><a name="d0e65461"></a>Scenario: Extracting only the data that corresponds to a defined pattern from
                        a delimited file</h3></div></div></div><p>This Java scenario describes a three-component Job
                        where the <span class="bold"><strong>tExtractPattern</strong></span> component is used
                        to extract only customers&#8217; email addresses (that match the <span class="bold"><strong>Email address</strong></span> pattern) from a delimited file
                        that holds different customer data. And then it writes the extracted data in
                        another delimited file.</p><div class="mediaobject"><img src="../images/Use_Case_tPatternExtract.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Drop the following components from the <span class="bold"><strong>Palette</strong></span> to the design workspace:
                                                <span class="bold"><strong>tFileInputDelimited</strong></span>, <span class="bold"><strong>tPatternExtract</strong></span> and <span class="bold"><strong>tFileOutputDelimited</strong></span>.</p></li><li class="listitem"><p>Double-click <span class="bold"><strong>tFileInputDelimited</strong></span> to display its
                                                <span class="bold"><strong>Basic settings</strong></span> view
                                        and define the component properties. If you have already
                                        stored your input schemas in the <span class="bold"><strong>Repository</strong></span>, you can simply drop the
                                        relevant file item from the <span class="bold"><strong>Metadata</strong></span> folder onto the design
                                        workspace and the delimited file settings will automatically
                                        display in the relevant fields in the component <span class="bold"><strong>Basic settings</strong></span> view. For more
                                        information about metadata, see <span class="bluebold">Talend Enterprise Studio</span>
                                        <span class="bold"><strong>User Guide</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tPatternExtract1.png"></div><p>In this scenario, the delimited file holds names,
                        email addresses and telephone numbers, all in a single column:
                                <span class="emphasis"><em>Name_Telephone_Address</em></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tPatternExtract2.png"></div><p>And therefore the input schema of the delimited
                        file will be as the following:</p><div class="mediaobject"><img src="../images/Use_Case_tPatternExtract3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>If you have not stored the schema of the delimited file
                                        locally, define the components properties manually in the
                                                <span class="bold"><strong>Basic settings</strong></span> view
                                        and click <span class="bold"><strong>Edit schema</strong></span> to
                                        display the dialog box where you can define the input
                                        schema.</p></li><li class="listitem"><p>Click the plus button to add as many lines as you have in your
                                        input schema, one in this scenario and then click <span class="bold"><strong>OK</strong></span> to close the dialog
                                        box.</p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>When prompted, click <span class="bold"><strong>OK</strong></span> if you want
                                to accept the schema propagation, so that the next component gets
                                automatically the input schema. Therefore no need to set the schema
                                again.</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Double-click <span class="bold"><strong>tPatternExtract</strong></span>
                                        to display its <span class="bold"><strong>Basic
                                                settings</strong></span> view and define the component
                                        properties.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tPatternExtract4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the <span class="bold"><strong>Column to check</strong></span> list,
                                        select the column you want to check its data against the
                                        defined pattern,<span class="emphasis"><em> Name_Telephone_Address</em></span>
                                        in this example.</p></li><li class="listitem"><p>In the <span class="bold"><strong>Pattern type</strong></span> list,
                                        select the pattern you want to extract data according to,
                                                <span class="bold"><strong>Email address</strong></span> in
                                        this example.</p></li><li class="listitem"><p>Click <span class="bold"><strong>Sync columns</strong></span> to auto
                                        propagate all the columns of the input delimited
                                        file.</p></li><li class="listitem"><p>If needed, click <span class="bold"><strong>Edit schema</strong></span>
                                        to view the data structure of the input component and that
                                        of <span class="bold"><strong>tPatternExtract</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tPatternExtract5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Click <span class="bold"><strong>OK</strong></span> to close the dialog
                                        box.</p></li><li class="listitem"><p>Double-click <span class="bold"><strong>tFileOutputDelimited</strong></span> to display its
                                                <span class="bold"><strong>Basic settings</strong></span> view
                                        and define the component properties.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tPatternExtract6.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Click the three-dot button next to the <span class="bold"><strong>File Name</strong></span> field to browse to the file
                                        where you want to write the output data.</p></li><li class="listitem"><p>Define the row and field separators in the corresponding
                                        fields, if any. In this example, we want to separate
                                        customers&#8217; email addresses by semicolons.</p></li><li class="listitem"><p>Select the <span class="bold"><strong>Append</strong></span> check box
                                        if you want to add the new rows at the end of the
                                        records.</p></li><li class="listitem"><p>Select the <span class="bold"><strong>Include Header</strong></span>
                                        check box to include a column header in the output
                                        data.</p></li><li class="listitem"><p>If needed, click <span class="bold"><strong>Edit schema</strong></span>
                                        to view the input and output data flows.</p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Note that the schema in the output components is different from the
                                schema in the component that precedes it since we want only to
                                extract the data that matches the Email address pattern.</p></td></tr></table></div><div class="mediaobject"><img src="../images/Use_Case_tPatternExtract7.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Save your Job and press <span class="bold"><strong>F6 </strong></span>to
                                        execute it.</p></li></ul></div><p>Customers&#8217; email addresses are extracted from the
                        selected column according to the defined Email pattern and written in the
                        output file using semicolons as row separators. You can then, for example,
                        send an email to all your customers in one go.</p><div class="mediaobject"><img src="../images/Use_Case_tPatternExtract8.png"></div></div></div></body></html>