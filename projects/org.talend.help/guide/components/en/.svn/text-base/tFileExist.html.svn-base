<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tFileExist</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch10.html" title="Chapter&nbsp;10.&nbsp;File components"><link rel="prev" href="tFileDelete.html" title="tFileDelete"><link rel="next" href="tFileInputARFF.html" title="tFileInputARFF"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tFileExist"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tFileExist"></a>tFileExist</h2></div></div></div><div class="mediaobject"><img src="../images/tFileExist_icon32_white.png"></div><div class="section" title="tFileExist Properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e195541"></a>tFileExist Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Component family</strong></span>
									</p>
								</td><td valign="top">
									<p>File/Management</p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Function</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p><span class="bold"><strong>tFileExist </strong></span>checks if a
										file exists or not.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Purpose</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p><span class="bold"><strong>tFileExists </strong></span>helps to
										streamline processes by automating recurrent and tedious
										tasks such as checking if a file exists.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>File Name</em></span>
									</p>
								</td><td valign="top">
									<p>Path to the file you want to check if it exists or
										not.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStatCatcher Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box to gather the Job processing
										metadata at a Job level as well as at each component
										level.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Usage</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>This component can be used as standalone component.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Global Variables</strong></span>
									</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Exists</strong></span>: Indicates whether
										a specified file exists or not. This is available as a
											<span class="bold"><strong>Flow</strong></span> variable</p>
									<p> Returns a boolean value: </p>
									<p> - true if the file exists.</p>
									<p> - false if the file does not exist. </p>
									<p> </p>
									<p>
										<span class="bold"><strong>File Name</strong></span>: Retrieves the
										name and path to a file. This is available as an <span class="bold"><strong>After</strong></span> variable.</p>
									<p> Returns a string.</p>
									<p> </p>
									<p> For further information about variables, see <span class="bluebold">Talend Open Studio</span> User Guide.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Connections</strong></span>
									</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>Outgoing links (from one component to another):</p>
									<p>
										<span class="bold"><strong>Trigger</strong></span>: On Subjob Ok; On
										Subjob Error; Run if; On Component Ok; On Component
										Error.</p>
									<p> </p>
									<p> Incoming links (from one component to another):</p>
									<p>
										<span class="bold"><strong>Row</strong></span>: Iterate.</p>
									<p>
										<span class="bold"><strong>Trigger</strong></span>: Run if; On Subjob
										Ok; On Subjob Error; On component Ok; On Component Error;
										Synchronize; Parallelize. </p>
									<p> </p>
									<p> For further information regarding connections, see
											<span class="bluebold">Talend Open Studio</span> User Guide.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Limitation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>n/a</p>
								</td></tr></tbody></table></div></div><div class="section" title="Scenario: Checking for the presence of a file and creating it if it does not exist"><div class="titlepage"><div><div><h3 class="title"><a name="d0e195780"></a>Scenario: Checking for the presence of a file and creating it if it does not
					exist</h3></div></div></div><p>This scenario describes a simple Job that: checks if a given file exists,
					displays a graphical message to confirm that the file does not exist, reads the
					input data in another given file and writes it in an output delimited
					file.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Drop the following components from the <span class="bold"><strong>Palette</strong></span> onto the design workspace: <span class="bold"><strong>tFileExist</strong></span>, <span class="bold"><strong>tFileInputDelimited</strong></span>, <span class="bold"><strong>tFileOutputDelimited</strong></span>, and <span class="bold"><strong>tMsgBox</strong></span>.</p></li><li class="listitem"><p> Connect <span class="bold"><strong>tFileExist</strong></span> to <span class="bold"><strong>tFile InputDelimited</strong></span> using an <span class="bold"><strong>OnSubjobOk</strong></span> and to <span class="bold"><strong>tMsgBox</strong></span> using a <span class="bold"><strong>Run If</strong></span>
							link.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileExist.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Connect <span class="bold"><strong>tFileInputDelimited </strong></span>to
								<span class="bold"><strong>tFileOutputDelimite</strong></span> using a
								<span class="bold"><strong>Row Main</strong></span> link.</p></li><li class="listitem"><p> In the design workspace, select <span class="bold"><strong>tFileExist</strong></span> and click the <span class="bold"><strong>Component</strong></span> tab to define its basic settings.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileExist1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the <span class="bold"><strong>File name</strong></span> field, enter the
							file path or browse to the file you want to check if it exists or
							not.</p></li><li class="listitem"><p> In the design workspace, select <span class="bold"><strong>tFileInputDelimited</strong></span> and click the <span class="bold"><strong>Component</strong></span> tab to define its basic settings.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileExist3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Browse to the input file you want to read to fill out the<span class="bold"><strong> File Name</strong></span> field.</p></li></ul></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
						<span class="italic"> If the path of the file contains some accented
							characters, you will get an error message when executing your Job. For
							more information regarding the procedures to follow when the support of
							accented characters is missing, see <span class="bluebold">Talend Open Studio</span>
							<span class="bold"><strong>Installation Guide</strong></span>.</span>
					</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Set the row and field separators in their corresponding
							fields.</p></li><li class="listitem"><p> Set the header, footer and number of processed rows as needed. In
							this scenario, there is one header in our table.</p></li><li class="listitem"><p> Set <span class="bold"><strong>Schema</strong></span> to <span class="bold"><strong>Built-in </strong></span>and click the <span class="bold"><strong>Edit
								schema</strong></span> button to define the data to pass on to the
								<span class="bold"><strong>tFileOutputDelimited</strong></span> component.
							Define the data present in the file to read, file2 in this
							scenario.</p></li></ul></div><p>For more information about schema types, see <span class="bluebold">Talend Open Studio</span>
					<span class="bold"><strong>User Guide</strong></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tFileExist5.png"></div><p>The schema in file2 consists of five columns: <span class="emphasis"><em>Num, Ref, Price,
						Quant, </em></span>and <span class="emphasis"><em>tax</em></span>.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the design workspace, select the <span class="bold"><strong>tFileOutputDelimited</strong></span> component.</p></li><li class="listitem"><p> Click the <span class="bold"><strong>Component</strong></span> tab to define
							the basic settings of <span class="bold"><strong>tFileOutputDelimited</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileExist4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Set property type to <span class="bold"><strong>Built-in</strong></span>.</p></li><li class="listitem"><p> In the <span class="bold"><strong>File name</strong></span> field, press
								<span class="bold"><strong>Ctrl+Space</strong></span> to access the variable
							list and select the global variable FILENAME.</p></li><li class="listitem"><p> Set the row and field separators in their corresponding
							fields.</p></li><li class="listitem"><p> Select the <span class="bold"><strong>Include Header</strong></span> check box
							as file2 in this scenario includes a header.</p></li><li class="listitem"><p> Set <span class="bold"><strong>Schema</strong></span> to <span class="bold"><strong>Built-in </strong></span>and click <span class="bold"><strong>Sync
								columns</strong></span> to synchronize the output file schema (file1)
							with the input file schema (file2).</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileExist6.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the design workspace, select the <span class="bold"><strong>tMsgBox</strong></span> component.</p></li><li class="listitem"><p> Click the <span class="bold"><strong>Component</strong></span> tab to define
							the basic settings of <span class="bold"><strong>tMsgBox</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileExist7.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Click the <span class="bold"><strong>If</strong></span> link to display its
							properties in the <span class="bold"><strong>Basic settings
							</strong></span>view.</p></li><li class="listitem"><p> In the <span class="bold"><strong>Condition</strong></span> panel, press
								<span class="bold"><strong>Ctrl+Space</strong></span> to access the variable
							list and select the global variable EXISTS. Type an exclamation mark
							before the variable to negate the meaning of the variable.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileExist8.png"></div><p>Save your Job and press <span class="bold"><strong>F6 </strong></span>to execute it. </p><div class="mediaobject"><img src="../images/Use_Case_tFileExist9.png"></div><p>A dialog box appears to confirm that the file does not exists. </p><p>Click <span class="bold"><strong>OK</strong></span> to close the dialog box and continue
					the Job execution process. The missing file, file1 in this scenario, got written
					in a delimited file in the defined place.</p></div></div></body></html>