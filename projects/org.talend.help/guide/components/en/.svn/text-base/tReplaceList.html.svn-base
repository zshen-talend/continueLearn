<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tReplaceList</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="Raa78577.html" title="Chapter&nbsp;5.&nbsp;Data Quality components"><link rel="prev" href="tIntervalMatch.html" title="tIntervalMatch"><link rel="next" href="tSchemaComplianceCheck.html" title="tSchemaComplianceCheck"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tReplaceList"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tReplaceList"></a>tReplaceList</h2></div></div></div><div class="mediaobject"><img src="../images/tReplaceList_icon32_white.png"></div><div class="section" title="tReplaceList Properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e55259"></a>tReplaceList Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Component family</strong></span>
									</p>
								</td><td valign="top">
									<p>Data Quality</p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Function</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Carries out a Search and Replace operation in the input
										columns defined based on an external lookup.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Purpose</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Helps to cleanse all files before further processing.
									</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
											schema</em></span></p>
								</td><td valign="top">
									<p>A schema is a row description, i.e., it defines the number
										of fields that will be processed and passed on to the next
										component. The schema is either built-in or remote in the
										Repository. </p>
									<p> Two read-only columns, Value and Match are added to the
										output schema automatically. </p>
									<div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
											<span class="emphasis"><em>The data Type defined in the schemas must be
												consistent, ie., an integer can only be replaced by
												another integer using an integer as a look up field.
												Values of one type cannot be replaced by values of
												another type.</em></span>
										</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in</strong></span>: The schema will
										be created and stored locally for this component only.
										Related topic: see <span class="bluebold">Talend Open Studio</span>
										<span class="bold"><strong>User Guide</strong></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository</strong></span>: The schema
										already exists and is stored in the Repository, hence can be
										reused in various projects and job designs. Related topic:
										see <span class="bluebold">Talend Open Studio</span>
										<span class="bold"><strong>User Guide</strong></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Lookup search column</em></span>
									</p>
								</td><td valign="top">
									<p>Type in the position number of the column to be searched
										in the lookup schema. </p>
									<p>
										<span class="bold"><strong>0</strong></span>: first column read</p>
									<p>
										<span class="bold"><strong>1</strong></span>: second column
										read</p>
									<p>
										<span class="bold"><strong>n</strong></span>: position number of the
										column in the schema read. </p>
									<p>
										</p><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
												<span class="emphasis"><em>In order to ensure the uniqueness of
												values being searched, make sure this column is
												marked as Key in your lookup schema. </em></span>
											</p></td></tr></table></div><p>
									</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Lookup replacement column</em></span>
									</p>
								</td><td valign="top">
									<p>Type in the position number of the column where the
										replacement values are stored. </p>
									<p>
										<span class="bold"><strong>0</strong></span>: first column read</p>
									<p>
										<span class="bold"><strong>1</strong></span>: second column
										read</p>
									<p>
										<span class="bold"><strong>n</strong></span>: position number of the
										column in the schema read</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Column options</em></span>
									</p>
								</td><td valign="top">
									<p>Select the columns of the main flow where the replacement
										is to be carried out. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStat</em></span>
										<span class="emphasis"><em>Catcher</em></span>
										<span class="emphasis"><em>Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box to collect log data at the component
										level.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Usage</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p><span class="bold"><strong>tReplaceList</strong></span> is an
										intermediary component. It requires an input flow and an
										output component.</p>
								</td></tr></tbody></table></div></div><div class="section" title="Scenario: Replacement from a reference file"><div class="titlepage"><div><div><h3 class="title"><a name="Raa76711"></a>Scenario: Replacement from a reference file</h3></div></div></div><p>The following Job searches and replaces a list of countries with their
					corresponding codes. The relevant codes are taken from a reference file placed
					as lookup flow in the Job. The main flow is replicated and both outputs are
					displayed on the console, in order to show the main flow before and after
					replacement. </p><div class="mediaobject"><img src="../images/Use_Case_tReplaceList1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Drop the following components from the <span class="bold"><strong>Palette
							</strong></span>to the design workspace: <span class="bold"><strong>tMysqlInput</strong></span>, <span class="bold"><strong>tFileInputDelimited</strong></span>, <span class="bold"><strong>tReplicate</strong></span>, <span class="bold"><strong>tReplaceList</strong></span> and <span class="bold"><strong>tLogRow</strong></span> (x2). Note that if your input schemas are stored
							in the Repository, you can simply drag and drop the relevant node from
							the Repository&#8217;s Metadata Manager onto the design workspace to retrieve
							automatically the input components&#8217; setting. For more information, see
								<span class="bluebold">Talend Open Studio</span>
							<span class="bold"><strong>User Guide</strong></span>.</p></li><li class="listitem"><p>Connect the components using<span class="bold"><strong> Main Row</strong></span>
							connections via a right-click on each component. Notice that the main
							row coming from the reference flow (<span class="bold"><strong>tFileInputDelimited</strong></span>) is called a lookup row.</p></li><li class="listitem"><p>Select the <span class="bold"><strong>tMysqlInput</strong></span> component and
							set the input flow parameters.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tReplaceList3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>The input schema is made of two columns: <span class="emphasis"><em>Names</em></span>,
								<span class="emphasis"><em>States</em></span>. The column States gathered the name of
							the United States of America which are to be replaced by their
							respective code. </p></li><li class="listitem"><p>In the <span class="bold"><strong>Query</strong></span> field, make sure the
								<span class="emphasis"><em>State</em></span> column is included in the <code class="code">Select
							</code>statement. In this use case, all columns are selected.</p></li><li class="listitem"><p>Check the <span class="bold"><strong>tReplicate</strong></span> component
							setting. The schema is simply duplicated into two identical flows, but
							no change to the schema can be made.</p></li><li class="listitem"><p>Then double-click on the <span class="bold"><strong>tFileInputDelimited</strong></span> component, to set the reference
							file.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tReplaceList4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>The file includes two columns: <span class="emphasis"><em>Postal</em></span>,
								<span class="emphasis"><em>State</em></span> where <span class="emphasis"><em>Postal</em></span>
							provides the zipcode corresponding to the name given in the respective
							row of the <span class="emphasis"><em>State </em></span>column.</p></li><li class="listitem"><p>The fields are delimited by semicolons and rows are separated by
							carriage returns.</p></li><li class="listitem"><p>Edit the lookup flow schema.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tReplaceList5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Make sure the lookup search column (in this use case:
								<span class="emphasis"><em>State</em></span>) is a key, in order to ensure the
							uniqueness of the values being searched.</p></li><li class="listitem"><p>Select the <span class="bold"><strong>tReplaceList</strong></span> and set the
							operation to carry out. </p></li><li class="listitem"><p>The schema is retrieved from the previous component of the main
							flow.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tReplaceList2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In <span class="bold"><strong>Lookup search index</strong></span> field, type in
							the position index of the column being searched. In this use case,
								<span class="emphasis"><em>State</em></span> is the second column of the lookup input
							file, therefore type in <span class="bold"><strong>1</strong></span> in this
							field. </p></li><li class="listitem"><p>In <span class="bold"><strong>Lookup replacement index</strong></span> field,
							fill in the position number of the column containing the replacement
							values, in this example: <span class="emphasis"><em>Postal</em></span> for the State
							codes.</p></li><li class="listitem"><p>In the <span class="bold"><strong>Column options</strong></span> table, select
							the <span class="emphasis"><em>States</em></span> column as in this use case, the State
							names are to be replaced with their corresponding code.</p></li><li class="listitem"><p>In both <span class="bold"><strong>tLogRow</strong></span> components, select
							the <span class="bold"><strong>Print values in table cells</strong></span> check
							box for a better readability of the outputs.</p></li><li class="listitem"><p>Save the Job and press <span class="bold"><strong>F6</strong></span> to execute
							it.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tReplaceList6.png"></div><p>The first flow output shows the States column with full state names as it
					comes from the main input flow.</p><p>The second flow output shows the States column after the State column names
					have been replaced with their respective codes. </p></div></div></body></html>