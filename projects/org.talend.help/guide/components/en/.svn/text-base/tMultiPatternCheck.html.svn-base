<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tMultiPatternCheck</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Enterprise"><link rel="up" href="Raa78577.html" title="Chapter&nbsp;5.&nbsp;Data Quality components"><link rel="prev" href="tMatchGroupHadoop.html" title="tMatchGroupHadoop"><link rel="next" href="tMysqlInvalidRows.html" title="tMysqlInvalidRows"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tMultiPatternCheck"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tMultiPatternCheck"></a>tMultiPatternCheck</h2></div></div></div><div class="mediaobject"><img src="../images/tPatternCheck_icon32_white.png"></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="italic">This component will be available in the <span class="bold"><strong>Palette</strong></span> of the studio on the
                                condition that you have subscribed to the relevant edition of
                                        <span class="bluebold">Talend Enterprise Data Quality</span>.</span></p></td></tr></table></div><div class="section" title="tMultiPatternCheck properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e62839"></a>tMultiPatternCheck properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top"><p><span class="bold"><strong>Component family</strong></span></p>
                                                </td><td valign="top"><p>Data Quality</p>
                                                </td><td valign="top">&nbsp;</td></tr><tr><td valign="top"><p><span class="bold"><strong>Function</strong></span></p>
                                                </td><td colspan="2" valign="top"><p><span class="bold"><strong>tMultiPatternCheck</strong></span> checks all existing
                                                  data in multiple columns against a given Java
                                                  regular expression. </p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Purpose</strong></span></p>
                                                </td><td colspan="2" valign="top"><p><span class="bold"><strong>tMultiPatternCheck</strong></span> can give two output
                                                  flows: <span class="bold"><strong>Matching
                                                  Data</strong></span> and <span class="bold"><strong>Non-Matching Data</strong></span>. The first collects
                                                  all data that match a given pattern, and the
                                                  second collects all data that do not match a given
                                                  pattern. You can then implement any required
                                                  corrections.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Basic settings</strong></span></p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Schema
                                                  </em></span>and <span class="emphasis"><em>Edit
                                                  schema</em></span></p>
                                                </td><td valign="top"><p>A schema is a row
                                                  description, i.e., it defines the number of fields
                                                  that will be processed and passed on to the next
                                                  component. The schema is either built-in or remote
                                                  in the Repository. </p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="bold"><strong>Built-in</strong></span>: You create the schema and
                                                  store it locally for this component only. Related
                                                  topic: see <span class="bluebold">Talend Enterprise Studio</span>
                                                  <span class="bold"><strong>User
                                                  Guide</strong></span>.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="bold"><strong>Repository</strong></span>: You have already created
                                                  the schema and stored it in the Repository. You
                                                  can reuse it in various projects and job designs.
                                                  Related topic: see <span class="bluebold">Talend Enterprise Studio</span>
                                                  <span class="bold"><strong>User
                                                  Guide</strong></span>.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Logical operator
                                                  used to combine check conditions</em></span></p>
                                                </td><td valign="top"><p>In the case you want to
                                                  combine the conditions you set on columns, select
                                                  from this list the combine mode you want to
                                                  use.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Columns to
                                                  check</em></span></p>
                                                </td><td valign="top"><p>Set a regular expression
                                                  for each of the analyzed columns.</p><p>
                                                  <span class="bold"><strong>Column</strong></span>: list of
                                                  the analyzed columns.</p><p>
                                                  <span class="bold"><strong>Check pattern</strong></span>:
                                                  Select from the list the pattern you want to check
                                                  the column data against.</p>
                                                  <div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>If you select <span class="bold"><strong>Custom</strong></span> from the pattern list, you can
                                                  customize the data quality pattern against which
                                                  the column data is to be checked.</p></td></tr></table></div>
                                                  <p><span class="bold"><strong>Custom
                                                  Pattern</strong></span>: enter your own customized
                                                  regular expression if you have selected <span class="bold"><strong>Custom </strong></span>in the <span class="bold"><strong>Check Pattern</strong></span> column.
                                                  </p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Advanced settings</strong></span></p>
                                                </td><td valign="top"><p><span class="emphasis"><em>tStatCatcher</em></span>
                                                  <span class="emphasis"><em>Statistics</em></span></p>
                                                </td><td valign="top"><p>Select this check box to
                                                  collect log data at the component level.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Usage</strong></span></p>
                                                </td><td colspan="2" valign="top"><p>This component is an intermediary step. It
                                                  requires an input flow as well as an
                                                  output.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Limitation</strong></span></p>
                                                </td><td colspan="2" valign="top"><p>n/a</p>
                                                </td></tr></tbody></table></div></div><div class="section" title="Scenario: Checking the data in multiple columns against the given patterns"><div class="titlepage"><div><div><h3 class="title"><a name="d0e63045"></a>Scenario: Checking the data in multiple columns against the given patterns</h3></div></div></div><p>This Java scenario describes a four-component Job
                        that checks customers&#8217; code, zipcode and email against the relevant
                        patterns. It lists the data that matches the selected pattern and the data
                        that does not.</p><p>The check results are written in two output files:
                        the first for the values that match the selected patterns and the second for
                        the values that do not match the selected patterns. </p><p>In this scenario, we have already stored the main
                        input schema in the Repository. For more information about storing schema
                        metadata in the Repository, see <span class="bluebold">Talend Enterprise Studio</span>
                        <span class="bold"><strong>User Guide</strong></span>.</p><p>The main input table contains six columns:
                                <span class="emphasis"><em>ref_code</em></span>, <span class="emphasis"><em>ref_name</em></span>,
                                <span class="emphasis"><em>ref_address</em></span>, <span class="emphasis"><em>ref_zipcode</em></span>,
                                <span class="emphasis"><em>ref_city</em></span>, and <span class="emphasis"><em>ref_email</em></span>.
                        We want to check the entries in the <span class="emphasis"><em>ref_code</em></span>,
                                <span class="emphasis"><em>ref_zipcode</em></span> and <span class="emphasis"><em>ref_email</em></span>
                        columns against the given patterns.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the <span class="bold"><strong>Repository</strong></span> tree view,
                                        expand <span class="bold"><strong>Metadata</strong></span> - <span class="bold"><strong>DB Connections</strong></span> where you have
                                        stored the main input schema and drop the relevant file onto
                                        the design workspace.</p><p> The <span class="bold"><strong>[Components]</strong></span> dialog box
                                        displays with the corresponding component selected by
                                        default.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tRecordMatching.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Click <span class="bold"><strong>OK</strong></span> to drop the
                                                <span class="bold"><strong>tMysqlInput</strong></span>
                                        component onto the workspace. </p><p> The input table used in this scenario is called
                                                <span class="emphasis"><em>customer</em></span>. It holds several
                                        columns including the three columns
                                                <span class="emphasis"><em>ref_code</em></span>,
                                                <span class="emphasis"><em>ref_zipcode</em></span> and
                                                <span class="emphasis"><em>ref_email</em></span> against which we want
                                        to do a pattern check.</p></li><li class="listitem"><p>Drop the following components from the <span class="bold"><strong>Palette</strong></span> onto the design workspace:
                                                <span class="bold"><strong>tMultiPatternCheck</strong></span>
                                        and <span class="bold"><strong>tLogRow</strong></span> (x2).</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMultiPatternCheck.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Connect the main input components to <span class="bold"><strong>tMultiPatternCheck</strong></span> using a <span class="bold"><strong>Main</strong></span> link.</p></li><li class="listitem"><p>Connect <span class="bold"><strong>tMultiPatternCheck</strong></span> to
                                        the two <span class="bold"><strong>tLogrow </strong></span>components
                                        using the <span class="bold"><strong>Matches</strong></span>, and
                                                <span class="bold"><strong>Non Matches</strong></span>
                                        links.</p></li><li class="listitem"><p>Double-click the main input database component to display its
                                                <span class="bold"><strong>Basic settings</strong></span>
                                        views.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMultiPatternCheck1.png"></div><p>The property fields for <span class="bold"><strong>tMysqlInput </strong></span>are automatically filled in. If you do not
                        define your input schema locally in the Repository, fill in the details
                        manually after selecting <span class="bold"><strong>Built-in</strong></span> in the
                                <span class="bold"><strong>Schema</strong></span> and <span class="bold"><strong>Property Type</strong></span> fields.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Double-click <span class="bold"><strong>tMultiPatternCheck</strong></span> to display its
                                                <span class="bold"><strong>Basic settings</strong></span> view
                                        and define its properties. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMultiPatternCheck2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Click <span class="bold"><strong>Edit schema</strong></span> to open a
                                        dialog box. Here you can define the data you want to pass to
                                        the output components.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMultiPatternCheck3.png"></div><p>In this example we want to pass to the <span class="bold"><strong>tMultiPatternCheck</strong></span> component all the columns
                        in the main input columns.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Click <span class="bold"><strong>OK</strong></span> to close the dialog
                                        box and proceed to the next step.</p></li><li class="listitem"><p>Click in the <span class="bold"><strong>Check Pattern</strong></span>
                                        column and select from the list the pattern against which
                                        you want to check the data in the
                                                <span class="emphasis"><em>ref_code</em></span> column,
                                                <span class="emphasis"><em>Numeric</em></span> in this example.</p></li><li class="listitem"><p>Do the same to select patterns for the
                                                <span class="emphasis"><em>ref_zipcode</em></span> and
                                                <span class="emphasis"><em>ref_email</em></span> columns.</p><p> In this example, we want to check if all the data in the
                                                <span class="emphasis"><em>ref_zipcode</em></span> column are correct
                                        French postal codes and if customers&#8217; emails in the
                                                <span class="emphasis"><em>ref_email</em></span> column are valid
                                        addresses.</p></li><li class="listitem"><p>In the <span class="bold"><strong>Is Case Sensitive</strong></span>
                                        column, select the check boxes next to the column name where
                                        you want to consider, when doing the pattern check, the
                                        lower and upper cases.</p></li><li class="listitem"><p>In the <span class="bold"><strong>Check </strong></span>column, select
                                        the check boxes next to the column names you want to check
                                        against the defined patterns, <span class="emphasis"><em>ref_code</em></span>,
                                                <span class="emphasis"><em>ref_zipcode</em></span> and
                                                <span class="emphasis"><em>ref_email</em></span> in this
                                        example.</p></li><li class="listitem"><p>Double-click the first <span class="bold"><strong>tLogRow
                                        </strong></span>component to display its <span class="bold"><strong>Basic settings</strong></span> view and define its
                                        properties.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMultiPatternCheck4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the <span class="bold"><strong>Mode</strong></span> area, select the
                                                <span class="bold"><strong>Table</strong></span> option to
                                        print results in a table.</p></li><li class="listitem"><p>Do the same for the other <span class="bold"><strong>tLogRow</strong></span> component.</p></li><li class="listitem"><p>Save your Job and press <span class="bold"><strong>F6</strong></span> to
                                        execute it.</p></li></ul></div><p>Two output tables are written on the console. The
                        first lists the data entries in the three defined columns that match the
                        given pattern. The second lists non match entries in the three columns
                        according to the used patterns.</p><p>The figure below illustrates extractions of the
                        two output tables.</p><div class="mediaobject"><img src="../images/use_case-tmultipatterncheck5and6.png"></div></div></div></body></html>