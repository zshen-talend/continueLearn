<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tFileInputEBCDIC</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch10.html" title="Chapter&nbsp;10.&nbsp;File components"><link rel="prev" href="tFileInputDelimited.html" title="tFileInputDelimited"><link rel="next" href="tFileInputExcel.html" title="tFileInputExcel"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tFileInputEBCDIC"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tFileInputEBCDIC"></a>tFileInputEBCDIC</h2></div></div></div><div class="mediaobject"><img src="../images/tFileInputEBCDIC_icon32_white.png"></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
					<span class="emphasis"><em>This component requires an Oracle JDK to be functional.</em></span>
				</p></td></tr></table></div><div class="section" title="tFileInputEBCDIC properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e197612"></a>tFileInputEBCDIC properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>Component family</p>
								</td><td valign="top">
									<p>File/Input</p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Function</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p><span class="bold"><strong>tFileInputEBCDIC</strong></span> reads an
										EBCDIC file and extracts data depending on the selected
										schema. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Purpose</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p><span class="bold"><strong>tFileInputEBCDIC</strong></span> opens a
										file and reads it in order to separate the data, based on
										the file structure description (schemas), and to send the
										file data and metadata to the next Job component(s), via a
										Row link. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Property type</em></span>
									</p>
								</td><td valign="top">
									<p>Either <span class="bold"><strong>Built-in</strong></span> or
											<span class="bold"><strong>Repository</strong></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in</strong></span>: No property
										data stored centrally.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository</strong></span>: Select the
										repository file where the properties are stored. The fields
										that follow are completed automatically using the data
										retrieved.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema</em></span>(s)</p>
								</td><td valign="top">
									<p>Add the various schemas to output to the next Job
										component(s). </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Data file</em></span>
									</p>
								</td><td valign="top">
									<p>Select the EBCDIC file containing the data to be
										processed. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Xc2j file</em></span>
									</p>
								</td><td valign="top">
									<p>Select the xc2j file, transforming the EBCDIC schema(s)
										into an intermediary XML file. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStatCatcher Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box to gather the processing metadata at
										the Job level as well as at each component level.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Usage</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Use this component to read an EBCDIC file and to output
										the data separately depending on the schemas identified in
										the file. </p>
								</td></tr></tbody></table></div></div><div class="section" title="Scenario: Extracting data from an EBCDIC file and populating a database"><div class="titlepage"><div><div><h3 class="title"><a name="d0e197821"></a>Scenario: Extracting data from an EBCDIC file and populating a
					database</h3></div></div></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p> This scenario uses the<span class="bold"><strong> [Copybook Connection]
						</strong></span>wizard that guides users through the different steps necessary to
						create a Copybook connection and to retrieve the EBCDIC schemas. This wizard
						is available only for <span class="bold"><strong>Talend Enterprise
						</strong></span>users. If you are using <span class="bold"><strong>Talend Open Studio</strong></span> or <span class="bold"><strong>Talend Integration
							Express</strong></span>, you need to set the basic settings for the <span class="bold"><strong>tFileInputEBCDIC</strong></span> component manually. </p></td></tr></table></div><p>The following scenario is a four-component Job that aims at: reading an EBCDIC
					file which contains information concerning clients and their financial
					transactions, extracting and transforming this data, and finally creating two
					tables in a database, based on the two schemas, clients and transactions,
					extracted from the original EBCDIC file. </p><div class="mediaobject"><img src="../images/Use_Case_tFileInputEBCDIC1.png"></div><p>This Java scenario uses the EBCDIC Connection wizard to set up a connection to
					the Copybook file and to generate an xc2j file, which allows the retrieval and
					transformation of the different file schemas. </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Create a connection to the Copybook file, which describes the
							structure of your EBCDIC file. In this scenario, the Copybook connection
							is called EBCDIC. <span class="bluebold">Talend Open Studio</span>
							<span class="bold"><strong>User Guide</strong></span>.</p></li><li class="listitem"><p> Retrieve the file schemas. <span class="bluebold">Talend Open Studio</span>
							<span class="bold"><strong>User Guide</strong></span>.</p></li></ul></div><p>Once the Copybook connection has been created and the schemas retrieved, using
					the EBCDIC and Schema wizards, the new schemas appear under the node <span class="bold"><strong>Metadata</strong></span> &gt; <span class="bold"><strong>Copybook</strong></span>. They are called <span class="emphasis"><em>Schema01</em></span>,
						<span class="emphasis"><em>Schema04</em></span> and <span class="emphasis"><em>Schema05</em></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tFileInputEBCDIC2.png"></div><p>In order to retrieve the different file structures and to use them in
						<span class="bluebold">Talend Open Studio</span>:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Drop schema 01 from the <span class="bold"><strong>Repository</strong></span>
							tree view to the design workspace. This automatically creates the
								<span class="bold"><strong>tFileInputEBCDIC</strong></span> input
							component.</p></li><li class="listitem"><p> Drop the <span class="bold"><strong>tMysqlOutput</strong></span> component from
							the <span class="bold"><strong>Palette</strong></span> to the design
							workspace.</p></li><li class="listitem"><p> Double-click <span class="bold"><strong>tFileInputEBCDIC </strong></span>to
							display the <span class="bold"><strong>Basic settings</strong></span> view, then
							define the component properties:</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileInputEBCDIC3.png"></div><p>The metadata is automatically defined in the <span class="bold"><strong>Property
						Type</strong></span>, <span class="bold"><strong>Schema(s)</strong></span>, <span class="bold"><strong>Data file</strong></span> and <span class="bold"><strong>Xc2j
						file</strong></span> fields. The<span class="bold"><strong> Property Type</strong></span>
					field shows which metadata has been used for the component. The <span class="bold"><strong>Schema field</strong></span> shows which schema will be transmitted
					to the following component. The <span class="bold"><strong>Data file</strong></span> field
					shows the path to the file that holds the EBCDIC data. The <span class="bold"><strong>Xc2j file</strong></span> field shows the path to the file which enables to
					extract the schema describing the EBCDIC file structure. If you are in <span class="bold"><strong>Built-In</strong></span> mode, you have to fill these fields
					manually.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the design workspace, right-click <span class="bold"><strong>tFileInputEBCDIC</strong></span>, select <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>row_Schema01_1</strong></span>
							from the menu, then click <span class="bold"><strong>tMysqlOutput</strong></span>
							to connect the components together.</p></li><li class="listitem"><p> Double-click <span class="bold"><strong>tMysqlOutput</strong></span> to display
							the <span class="bold"><strong>Basic settings</strong></span> view, then define
							the component properties.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileInputEBCDIC4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the <span class="bold"><strong>Property Type</strong></span> list, select
								<span class="bold"><strong>Repository</strong></span> and click the button
								<span class="bold"><strong>[...]</strong></span>. Select the database
							connection you want to use, which is centralized in the metadata of the
							Repository. The <span class="bold"><strong>Host</strong></span>, <span class="bold"><strong>Port</strong></span>, <span class="bold"><strong>Database</strong></span>, <span class="bold"><strong>Username</strong></span> and
								<span class="bold"><strong>Password</strong></span> fields are automatically
							filled. If you are in <span class="bold"><strong>Built-In</strong></span> mode,
							you have to fill these fields manually.</p></li><li class="listitem"><p> In the <span class="bold"><strong>Table</strong></span> field, enter the name
							of the table to be created, which will contain the data extracted from
							the EBCDIC file.</p></li><li class="listitem"><p> In the <span class="bold"><strong>Action on table</strong></span> field, select
							the option <span class="bold"><strong>Create table</strong></span>.</p></li></ul></div><p>At this stage, the Job retrieves the schema <span class="emphasis"><em>Schema01</em></span> from
					the EBCDIC file and transfers it, as well as the corresponding data, to the
					database. We now need to retrieve, from the EBCDIC file, the schema 04 and its
					data, then transform and transmit the data to the same database. To do
					this:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Drop the <span class="bold"><strong>tMap</strong></span> and <span class="bold"><strong>tMysqlOutputBulkExec</strong></span> components to the design
							workspace.</p></li><li class="listitem"><p> Double-click the <span class="bold"><strong>tFileInputEBCDIC</strong></span> to
							display the <span class="bold"><strong>Basic settings</strong></span> view, then
							define the component properties.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileInputEBCDIC5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the <span class="bold"><strong>Schema(s)</strong></span> field, click the
							plus button to add a line.</p></li><li class="listitem"><p> Click in this line and then click the three-dot button that displays
							to open a dialog box. Select the <span class="bold"><strong>Create schema
								from repository</strong></span> button to retrieve the schema defined in
							the EBCDIC metadata, then select <span class="emphasis"><em>Shema04</em></span> from the
							drop-down list. </p></li><li class="listitem"><p> Click <span class="bold"><strong>OK</strong></span> to close the dialog
							box.</p></li><li class="listitem"><p> If you did not retrieve the schema from the <span class="bold"><strong>Repository</strong></span> tree view, select <span class="bold"><strong>Create schema for built-in</strong></span> and manually enter the name
							and description of your schema.</p><p> The two schemas <span class="emphasis"><em>Shema01</em></span> and
								<span class="emphasis"><em>Schema04</em></span> appear in the Schema(s) field of the
								<span class="bold"><strong>tFileInputEBCDIC</strong></span> component. </p></li><li class="listitem"><p> In order to connect these two components, right-click <span class="bold"><strong>tFileInputEBCDIC</strong></span>, select <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>row_Schema04_1</strong></span> in the menu and click the<span class="bold"><strong> tMap</strong></span> component. Then right-click <span class="bold"><strong>tMap</strong></span>, drag a link over to <span class="bold"><strong>tMysqlOutputBulkExec</strong></span> and release the
							right-click button. In the dialog box that opens up, fill in the name of
							the <span class="emphasis"><em>ebcdic_04</em></span> output file.</p></li><li class="listitem"><p> Double-click<span class="bold"><strong> tMap</strong></span> to open up the
								<span class="bold"><strong>tMap Editor</strong></span>. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileInputEBCDIC6.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Select all the columns from the <span class="bold"><strong>row_Schema04_1</strong></span> table and drag them towards the <span class="bold"><strong>ebcdic_04</strong></span> table.</p></li><li class="listitem"><p> In the table <span class="bold"><strong>ebcdic_04</strong></span>, located in
							the <span class="bold"><strong>Schema editor</strong></span> area at the bottom of
							the editor, click the <span class="bold"><strong>plus</strong></span> button to
							add a column to the schema. Name this column
								<span class="emphasis"><em>SUM_AG_NUMBER</em></span>.</p></li><li class="listitem"><p> In the table <span class="bold"><strong>row_Schema04_1</strong></span>, to the
							left of the editor, press <span class="bold"><strong>Ctrl</strong></span> and
							select the <span class="bold"><strong>CC01404_L_11_MENAG_1_1</strong></span> and
								<span class="bold"><strong>CC01404_AG_CAM_1_1</strong></span> columns. Drag
							them to the new column <span class="emphasis"><em>SUM_AG_NUMBER</em></span> in table
								<span class="bold"><strong>ebcdic_04</strong></span>. Add the sign + between
							the two concatenated columns so that you have:
								<code class="code">row_04_1.CC01404_L_11_MENAG_1_1&nbsp;+&nbsp;row_04_1.CC01404_AG_CAM_1_1</code>.</p></li><li class="listitem"><p> Click <span class="bold"><strong>OK</strong></span> to validate your changes
							and close the editor.</p></li><li class="listitem"><p> In the design workspace, double-click <span class="bold"><strong>tMysqlOutputBulkExec</strong></span> to display the <span class="bold"><strong>Basic settings</strong></span> view, then define the
							component properties:</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFileInputEBCDIC7.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the <span class="bold"><strong>Property Type</strong></span> list, select
								<span class="bold"><strong>Repository </strong></span>and click the three-dot
							button to display a dialog bow where you can select the database
							connection you want to use, which is centralized in the <span class="bold"><strong>Metadata</strong></span> folder of the <span class="bold"><strong>Repository</strong></span> tree view. The <span class="bold"><strong>Host</strong></span>, <span class="bold"><strong>Port</strong></span>, <span class="bold"><strong>Database</strong></span>, <span class="bold"><strong>Username</strong></span> and <span class="bold"><strong>Password</strong></span>
							fields are automatically filled. If you are in <span class="bold"><strong>Built-In</strong></span> mode, you have to fill these fields
							manually.</p></li><li class="listitem"><p> In the <span class="bold"><strong>Table</strong></span> field, enter the name
							of the table to be created, which will contain the data extracted from
							the EBCDIC file.</p></li><li class="listitem"><p> In the <span class="bold"><strong>Action on table</strong></span> field, select
							the option <span class="bold"><strong>Create table</strong></span>.</p></li><li class="listitem"><p> Press <span class="bold"><strong>Ctrl+S</strong></span> to save your Job and
							click the <span class="bold"><strong>Run</strong></span> view. Select the
								<span class="bold"><strong>Statistics</strong></span> and <span class="bold"><strong>Exec time</strong></span> check boxes, then click <span class="bold"><strong>Run</strong></span> to execute the Job.</p></li></ul></div><p>The two tables are created in the database. They contain the structure, as
					well as the clients and transaction data, from the original EBCDIC file.</p><div class="mediaobject"><img src="../images/use_case_tfileinputebcdic8.png"></div><div class="mediaobject"><img src="../images/Use_Case_tFileInputEBCDIC9.png"></div></div></div></body></html>