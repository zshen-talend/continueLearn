<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tBarChart</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch02.html" title="Chapter&nbsp;2.&nbsp;Business Intelligence components"><link rel="prev" href="ch02.html" title="Chapter&nbsp;2.&nbsp;Business Intelligence components"><link rel="next" href="tDB2SCD.html" title="tDB2SCD"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tBarChart"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tBarChart"></a>tBarChart</h2></div></div></div><div class="mediaobject"><img src="../images/tBarChart_icon32_white.png"></div><div class="section" title="tBarChart properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20204"></a>tBarChart properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Component family</strong></span>
									</p>
								</td><td valign="top">
									<p>Business Intelligence/Charts</p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Function</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p><span class="bold"><strong>tBarChart</strong></span> reads data from
										an input flow and transforms the data into a bar chart in a
										PNG image file.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Purpose</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p><span class="bold"><strong>tBarChart</strong></span> generates a bar
										chart from the input data to ease technical analysis.
									</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
											schema</em></span></p>
								</td><td valign="top">
									<p>A schema is a row description, i.e., it defines the number
										of fields to be processed and passed on to the next
										component. The schema is either built-in or remotely stored
										in the Repository. </p>
									<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>The schema of <span class="bold"><strong>tBarChart</strong></span> contains three read-only
											columns named <span class="bold"><strong>series</strong></span>
											(string), <span class="bold"><strong>category</strong></span>
											(string), and <span class="bold"><strong>value</strong></span>
											(integer) respectively, in a fixed order. The data in
											any extra columns will be only passed to the next
											component, if any, without being presented in the bar
											chart.</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in</strong></span>: The schema is
										created and stored locally for this component only. Related
										topic: see <span class="bluebold">Talend Open Studio</span>
										<span class="bold"><strong>User Guide</strong></span>. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository</strong></span>: The schema
										already exists and is stored in the Repository, hence can be
										reused. Related topic: see <span class="bluebold">Talend Open Studio</span>
										<span class="bold"><strong>User Guide</strong></span>. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Sync columns</em></span>
									</p>
								</td><td valign="top">
									<p>Click to synchronize the output file schema with the input
										file schema. The Sync function only displays once the
											<span class="bold"><strong>Row</strong></span> connection is
										linked with the output component.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Generated image path</em></span>
									</p>
								</td><td valign="top">
									<p>Name and path of the output image file. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Chart title</em></span>
									</p>
								</td><td valign="top">
									<p>Enter the title of the bar chart to be generated.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Include legend</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box if you want the bar chart to include
										a legend, indicating all series in different colors.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>3Dimensions</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box to create an image with 3D effect.
										By default, this check box is selected and the bars
										representing the series of each category will be stacked one
										over another. If this check box is cleared, a 2D image will
										be created, with the bars displayed one besides another
										along the category axis. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Image width</em></span> and <span class="emphasis"><em>Image
											height</em></span>
									</p>
								</td><td valign="top">
									<p>Enter the width and height of the image file, in
										pixels.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Category axis name</em></span> and
											<span class="emphasis"><em>Value axis name</em></span></p>
								</td><td valign="top">
									<p>Enter the category axis name and value axis name.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Foreground alpha</em></span>
									</p>
								</td><td valign="top">
									<p>Enter an integer in the range of <span class="emphasis"><em>0</em></span> to
											<span class="emphasis"><em>100</em></span> to define the transparency of
										the image. The smaller the number you enter, the more
										transparent the image will be.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Plot orientation</em></span>
									</p>
								</td><td valign="top">
									<p>Select the plot orientation of the bar chart: <span class="bold"><strong>VERTICAL</strong></span> or <span class="bold"><strong>HORIZONTAL</strong></span>.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStat</em></span>
										<span class="emphasis"><em>Catcher Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box to collect log data at the component
										level.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Usage</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>This component is mainly used as Output component. It
										requires an Input component and <span class="bold"><strong>Row</strong></span> main link as input.</p>
								</td></tr></tbody></table></div></div><div class="section" title="Scenario: Creating a bar chart from the input data"><div class="titlepage"><div><div><h3 class="title"><a name="d0e20580"></a>Scenario: Creating a bar chart from the input data</h3></div></div></div><p>This scenario describes a simple Job that reads data from a CSV file and
					transforms the data into a bar chart. The input file is shown below:</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tBarChart01.png" align="middle"></div><p>Because the input file has a different structure than the one required by the
						<span class="bold"><strong>tBarChart</strong></span> component, this use case uses the
						<span class="bold"><strong>tMap</strong></span> component to map the data to a
					three-column CSV file before using the <span class="bold"><strong>tBarChart</strong></span> component to generate a bar chart file. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>You will usually use the <span class="bold"><strong>tMap</strong></span> component
						to adjust the input schema in accordance with the schema structure of the
							<span class="bold"><strong>tBarChart</strong></span> component. For more
						information about how to use the <span class="bold"><strong>tMap</strong></span>
						component, see <span class="bluebold">Talend Open Studio</span>
						<span class="bold"><strong>User Guide</strong></span> and <a class="xref" href="tMap.html" title="tMap">the section called &#8220;tMap&#8221;</a>.</p></td></tr></table></div><div class="mediaobject" align="center"><img src="../images/Use_Case_tBarChart02.png" align="middle"></div><div class="section" title="Setting the input data"><div class="titlepage"><div><div><h4 class="title"><a name="d0e20623"></a>Setting the input data</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drop the following components from the <span class="bold"><strong>Palette</strong></span> to the design workspace: two <span class="bold"><strong>tFileInputDelimited</strong></span> components, a
									<span class="bold"><strong>tMap</strong></span>, three <span class="bold"><strong>tFileOutputDelimited</strong></span> components, and a
									<span class="bold"><strong>tBarChart</strong></span>. Relabel the
								components to best describe their functionality.</p></li><li class="step" title="Step 2"><p>Double-click the first <span class="bold"><strong>tFileInputDelimited</strong></span> component to display its
									<span class="bold"><strong>Basic settings</strong></span> view.</p><div class="mediaobject"><img src="../images/Use_Case_tBarChart03_tos.png"></div></li><li class="step" title="Step 3"><p>Fill in the <span class="bold"><strong>File name</strong></span> field by
								browsing to the input file.</p></li><li class="step" title="Step 4"><p>In the <span class="bold"><strong>Header</strong></span> field, specify the
								number of header rows. In this use case, you have only one header
								row.</p></li><li class="step" title="Step 5"><p>Leave the other parameters as they are.</p></li><li class="step" title="Step 6"><p>Click <span class="bold"><strong>Edit schema</strong></span> to describe the
								data structure of the input file. In this use case, the input schema
								is made of four columns: <span class="emphasis"><em>City</em></span>,
									<span class="emphasis"><em>Population</em></span>, <span class="emphasis"><em>Area</em></span>, and
									<span class="emphasis"><em>Density</em></span>. Upon defining the column names and
								data types, click <span class="bold"><strong>OK</strong></span> to close the
								schema dialog box.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tBarChart04.png" align="middle"></div></li></ol></div></div><div class="section" title="Setting the mapping"><div class="titlepage"><div><div><h4 class="title"><a name="d0e20696"></a>Setting the mapping</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Connect the <span class="bold"><strong>tFileInputDelimited</strong></span>
								to the <span class="bold"><strong>tMap</strong></span> using a <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Main</strong></span> connection.</p></li><li class="step" title="Step 2"><p>Double-click the <span class="bold"><strong>tMap</strong></span> to open the
									<span class="bold"><strong>Map Editor</strong></span>.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tBarChart05.png" align="middle"></div></li><li class="step" title="Step 3"><p>Click the green plus button on top of the output panel to add
								three output tables: <span class="emphasis"><em>Population</em></span>,
									<span class="emphasis"><em>Area</em></span>, and <span class="emphasis"><em>Density</em></span>.
								These output table names will appear as the labels of the
								connections linking the <span class="bold"><strong>tMap</strong></span> to the
								output components on the design workspace.</p></li><li class="step" title="Step 4"><p>Use the <span class="bold"><strong>Schema editor</strong></span> to add
								three columns to each output table: <span class="emphasis"><em>series</em></span>
								(string), <span class="emphasis"><em>category</em></span> (string), and
									<span class="emphasis"><em>value</em></span> (integer).</p></li><li class="step" title="Step 5"><p>In the relevant <span class="bold"><strong>Expression</strong></span> field
								of the output tables, enter the series names, as shown above. These
								series names will appear in the legend of the bar chart. </p></li><li class="step" title="Step 6"><p>Drop the <span class="emphasis"><em>City</em></span> column of the input table onto
								the <span class="emphasis"><em>category</em></span> column of each output table.
							</p></li><li class="step" title="Step 7"><p>Drop the <span class="emphasis"><em>Population</em></span> column of the input table
								onto the <span class="emphasis"><em>value</em></span> column of the
									<span class="emphasis"><em>Population</em></span> table. </p></li><li class="step" title="Step 8"><p>Drop the <span class="emphasis"><em>Area</em></span> column of the input table onto
								the <span class="emphasis"><em>value</em></span> column of the
									<span class="emphasis"><em>Area</em></span> table. </p></li><li class="step" title="Step 9"><p>Drop the <span class="emphasis"><em>Density</em></span> column of the input table
								onto the <span class="emphasis"><em>value</em></span> column of the
									<span class="emphasis"><em>Density</em></span> table. </p></li><li class="step" title="Step 10"><p>Click <span class="bold"><strong>OK</strong></span> to save the mappings and
								close the <span class="bold"><strong>Map Editor</strong></span>.</p></li></ol></div></div><div class="section" title="Setting the output data"><div class="titlepage"><div><div><h4 class="title"><a name="d0e20817"></a>Setting the output data</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Right click the <span class="bold"><strong>tMap</strong></span> component
								and select <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Population</strong></span> to connect it to the first
									<span class="bold"><strong>tFileOutputDelimited</strong></span> component.
							</p></li><li class="step" title="Step 2"><p>Connect the <span class="bold"><strong>tMap</strong></span> to the other
									<span class="bold"><strong>tFileOutputDelimited</strong></span> components
								in the same way but by selecting <span class="bold"><strong>Area</strong></span> and <span class="bold"><strong>Density</strong></span>
								respectively.</p></li><li class="step" title="Step 3"><p>Double-click the first <span class="bold"><strong>tFileOutputDelimited</strong></span> component to display its
									<span class="bold"><strong>Basic settings</strong></span> view.</p><div class="mediaobject"><img src="../images/Use_Case_tBarChart06_tos.png"></div></li><li class="step" title="Step 4"><p>In the <span class="bold"><strong>File Name</strong></span> field, define a
								CSV file to send the mapped data flows to. In this use case, we name
								the output file to be created
									<span class="emphasis"><em>LargeCities_mapped.csv</em></span>. This file will be
								used as the input to the <span class="bold"><strong>tBarChart</strong></span>
								component. If an existing file name is specified, make sure that the
									<span class="bold"><strong>Append</strong></span> check box is
								cleared.</p></li><li class="step" title="Step 5"><p>Leave the other parameters as they are.</p></li><li class="step" title="Step 6"><p>For the other two <span class="bold"><strong>tFileOutputDelimited</strong></span> components, use the same file
								path as defined for the first <span class="bold"><strong>tFileOutputDelimited</strong></span> component, and select the
									<span class="bold"><strong>Append</strong></span> check box.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Make sure that the <span class="bold"><strong>Append</strong></span>
									check box is selected so that all the mapped data flows will go
									to the same file without overwriting the existing data.</p></td></tr></table></div></li></ol></div></div><div class="section" title="Setting the input data for tBarChart"><div class="titlepage"><div><div><h4 class="title"><a name="d0e20899"></a>Setting the input data for tBarChart</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Connect the first <span class="bold"><strong>tFileInputDelimited</strong></span> component to the second
									<span class="bold"><strong>tFileInputDelimited</strong></span> component
								using a <span class="bold"><strong>Trigger</strong></span> &gt; <span class="bold"><strong>OnSubjobOK</strong></span> connection.</p></li><li class="step" title="Step 2"><p>Connect the second <span class="bold"><strong>tFileInputDelimited</strong></span> component to the <span class="bold"><strong>tBarChart</strong></span> using a <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Main</strong></span>
								connection. </p></li><li class="step" title="Step 3"><p>Double-click the second <span class="bold"><strong>tFileInputDelimited</strong></span> component to display its
									<span class="bold"><strong>Basic settings</strong></span> view.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tBarChart07.png" align="middle"></div></li><li class="step" title="Step 4"><p>Fill in the <span class="bold"><strong>File name</strong></span> field with
								the file path and name defined in the <span class="bold"><strong>Basic
									settings</strong></span> view of each of the <span class="bold"><strong>tFileOutputDelimited</strong></span> components. In this use case,
								the input file to the <span class="bold"><strong>tBarChart</strong></span> is
									<span class="emphasis"><em>LargeCities_mapped.csv</em></span>.</p></li><li class="step" title="Step 5"><p>Leave the other parameters as they are. </p><p> As the input schema needs to have a structure required by the
									<span class="bold"><strong>tBarChart</strong></span> component, we will
								copy the structure from the schema of the <span class="bold"><strong>tBarChart</strong></span> component. </p></li></ol></div></div><div class="section" title="Configuring the tBarChart component"><div class="titlepage"><div><div><h4 class="title"><a name="d0e20974"></a>Configuring the tBarChart component</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Double-click the <span class="bold"><strong>tBarChart</strong></span>
								component to display its <span class="bold"><strong>Basic
									settings</strong></span> view.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tBarChart08.png" align="middle"></div></li><li class="step" title="Step 2"><p>In the <span class="bold"><strong>Generated image path</strong></span>
								field, define the file path of the image file to be generated.
							</p></li><li class="step" title="Step 3"><p>In the <span class="bold"><strong>Chart title</strong></span> field, define
								a title for the bar chart. </p></li><li class="step" title="Step 4"><p>Define the category and series axis names. </p></li><li class="step" title="Step 5"><p>Define the size and transparency degree of the image if needed. In
								this use case, we simply use the default settings.</p></li><li class="step" title="Step 6"><p>Click <span class="bold"><strong>Edit schema</strong></span> to open the
								schema dialog box.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tBarChart09.png" align="middle"></div></li><li class="step" title="Step 7"><p>Copy all the columns from the output schema to the input schema by
								clicking the left-pointing double arrow button. Then, click
									<span class="bold"><strong>OK</strong></span> to close the schema dialog
								box.</p></li></ol></div></div><div class="section" title="Job execution"><div class="titlepage"><div><div><h4 class="title"><a name="d0e21023"></a>Job execution</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Save your Job.</p></li><li class="step" title="Step 2"><p>Press <span class="bold"><strong>F6</strong></span> to launch it. </p><p> A bar chart is generated as defined. </p><div class="mediaobject" align="center"><img src="../images/Use_Case_tBarChart10.png" align="middle"></div></li></ol></div></div></div></div></body></html>