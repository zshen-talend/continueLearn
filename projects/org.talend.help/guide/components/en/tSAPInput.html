<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tSAPInput</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Enterprise"><link rel="up" href="ch01.html" title="Chapter&nbsp;1.&nbsp;Business components"><link rel="prev" href="tSAPIDocOutput.html" title="tSAPIDocOutput"><link rel="next" href="tSAPOutput.html" title="tSAPOutput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tSAPInput"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tSAPInput"></a>tSAPInput</h2></div></div></div><div class="mediaobject"><img src="../images/tSAPInput_icon32_white.png"></div><div class="section" title="tSAPInput Properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e17768"></a>tSAPInput Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Component family</strong></span>
									</p>
								</td><td valign="top">
									<p>Business </p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Function</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p><span class="bold"><strong>tSAPInput</strong></span> connects to the
										SAP system using the system IP address.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Purpose</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p><span class="bold"><strong>tSAPInput</strong></span> allows to
										extract data from an SAP system at any level through calling
										RFC or BAPI functions.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Property type</em></span>
									</p>
								</td><td valign="top">
									<p>Either <span class="bold"><strong>Built-in</strong></span> or
											<span class="bold"><strong>Repository</strong></span>:</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in</strong></span>: No property
										data stored centrally.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository</strong></span>: Select the
										Repository file where Properties are stored. The fields that
										come after are pre-filled in using the fetched data.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<div class="mediaobject"><img src="../images/Save_Icon.png"></div>
								</td><td valign="top">
									<p>Click this icon to open a connection wizard and store the
										Excel file connection parameters you set in the component
											<span class="bold"><strong>Basic settings
										</strong></span>view.</p>
									<p> For more information about setting up and storing file
										connection parameters, see <span class="bluebold">Talend Enterprise Studio</span>
										<span class="bold"><strong>User Guide</strong></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Use an existing connection</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box and click the relevant connection
										component on the <span class="bold"><strong>Component</strong></span>
										list to reuse the connection details you already
										defined.</p>
									<p> </p>
									<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>When a Job contains the parent Job and the child Job,
												<span class="bold"><strong>Component list</strong></span>
											presents only the connection components in the same Job
											level, so if you need to use an existing connection from
											the other level, you can use <span class="bold"><strong>Dynamic settings</strong></span> to share the intended
											connection. In this case, make sure that the connection
											name is unique and distinctive. For more information
											about <span class="bold"><strong>Dynamic settings</strong></span>,
											see your studio user guide.</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Connection configuration</em></span>
									</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Client type</strong></span>: Enter your
										SAP usual connection code</p>
									<p>
										<span class="bold"><strong>Userid:</strong></span> Enter the user
										connection Id.</p>
									<p>
										<span class="bold"><strong>Password</strong></span>: Enter the
										password.</p>
									<p>
										<span class="bold"><strong>Language</strong></span>: Specify a
										language.</p>
									<p>
										<span class="bold"><strong>Host name</strong></span> Enter the SAP
										system IP address.</p>
									<p>
										<span class="bold"><strong>System number</strong></span> Enter the
										system number.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>FunName</em></span>
									</p>
								</td><td valign="top">
									<p>Enter the name of the function you want to use to retrieve
										data.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Initialize input</em></span>
									</p>
								</td><td valign="top">
									<p>Set input parameters.</p>
									<p>
										<span class="bold"><strong>Parameter Value</strong></span>: Enter
										between inverted commas the value that corresponds to the
										parameter you set in the <span class="bold"><strong>Parameter
											Name</strong></span> column.</p>
									<p>
										<span class="bold"><strong>Type</strong></span>: Select the type of
										the input entity to retrieve.</p>
									<p>
										<span class="bold"><strong>Table Name (Structure
										Name)</strong></span>: Enter between inverted commas the table
										name.</p>
									<p>
										<span class="bold"><strong>Parameter Name</strong></span>: Enter
										between in,verted commas the name of the field that
										corresponds to the table set in the <span class="bold"><strong>Table Name</strong></span> column.</p>
									<p> </p>
									<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>When you need different parameter values using the
											same parameter name, you should enter these values in
											one row and delimit them with comma.</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Outputs</em></span>
									</p>
								</td><td valign="top">
									<p>Configure the parameters of the output schema to select
										the data to be extracted:</p>
									<p>
										<span class="bold"><strong>Schema</strong></span>: Enter the output
										schema name.</p>
									<p>
										<span class="bold"><strong>Type (for iterate)</strong></span>: Select
										the type of the output entity you want to have.</p>
									<p>
										<span class="bold"><strong>Table Name (Structure
										Name)</strong></span>: Enter between inverted commas the table
										name.</p>
									<p>
										<span class="bold"><strong>Mapping</strong></span>: Enter between
										inverted commas the name of the field you want to retrieve
										data from.</p>
									<p> </p>
									<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>You can set as many outgoing <span class="bold"><strong>Main</strong></span> links used to output data as
											schemas you added to this <span class="bold"><strong>Outputs</strong></span> table. This way, data can be
											grouped into different files.</p></td></tr></table></div>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Connections</strong></span>
									</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>Outgoing links (from one component to another):</p>
									<p>
										<span class="bold"><strong>Row</strong></span>: Main, Iterate.</p>
									<p>
										<span class="bold"><strong>Trigger</strong></span>: Run if; On
										Component Ok; On Component Error, On Subjob Ok, On Subjob
										Error.</p>
									<p> </p>
									<p> Incoming links (from one component to another):</p>
									<p>
										<span class="bold"><strong>Row</strong></span>: Iterate</p>
									<p>
										<span class="bold"><strong>Trigger</strong></span>: Run if, On
										Component Ok, On Component Error, On Subjob Ok, On Subjob
										Error </p>
									<p> </p>
									<p> For further information regarding connections, see
											<span class="bluebold">Talend Enterprise Studio</span>
										<span class="bold"><strong>User Guide</strong></span>.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Release Connection</em></span>
									</p>
								</td><td valign="top">
									<p>Clear this check box to continue to use the selected
										connection once the component has performed its task.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStatCatcher Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box to gather the Job processing
										metadata at a Job level as well as at each component
										level.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Usage</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Usually used as a Start component. An output component is
										required. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Limitation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>n/a</p>
								</td></tr></tbody></table></div></div><div class="section" title="Scenario 1: Retrieving metadata from the SAP system"><div class="titlepage"><div><div><h3 class="title"><a name="Raa24919"></a>Scenario 1: Retrieving metadata from the SAP system</h3></div></div></div><p>Talend SAP components
						(<span class="bold"><strong>tSAPInput</strong></span> and <span class="bold"><strong>tSAPOutput</strong></span>) as well as the SAP wizard are based on a library
					validated and provided by SAP (JCO) that allows the user to call functions and
					retrieve data from the SAP system at Table, RFC or BAPI, levels.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This scenario uses the SAP wizard that leads a user through dialog steps
						to create SAP connection and call RFC and BAPI functions. This SAP wizard is
						available only for <span class="bold"><strong>Talend Enterprise
						</strong></span>users. If you are a user of <span class="bold"><strong>Talend Open
							Studio</strong></span> or <span class="bold"><strong>Talend Integration
							Express</strong></span>, you need to set the basic settings for the <span class="bold"><strong>tSAPInput</strong></span> component manually.</p></td></tr></table></div><p>This scenario uses the SAP wizard to first create a connection to the SAP
					system, and then call a BAPI function to retrieve the details of a company from
					the SAP system. It finally displays in <span class="bluebold">Talend Enterprise Studio</span> the company details stored in the SAP
					system.</p><p>The following figure shows the company detail parameters stored in the SAP
					system and that we want to read in <span class="bluebold">Talend Enterprise Studio</span> using the <span class="bold"><strong>tSAPInput</strong></span> component.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput1_1.png" align="middle"></div><div class="section" title="Setting and configuring the SAP connection using wizard"><div class="titlepage"><div><div><h4 class="title"><a name="d0e18317"></a>Setting and configuring the SAP connection using wizard</h4></div></div></div><div class="procedure" title="Procedure&nbsp;1.6.&nbsp;Setting up the connection to the SAP system"><a name="d0e18320"></a><p class="title"><b>Procedure&nbsp;1.6.&nbsp;Setting up the connection to the SAP system</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Create a connection to the SAP system using the SAP connection
								wizard, in this scenario the SAP connection is called
									<span class="emphasis"><em>sap</em></span> and is saved in the <span class="bold"><strong>Metadata</strong></span> node. <span>For more information on how to set
									up a SAP connection using the wizard, see <span class="bluebold">Talend Enterprise Studio</span> User
									Guide.</span></p></li><li class="step" title="Step 2"><p>Call the BAPI function <span class="emphasis"><em>BAPI_COMPANY_GETDETAIL</em></span>
								using the SAP wizard to access the BAPI HTML document stored in the
								SAP system and see the company details. <span>For more information on how to call
									functions, see <span class="bluebold">Talend Enterprise Studio</span> User Guide.</span></p></li><li class="step" title="Step 3"><p>In the <span class="bold"><strong>Name filter</strong></span> field, type in
									<span class="emphasis"><em>BAPI</em></span>* and click the <span class="bold"><strong>Search</strong></span> button to display all available BAPI
								functions.</p></li><li class="step" title="Step 4"><p>Select <span class="emphasis"><em>BAPI_COMPANY_GETDETAIL</em></span> to display the
								schema that describes the company details.</p></li></ol></div><p>The three-tab view to the right of the wizard displays the metadata of the
							<span class="emphasis"><em>BAPI_COMPANY_GETDETAIL </em></span>function and allows you to
						set the necessary parameters.</p><p>The <span class="bold"><strong>Document</strong></span> view displays the SAP html
						document about the <span class="emphasis"><em>BAPI_COMPANY_GETDETAIL
						</em></span>function.</p><p>The <span class="bold"><strong>Parameter</strong></span> view provides information
						about the input and output parameters required by the
							<span class="emphasis"><em>BAPI_COMPANY_GETDETAIL </em></span>function to return
						values.</p><div class="procedure" title="Procedure&nbsp;1.7.&nbsp;Setting the input and output parameters using the wizard"><a name="d0e18389"></a><p class="title"><b>Procedure&nbsp;1.7.&nbsp;Setting the input and output parameters using the wizard</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>In the <span class="bold"><strong>Parameter</strong></span> view, click the
									<span class="bold"><strong>Input</strong></span> tab to list the input
								parameter(s). In this scenario, there is only one input parameter
								required by <span class="emphasis"><em>BAPI_COMPANY_GETDETAIL</em></span> and it is
								called <span class="emphasis"><em>COMPANYID</em></span>.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput1_2.png" align="middle"></div></li><li class="step" title="Step 2"><p>In the <span class="bold"><strong>Parameter</strong></span> view, click the
									<span class="bold"><strong>Output</strong></span> tab to list the output
								parameters returned by <span class="emphasis"><em>BAPI_COMPANY_GETDETAIL</em></span>.
								In this scenario, there are two output parameters:
									<span class="emphasis"><em>COMPANY_DETAIL </em></span>and
									<span class="emphasis"><em>RETURN.</em></span></p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput1_3.png" align="middle"></div><p>Each of these two &#8220;structure&#8221; parameters consists of numerous
								&#8220;single&#8221; parameters.</p><p>The <span class="bold"><strong>Test it</strong></span> view allows you to
								add or delete input parameters according to the called function. In
								this scenario, we want to retrieve the metadata of the
									<span class="emphasis"><em>COMPANY_DETAIL</em></span> &#8220;structure&#8221; parameter that
								consists of 14 &#8220;single&#8221; parameters.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput1_4.png" align="middle"></div></li><li class="step" title="Step 3"><p>In the <span class="bold"><strong>Value</strong></span> column of the
									<span class="bold"><strong>COMPANYID</strong></span> line in the first
								table, enter &#8220;<span class="emphasis"><em>000001</em></span>&#8221; to send back company data
								corresponding to the value 000001.</p></li><li class="step" title="Step 4"><p>In the <span class="bold"><strong>Output type</strong></span> list at the
								bottom of the wizard, select <span class="bold"><strong>output.table</strong></span>.</p></li><li class="step" title="Step 5"><p>Click <span class="bold"><strong>Launch</strong></span> at the bottom of the
								view to display the value of each &#8220;single&#8221; parameter returned by the
									<span class="emphasis"><em>BAPI_COMPANY_GETDETAIL </em></span>function.</p></li><li class="step" title="Step 6"><p>Click <span class="bold"><strong>Finish</strong></span> to close the wizard
								and create the connection.</p></li></ol></div><p>The <span class="emphasis"><em>sap</em></span> connection and the new schema <span class="bold"><strong>BAI_COMPANY_GETDETAIL </strong></span>display under the <span class="bold"><strong>SAP Connections</strong></span> node in the <span class="bold"><strong>Repository</strong></span> tree view. </p></div><div class="section" title="Retrieving different schemas of the SAP functions"><div class="titlepage"><div><div><h4 class="title"><a name="d0e18493"></a>Retrieving different schemas of the SAP functions</h4></div></div></div><div class="procedure"><p>To retrieve the different schemas of the <span class="bold"><strong>BAPI_COMPANY_GETDETAIL</strong></span> function, do the
							following:</p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Right-click <span class="bold"><strong>BAPI_COMPANY_GETDETAIL</strong></span> in the <span class="bold"><strong>Repository</strong></span> tree view and select <span class="bold"><strong>Retrieve schema</strong></span> in the contextual
								menu.</p></li><li class="step" title="Step 2"><p>In the open dialog box, select the schemas you want to retrieve,
									<span class="bold"><strong>COMPANY_DETAIL</strong></span> and <span class="bold"><strong>RETURN</strong></span> in this scenario.</p></li><li class="step" title="Step 3"><p>Click <span class="bold"><strong>Next</strong></span> to display the two
								selected schemas and then <span class="bold"><strong>Finish</strong></span> to
								close the dialog box.</p></li></ol></div><p>For more information about retrieving schemas,
						see <span class="bluebold">Talend Enterprise Studio</span> User Guide.</p><p>The two schemas display under the <span class="bold"><strong>BAPI_COMPANY_GETDETAIL</strong></span> function in the <span class="bold"><strong>Repository </strong></span>tree view.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput1_5.png" align="middle"></div></div><div class="section" title="Retrieving the company metadata"><div class="titlepage"><div><div><h4 class="title"><a name="d0e18549"></a>Retrieving the company metadata</h4></div></div></div><p>To retrieve the company metadata that corresponds to the 000001 value and
						display it in <span class="bluebold">Talend Enterprise Studio</span>, do the
						following:</p><div class="procedure" title="Procedure&nbsp;1.8.&nbsp;Setting up the Job"><a name="d0e18558"></a><p class="title"><b>Procedure&nbsp;1.8.&nbsp;Setting up the Job</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>In the <span class="bold"><strong>Repository</strong></span> tree view, drop
								the SAP connection you already created to the design workspace to
								open a dialog box where you can select <span class="bold"><strong>tSAPConnection</strong></span> from the component list and finally
								click <span class="bold"><strong>OK</strong></span> to close the dialog box.
								The <span class="bold"><strong>tSAPConnection</strong></span> component
								holding the SAP connection, <span class="emphasis"><em>sap </em></span>in this
								example, displays on the design workspace.</p></li><li class="step" title="Step 2"><p>Double-click <span class="bold"><strong>tSAPConnection</strong></span> to
								display the <span class="bold"><strong>Basic settings</strong></span> view and
								define the component properties.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput1_6.png" align="middle"></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>If you store connection details in the <span class="bold"><strong>Metadata</strong></span> node in the <span class="bold"><strong>Repository</strong></span> tree view, the <span class="bold"><strong>Repository</strong></span> mode is selected in the <span class="bold"><strong>Property Type</strong></span> list and the fields
									that follow are pre-filled. If not, you need to select <span class="bold"><strong>Built-in</strong></span> as &#8220;property type&#8221; and fill
									in the connection details manually.</p></td></tr></table></div></li><li class="step" title="Step 3"><p>In the <span class="bold"><strong>Repository</strong></span> tree-view,
								expand <span class="bold"><strong>Metadata</strong></span> and <span class="bold"><strong>sap</strong></span> in succession and drop <span class="bold"><strong>RFC_READ_TABLE</strong></span> to the design workspace to
								open a component list.</p></li><li class="step" title="Step 4"><p>Select <span class="bold"><strong>tSAPInput</strong></span> from the
								component list and click <span class="bold"><strong>OK</strong></span>.</p></li><li class="step" title="Step 5"><p>Drop <span class="bold"><strong>tFilterColumns</strong></span> and <span class="bold"><strong>tLogRow</strong></span> from the <span class="bold"><strong>Palette</strong></span> to the design workspace.</p></li><li class="step" title="Step 6"><p>Connect <span class="bold"><strong>tSAPConnection</strong></span> and
									<span class="bold"><strong>tSAPInput</strong></span> using a <span class="bold"><strong>Trigger</strong></span> &gt; <span class="bold"><strong>OnSubJobOk</strong></span> link</p></li><li class="step" title="Step 7"><p>To connect <span class="bold"><strong>tSAPInput</strong></span> and
									<span class="bold"><strong>tLogRow</strong></span>, right-click <span class="bold"><strong>tSAPInput</strong></span> and select <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>row_COMPANY_DETAIL_1</strong></span> and then click <span class="bold"><strong>tLogRow</strong></span>. </p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput1_7.png" align="middle"></div></li><li class="step" title="Step 8"><p>In the design workspace, double-click <span class="bold"><strong>tSAPInput</strong></span> to display its <span class="bold"><strong>Basic
									settings</strong></span> view and define the component
									properties<span class="bold"><strong>.</strong></span></p><p>The basic setting parameters for the <span class="bold"><strong>tSAPInput</strong></span> component display automatically since the
								schema is stored in the <span class="bold"><strong>Metadata</strong></span>
								node and the component is initialized by the SAP wizard. </p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput1_8.png" align="middle"></div></li><li class="step" title="Step 9"><p>Select the <span class="bold"><strong>Use an existing
									connection</strong></span> check box and then in the <span class="bold"><strong>Component List</strong></span>, select the relevant
									<span class="bold"><strong>tSAPConnection</strong></span> component,
									<span class="bold"><strong>sap</strong></span> in this scenario.</p></li></ol></div><p>In the <span class="bold"><strong>Initialize input</strong></span> area, we can see
						the input parameter needed by the <span class="emphasis"><em>BAPI_COMPANY_GETDETAIL
						</em></span>function.</p><p>In the <span class="bold"><strong>Outputs</strong></span> area, we can see all
						different schemas of the <span class="bold"><strong>BAPI_COMPANY_GETDETAIL</strong></span> function, in particular, <span class="bold"><strong>COMPANY_DETAIL </strong></span>that we want to
							output<span class="emphasis"><em>.</em></span>
					</p><div class="procedure" title="Procedure&nbsp;1.9.&nbsp;Job execution"><a name="d0e18743"></a><p class="title"><b>Procedure&nbsp;1.9.&nbsp;Job execution</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>In the design workspace, double-click <span class="bold"><strong>tLogRow</strong></span> to display the <span class="bold"><strong>Basic
									settings</strong></span> view and define the component properties.
								For more information about this component, see <a class="xref" href="tLogRow.html" title="tLogRow">the section called &#8220;tLogRow&#8221;</a>.</p></li><li class="step" title="Step 2"><p>Press <span class="bold"><strong>CTRL+S</strong></span> to save your Job and
								press <span class="bold"><strong>F6</strong></span> to execute it.</p></li></ol></div><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput1_9.png" align="middle"></div><p>The <span class="bold"><strong>tSAPInput</strong></span> component retrieved from
						the SAP system the metadata of the <span class="emphasis"><em>COMPANY_DETAIL
						</em></span>&#8220;structure&#8221; parameter and <span class="bold"><strong>tLogRow</strong></span> displayed the information on the console.</p></div></div><div class="section" title="Scenario 2: Reading data in the different schemas of the RFC_READ_TABLE function"><div class="titlepage"><div><div><h3 class="title"><a name="Raa85910"></a>Scenario 2: Reading data in the different schemas of the RFC_READ_TABLE
					function</h3></div></div></div><p>Talend SAP components
						(<span class="bold"><strong>tSAPInput</strong></span> and <span class="bold"><strong>tSAPOutput</strong></span>) as well as the SAP wizard are based on a library
					validated and provided by SAP (JCO) that allows the user to call functions and
					retrieve data from the SAP system at Table, RFC or BAPI, levels.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>This scenario uses the SAP wizard that leads a user through dialog steps
						to create a SAP connection and call RFC and BAPI functions. This SAP wizard
						is available only for <span class="bold"><strong>Talend Enterprise</strong></span> users. If
						you are a user of <span class="bold"><strong>Talend Enterprise Studio</strong></span> or
							<span class="bold"><strong>Talend Integration Express</strong></span>, you need to set the
						basic settings for the<span class="bold"><strong> tSAPInput</strong></span> component
						manually.</p></td></tr></table></div><p>This scenario uses the SAP wizard to first create a connection to the SAP
					system, and then call an RFC function to directly read from the SAP system a
					table called <span class="emphasis"><em>SFLIGHT</em></span>. It finally displays in <span class="bluebold">Talend Enterprise Studio</span> the structure of the
						<span class="emphasis"><em>SFLIGHT</em></span> table stored in the SAP system.</p><div class="section" title="Setting and configuring the SAP connection using wizard"><div class="titlepage"><div><div><h4 class="title"><a name="d0e18824"></a>Setting and configuring the SAP connection using wizard</h4></div></div></div><div class="procedure" title="Procedure&nbsp;1.10.&nbsp;Setting up the connection to the SAP system"><a name="d0e18827"></a><p class="title"><b>Procedure&nbsp;1.10.&nbsp;Setting up the connection to the SAP system</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Create a connection to the SAP system using the SAP connection
								wizard, in this scenario the SAP connection is called
									<span class="emphasis"><em>sap</em></span><span class="emphasis"><em>.</em></span>
								<span>For more information on how to
									set up an SAP connection using the wizard, see <span class="bluebold">Talend Enterprise Studio</span> User
									Guide.</span></p></li><li class="step" title="Step 2"><p>Call the <span class="emphasis"><em>RFC_READ_TABLE</em></span> RFC function using
								the SAP wizard to access the table in the SAP system and see its
								structure. <span>For more information
									on how to call functions, see <span class="bluebold">Talend Enterprise Studio</span> User Guide.</span></p></li><li class="step" title="Step 3"><p>In the <span class="bold"><strong>Name filter</strong></span> field, type in
									<span class="emphasis"><em>RFC</em></span>* and click the <span class="bold"><strong>Search</strong></span> button to display all available RFC
								functions.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput2_1.png" align="middle"></div></li><li class="step" title="Step 4"><p>Select <span class="emphasis"><em>RFC_READ_TABLE</em></span> to display the schema
								that describe the table structure.</p></li></ol></div><p>The three-tab view to the right of the wizard displays the metadata of the
							<span class="emphasis"><em>RFC_READ_TABLE </em></span>function and allows you to set the
						necessary parameters.</p><p>The <span class="bold"><strong>Document</strong></span> view displays the SAP html
						document about the <span class="emphasis"><em>RFC_READ_TABLE </em></span>function.</p><p>The <span class="bold"><strong>Parameter</strong></span> view provides information
						about the parameters required by the <span class="emphasis"><em>RFC_READ_TABLE
						</em></span>function to return parameter values.</p><div class="procedure" title="Procedure&nbsp;1.11.&nbsp;Setting the input and output parameters using the wizard"><a name="d0e18898"></a><p class="title"><b>Procedure&nbsp;1.11.&nbsp;Setting the input and output parameters using the wizard</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p> In the <span class="bold"><strong>Parameter</strong></span> view, click the
									<span class="bold"><strong>Table</strong></span> tab to show a description
								of the structure of the different tables of the
									<span class="emphasis"><em>RFC_READ_TABLE</em></span> function.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput2_3.png" align="middle"></div><p>The <span class="bold"><strong>Test it</strong></span> view allows you to
								add or delete input parameters according to the called function. In
								this example, we want to retrieve the structure of the
									<span class="emphasis"><em>SFLIGHT</em></span> table and not any data.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput2_2.png" align="middle"></div></li><li class="step" title="Step 2"><p>In the <span class="bold"><strong>Value</strong></span> column of the
									<span class="bold"><strong>DELIMITER</strong></span> line, enter &#8220;;&#8221; as
								field separator.</p></li><li class="step" title="Step 3"><p>In the <span class="bold"><strong>Value</strong></span> column of the
									<span class="bold"><strong>QUERY_TABLE</strong></span> line, enter
									<span class="emphasis"><em>SFLIGHT</em></span> as the table to query.</p></li><li class="step" title="Step 4"><p>In the <span class="bold"><strong>Output type</strong></span> list at the
								bottom of the view, select <span class="bold"><strong>output.table</strong></span>.</p></li><li class="step" title="Step 5"><p>In the <span class="bold"><strong>Constructure|Table</strong></span> list,
								select <span class="bold"><strong>DATA</strong></span>.</p></li><li class="step" title="Step 6"><p>Click <span class="bold"><strong>Launch</strong></span> at the bottom of the
								view to display the parameter values returned by the
									<span class="emphasis"><em>RFC_READ_TABLE </em></span>function. In this example,
								the delimiter is &#8220;;&#8221; and the table to read is
									<span class="emphasis"><em>SFLIGHT</em></span>.</p></li><li class="step" title="Step 7"><p>Click <span class="bold"><strong>Finish</strong></span> to close the wizard
								and create the connection.</p></li></ol></div><div class="procedure" title="Procedure&nbsp;1.12.&nbsp;Retrieving the different schemas of the RFC_READ_TABLE function"><a name="d0e18984"></a><p class="title"><b>Procedure&nbsp;1.12.&nbsp;Retrieving the different schemas of the RFC_READ_TABLE
							function</b></p><p>The <span class="emphasis"><em>sap</em></span> connection and the <span class="bold"><strong>RFC_READ_TABLE</strong></span> function display under the <span class="bold"><strong>SAPConnections</strong></span> node in the <span class="bold"><strong>Repository</strong></span> tree view.</p><p>To retrieve the different schemas of the <span class="bold"><strong>RFC_READ_TABLE</strong></span> function, do the following:</p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>In the <span class="bold"><strong>Repository</strong></span> tree view,
								right-click <span class="bold"><strong>RFC_READ_TABLE</strong></span> and
								select <span class="bold"><strong>Retrieve schema</strong></span> in the
								contextual menu. A dialog box displays.</p></li><li class="step" title="Step 2"><p>Select in the list the schemas you want to retrieve, <span class="bold"><strong>DATA</strong></span>, <span class="bold"><strong>FIELDS</strong></span> and <span class="bold"><strong>OPTIONS</strong></span>
								in this example.</p></li><li class="step" title="Step 3"><p>Click <span class="bold"><strong>Next</strong></span> to open a new view on
								the dialog box and display these different schemas.</p></li><li class="step" title="Step 4"><p>Click <span class="bold"><strong>Finish</strong></span> to validate your
								operation and close the dialog box.</p></li></ol></div><p>For more information about retrieving schemas,
						see <span class="bluebold">Talend Enterprise Studio</span> User Guide.</p><p>The three schemas display under the <span class="bold"><strong>RFC_READ_TABLE</strong></span> function in the <span class="bold"><strong>Repository</strong></span> tree view.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput2_4.png" align="middle"></div></div><div class="section" title="Retrieving the data column names of the SFLIGHT table"><div class="titlepage"><div><div><h4 class="title"><a name="d0e19059"></a>Retrieving the data column names of the SFLIGHT table</h4></div></div></div><p>In this example, we want to retrieve the data and column names of the
							<span class="bold"><strong>SFLIGHT</strong></span> table and display them in
							<span class="bluebold">Talend Enterprise Studio</span>. To do that, proceed as the
						following: </p><div class="procedure" title="Procedure&nbsp;1.13.&nbsp;Setting up the Job"><a name="d0e19071"></a><p class="title"><b>Procedure&nbsp;1.13.&nbsp;Setting up the Job</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>In the <span class="bold"><strong>Repository</strong></span> tree view, drop
								the <span class="bold"><strong>RFC_READ_TABLE </strong></span>function of the
									<span class="emphasis"><em>sap</em></span> connection to the design workspace to
								open a dialog box where you can select <span class="bold"><strong>tSAPInput</strong></span> from the component list and then click
									<span class="bold"><strong>OK</strong></span> to close the dialog box. The
									<span class="bold"><strong>tSAPInput</strong></span> component displays on
								the design workspace.</p></li><li class="step" title="Step 2"><p>Drop two <span class="bold"><strong>tLogRow</strong></span> components from
								the <span class="bold"><strong>Palette</strong></span> to the design
								workspace.</p></li><li class="step" title="Step 3"><p>Right-click <span class="bold"><strong>tSAPInput</strong></span> and select
									<span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>row_DATA_1</strong></span> and click the first <span class="bold"><strong>tLogRow</strong></span> component.</p></li><li class="step" title="Step 4"><p>Right-click <span class="bold"><strong>tSAPInput</strong></span> and select
									<span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>row_FIELDS_1</strong></span> and click the second <span class="bold"><strong>tLogRow</strong></span> components.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput2_5.png" align="middle"></div><p>In this example, we want to retrieve the <span class="bold"><strong>FIELDS</strong></span> and <span class="bold"><strong>DATA</strong></span>
								schemas and put them in two different output flows.</p></li><li class="step" title="Step 5"><p>In the design workspace, double-click <span class="bold"><strong>tSAPInput</strong></span> to open the <span class="bold"><strong>Basic
									settings</strong></span> view and display the component
								properties.</p><div class="mediaobject" align="center"><img src="../images/UseCase_tSapInput_6-2_top.png" align="middle"></div></li></ol></div><p>The basic setting parameters for the <span class="bold"><strong>tSAPInput</strong></span> component display automatically since the schema
						is stored in the <span class="bold"><strong>Metadata</strong></span> node and the
						component is initialized by the SAP wizard.</p><p>In the <span class="bold"><strong>Initialize input</strong></span> area, we can see
						the input parameters necessary for the <span class="emphasis"><em>RFC_READ_TABLE
						</em></span>function, the field delimiter &#8220;;&#8221; and the table name &#8220;<span class="bold"><strong>SFLIGHT&#8221;</strong></span>.</p><p>In the <span class="bold"><strong>Outputs</strong></span> area, we can see the
						different schemas of the <span class="bold"><strong>SFLIGHT</strong></span>
						table.</p><div class="mediaobject" align="center"><img src="../images/use_case_sapinput2_6-2.png" align="middle"></div><div class="procedure" title="Procedure&nbsp;1.14.&nbsp;Job execution"><a name="d0e19187"></a><p class="title"><b>Procedure&nbsp;1.14.&nbsp;Job execution</b></p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>In the design workspace, double click each of the two <span class="bold"><strong>tLogRow</strong></span> components to display the
									<span class="bold"><strong>Basic settings</strong></span> view and define
								the component properties. For more information on the properties of
									<span class="bold"><strong>tLogRow</strong></span>, see <a class="xref" href="tLogRow.html" title="tLogRow">the section called &#8220;tLogRow&#8221;</a>.</p></li><li class="step" title="Step 2"><p>Press <span class="bold"><strong>CTRL+S</strong></span> to save your Job and
								press <span class="bold"><strong>F6</strong></span> to execute it.</p></li></ol></div><div class="mediaobject" align="center"><img src="../images/Use_Case_SAPInput2_7.png" align="middle"></div><p>The <span class="bold"><strong>tSAPInput</strong></span> component retrieves from
						the SAP system the column names of the <span class="emphasis"><em>SFLIGHT</em></span> table as
						well as the corresponding data. The <span class="bold"><strong>tLogRow</strong></span>
						components display the information in a tabular form in the Console.</p></div></div></div></body></html>