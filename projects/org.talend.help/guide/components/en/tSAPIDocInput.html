<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tSAPIDocInput</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Enterprise"><link rel="up" href="ch01.html" title="Chapter&nbsp;1.&nbsp;Business components"><link rel="prev" href="tSAPConnection.html" title="tSAPConnection"><link rel="next" href="tSAPIDocOutput.html" title="tSAPIDocOutput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tSAPIDocInput"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tSAPIDocInput"></a>tSAPIDocInput</h2></div></div></div><div class="mediaobject"><img src="../images/tSAPIDocInput.png"></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p> This component is not available in the <span class="bold"><strong>Palette</strong></span> of the <span class="bold"><strong>Talend
                                Integration Express Studio</strong></span>.</p></td></tr></table></div><div class="section" title="tSAPIDocInput Properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e16196"></a>tSAPIDocInput Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top"><p><span class="bold"><strong>Component family</strong></span></p>
                                                </td><td valign="top"><p>Business </p>
                                                </td><td valign="top">&nbsp;</td></tr><tr><td valign="top"><p><span class="bold"><strong>Function</strong></span></p>
                                                </td><td colspan="2" valign="top"><p><span class="bold"><strong>tSAPIDocInput</strong></span> connects to an RFC
                                                  destination within the SAP system through
                                                  authentication of the SAP gateway server and
                                                  outputs IDoc files (Intermediate Documents in XML
                                                  or HTML format) to the user-defined
                                                  location.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Purpose</strong></span></p>
                                                </td><td colspan="2" valign="top"><p><span class="bold"><strong>tSAPIDocInput</strong></span> allows you to extract
                                                  IDoc data set that is used for asynchronous
                                                  transactions between SAP systems or between a SAP
                                                  system and another application..</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Basic settings</strong></span></p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Property
                                                  type</em></span></p>
                                                </td><td valign="top"><p>Either <span class="bold"><strong>Built-in</strong></span> or <span class="bold"><strong>Repository</strong></span>:</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="bold"><strong>Built-in</strong></span>: No property data stored
                                                  centrally.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="bold"><strong>Repository</strong></span>: Select the Repository file
                                                  where Properties are stored. The fields that come
                                                  after are pre-filled in using the fetched
                                                  data.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><div class="mediaobject"><img src="../images/Save_Icon.png"></div>
                                                </td><td valign="top"><p>Click this icon to open a
                                                  connection wizard and store the Excel file
                                                  connection parameters you set in the component
                                                  <span class="bold"><strong>Basic settings
                                                  </strong></span>view.</p><p> For more information
                                                  about setting up and storing file connection
                                                  parameters, see <span class="bluebold">Talend Enterprise Studio</span>
                                                  <span class="bold"><strong>User
                                                  Guide</strong></span>.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Connection
                                                  configuration</em></span></p>
                                                </td><td valign="top"><p><span class="bold"><strong>Client</strong></span>: Enter your SAP usual
                                                  connection code</p><p>
                                                  <span class="bold"><strong>Userid:</strong></span> Enter the
                                                  user connection Id.</p><p>
                                                  <span class="bold"><strong>Password</strong></span>: Enter
                                                  the password.</p><p>
                                                  <span class="bold"><strong>Language</strong></span>: Specify
                                                  a language.</p><p>
                                                  <span class="bold"><strong>Host name:</strong></span> Enter
                                                  the SAP system IP address.</p><p>
                                                  <span class="bold"><strong>System number:</strong></span>
                                                  Enter the system number.</p><p>
                                                  <span class="bold"><strong>Program ID</strong></span>: Enter
                                                  the program ID of the RFC destination you will
                                                  connect to. This ID is what you have configured
                                                  for the corresponding RFC in the SAP
                                                  system.</p><p>
                                                  <span class="bold"><strong>Gateway service</strong></span>:
                                                  Enter the name of your Gateway service. To get the
                                                  service name, you can edit the service file in the
                                                  path below on the system where your SAP system is
                                                  installed.</p><p>
                                                  <span class="emphasis"><em>C:\WINDOWS\system32\drivers\etc\</em></span>
                                                  folder; or execute transaction SMGW to find it in
                                                  the gateway monitor view.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Output
                                                  format</em></span></p>
                                                </td><td valign="top"><p>Select one or both of the
                                                  check boxes to decide the format of the documents
                                                  to be outputted. The format may be XML or
                                                  HTML.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Die on
                                                  error</em></span></p>
                                                </td><td valign="top"><p>By default, this check box
                                                  is cleared. Therefore the rows on error are
                                                  skipped and the process is completed for the error
                                                  free rows.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Advanced settings</strong></span></p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Activate
                                                  logs</em></span></p>
                                                </td><td valign="top"><p>Select this check box to
                                                  enable the generation of log files and specify the
                                                  directory to store these files.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>tStatCatcher
                                                  Statistics</em></span></p>
                                                </td><td valign="top"><p>Select this check box to
                                                  gather the Job processing metadata at a Job level
                                                  as well as at each component level.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Connections</strong></span></p>
                                                </td><td><p>&nbsp;</p>
                                                </td><td valign="top"><p>Outgoing links (from one
                                                  component to another):</p><p>
                                                  <span class="bold"><strong>Trigger</strong></span>: Run if,
                                                  On Component Ok, On Component Error, On Subjob Ok,
                                                  On Subjob Error.</p><p> </p><p>
                                                  Incoming links (from one component to
                                                  another):</p><p>
                                                  <span class="bold"><strong>Trigger</strong></span>: Run if,
                                                  On Component Ok, On Component Error, On Subjob Ok,
                                                  On Subjob Error </p><p> </p><p> For
                                                  further information regarding connections, see
                                                  <span class="bluebold">Talend Enterprise Studio</span>
                                                  <span class="bold"><strong>User
                                                  Guide</strong></span>.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Usage</strong></span></p>
                                                </td><td colspan="2" valign="top"><p>Usually used independently or in a subjob.
                                                  Once executed, it keeps listening to events from
                                                  SAP and accordingly extracts the IDoc data unless
                                                  an exception occurs or you stop the execution.
                                                  </p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Limitation/Prerequisites</strong></span></p>
                                                </td><td colspan="2" valign="top"><p>You must add specific jar and dll files
                                                  validated and provided by SAP to your Studio and
                                                  the workstation hosting your Studio. This
                                                  procedure varies among platforms such as 32-bit or
                                                  64-bit Windows or Linux.</p><p> For further
                                                  information about this procedure for adding the
                                                  required files, see <span class="bluebold">Talend Enterprise Studio</span>
                                                  <span class="bold"><strong>User
                                                  Guide</strong></span>.</p>
                                                </td></tr></tbody></table></div><p><span>&nbsp;</span></p></div><div class="section" title="Connecting to a given SAP R/3 system for listening the creation of IDoc files"><div class="titlepage"><div><div><h3 class="title"><a name="d0e16501"></a>Connecting to a given SAP R/3 system for listening the creation of IDoc
                        files</h3></div></div></div><p>In this scenario, an one-single-component Job uses the <span class="bold"><strong>tSAPIDocInput</strong></span> component to keep listening to the
                        creation of IDoc files in a given SAP R/3 system.</p><p>To replicate this scenario, you need to: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Create an RFC Destination on the given SAP R/3 system.</p></li><li class="listitem"><p>Configure <span class="bold"><strong>tSAPIDocInput</strong></span> to
                                        listen to the invocation from this SAP R/3 system.</p></li></ol></div><div class="section" title="Creating an RFC Destination for the listener component tSAPIDocInput"><div class="titlepage"><div><div><h4 class="title"><a name="d0e16521"></a>Creating an RFC Destination for the listener component
                                tSAPIDocInput</h4></div></div></div><p>Logon to a given SAP R/3 system and then proceed as follows to create
                                the required RFC Destination:</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Execute the transaction SM59 to open the <span class="bold"><strong>Display and maintain RFC
                                                  destinations</strong></span> view.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput1.png" align="middle"></div></li><li class="step" title="Step 2"><p>In this view, select the <span class="bold"><strong>TCP/IP
                                                  connections</strong></span> option and click <span class="bold"><strong>Create</strong></span>. </p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput2.png" align="middle"></div><p>Then the <span class="bold"><strong>RFC
                                                  Destination</strong></span> view displays.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput3.png" align="middle"></div></li><li class="step" title="Step 3"><p>In <span class="bold"><strong>RFC destination</strong></span>
                                                field of this view, type in the name of this RFC
                                                Destination to be used. As this field is
                                                case-sensitive, it is recommended to use upper case
                                                characters. In this example, we name it as
                                                  <span class="emphasis"><em>IDOC_TALEND</em></span>.</p></li><li class="step" title="Step 4"><p>In the <span class="bold"><strong>Connection
                                                  type</strong></span> field, select the <span class="bold"><strong>T </strong></span>type meaning to start an
                                                external program via TCP/IP.</p></li><li class="step" title="Step 5"><p>In the <span class="bold"><strong>Description</strong></span>
                                                field, type in a short text to describe this RFC
                                                Destination being created. In this example, we enter
                                                simply <span class="emphasis"><em>TALEND IDOC
                                                LISTENER</em></span>.</p></li><li class="step" title="Step 6"><p>In the <span class="bold"><strong>Logon</strong></span> area,
                                                select the <span class="bold"><strong>Current
                                                  user</strong></span> check box and then click the
                                                  <span class="bold"><strong>Save</strong></span> button on
                                                the top toolbar.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput4.png" align="middle"></div><p>Then the RFC Destination
                                                  <span class="emphasis"><em>IDOC_TALEND</em></span> view is
                                                opened.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput5.png" align="middle"></div></li><li class="step" title="Step 7"><p>In this view, click <span class="bold"><strong>Registration</strong></span> to display the <span class="bold"><strong>Program ID</strong></span> field and type
                                                in the program ID. This program ID must use the same
                                                name as this created RFC Destination, that is,
                                                  <span class="emphasis"><em>IDOC_TALEND</em></span>. Then again,
                                                click the save button on the top toolbar to validate
                                                this configuration.</p></li><li class="step" title="Step 8"><p>Still on the top toolbar, click the back button
                                                several times to go back to the <span class="bold"><strong>SAP Easy Access</strong></span> view (SAP
                                                main screen) and execute the
                                                  transaction&nbsp;<span class="emphasis"><em>SMGW</em></span> to open the
                                                gateway monitor view.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput6.png" align="middle"></div></li><li class="step" title="Step 9"><p>From the menu bar of the gateway monitor view, select
                                                  <span class="bold"><strong>Goto &gt; Parameters &gt;
                                                  Display</strong></span>. Then an table like the
                                                following one displays, where you can find the the
                                                gateway service of this given SAP R/3 system.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput7.png" align="middle"></div></li></ol></div><p>In this example, the gateway service to be used is
                                        <span class="emphasis"><em>sapgw00</em></span>.</p><p>Now, the required RFC Destination has been created.</p></div><div class="section" title="Configurating the listener component tSAPIDocInput"><div class="titlepage"><div><div><h4 class="title"><a name="d0e16646"></a>Configurating the listener component tSAPIDocInput</h4></div></div></div><div class="procedure"><p>In the <span class="bold"><strong>Integration</strong></span>
                                        perspective of your Studio, proceed as follows:. </p><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Drop the <span class="bold"><strong>tSAPIDocInput</strong></span> component from the
                                                  <span class="bold"><strong>Palette</strong></span> onto the
                                                design workspace.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput8.png" align="middle"></div></li><li class="step" title="Step 2"><p>Double-click this component to open its <span class="bold"><strong>Component</strong></span> view.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput9.png" align="middle"></div></li><li class="step" title="Step 3"><p>In the <span class="bold"><strong>Client</strong></span> field,
                                                type in the client number of this given SAP R/3
                                                system. In this scenario, it is
                                                  <span class="emphasis"><em>000</em></span>..</p></li><li class="step" title="Step 4"><p>In the <span class="bold"><strong>Userid</strong></span> and
                                                  <span class="bold"><strong>Password</strong></span> fields,
                                                type in the authentication information in the
                                                corresponding field.</p></li><li class="step" title="Step 5"><p>In the <span class="bold"><strong>Language</strong></span>
                                                field, type in the language used by this given SAP
                                                R/3 system. In this example, it is
                                                  <span class="emphasis"><em>EN</em></span>.</p></li><li class="step" title="Step 6"><p>In the <span class="bold"><strong>Host name</strong></span>
                                                field, type in the IP address of the hosting server
                                                of this given SAP R/3 system.</p></li><li class="step" title="Step 7"><p>In the <span class="bold"><strong>System number</strong></span>
                                                field, type in the system number of this given SAP
                                                R/3 system.</p></li><li class="step" title="Step 8"><p>In the <span class="bold"><strong>Gateway
                                                  service</strong></span> field, type in the used gateway
                                                service name.</p></li><li class="step" title="Step 9"><p>In the <span class="bold"><strong>Program ID</strong></span>
                                                field, type in the program ID you have defined when
                                                creating the required RFC Destination. In this
                                                example, it is
                                                <span class="emphasis"><em>IDOC_TALEND</em></span>.</p></li><li class="step" title="Step 10"><p>In the <span class="bold"><strong>XML-IDoc file
                                                  output</strong></span> field, enter the path or browse
                                                to the location where you need to store the received
                                                SAP IDoc file.</p></li></ol></div></div><div class="section" title="Job execution"><div class="titlepage"><div><div><h4 class="title"><a name="d0e16736"></a>Job execution</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="Step 1"><p>Press CTRL+S to save your Job and press <span class="bold"><strong>F6</strong></span> to run it.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput10.png" align="middle"></div><p>From this console, you can read that the <span class="bold"><strong>tSAPIDocInput</strong></span> component is
                                                listening to this given SAP R/3 system.</p></li><li class="step" title="Step 2"><p>Back to the created RFC Destination in this SAP R/3
                                                system, click <span class="bold"><strong>Test
                                                  connection</strong></span>. </p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput11.png" align="middle"></div></li></ol></div><p>The test result indicates that the connection between this given SAP
                                R/3 system and the listener component <span class="bold"><strong>tSAPIDocInput</strong></span> component succeeds.</p><div class="mediaobject" align="center"><img src="../images/Use_Case_tSAPIDocInput16.png" align="middle"></div><p><span>Now the <span class="bold"><strong>tSAPIDocInput</strong></span>
                                        component is listening to your SAP R/3 system and wait for
                                        the invocation of the previously defined RFC
                                        Destination.</span></p></div></div></div></body></html>