<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tIterateToFlow</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch14.html" title="Chapter&nbsp;14.&nbsp;Orchestration components"><link rel="prev" href="tInfiniteLoop.html" title="tInfiniteLoop"><link rel="next" href="tLoop.html" title="tLoop"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tIterateToFlow"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tIterateToFlow"></a>tIterateToFlow</h2></div></div></div><div class="mediaobject"><img src="../images/tIterateToFlowOut_icon32_white.png"></div><div class="section" title="tIterateToFlow Properties"><div class="titlepage"><div><div><h3 class="title"><a name="Raa98714"></a>tIterateToFlow Properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Component family</strong></span>
									</p>
								</td><td valign="top">
									<p>Orchestration</p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Function</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p><span class="bold"><strong>tIterateToFlow</strong></span> transforms
										a list into a data flow that can be processed. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Purpose</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Allows you to transform non processable data into a
										processable flow. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema type</em></span> and <span class="emphasis"><em>Edit
											Schema</em></span></p>
								</td><td valign="top">
									<p>A schema is a row description, i.e., it defines the number
										of fields that will be processed and passed on to the next
										component. The schema is either built-in or remote in the
										Repository. </p>
									<p> In the case of <span class="bold"><strong>tIterateToFlow</strong></span>, the schema is to be
										defined</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in</strong></span>: The schema will
										be created and stored locally for this component only.
										Related topic: see <span class="bluebold">Talend Open Studio</span>
										<span class="bold"><strong>User Guide</strong></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository</strong></span>: The schema
										already exists and is stored in the Repository, hence can be
										reused in various projects and Job designs. Related topic:
										see <span class="bluebold">Talend Open Studio</span>
										<span class="bold"><strong>User Guide</strong></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Mapping</em></span>
									</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Column</strong></span>: Enter a name for
										the column to be created</p>
									<p>
										<span class="bold"><strong>Value</strong></span>: Press <span class="bold"><strong>Ctrl+Space</strong></span> to access all of the
										available variables, be they global or user-defined.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced Settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStatCatcher Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box to collect the log data at a
										component level.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Usage</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>This component is not startable (green background) and it
										requires an output component.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Connections</strong></span>
									</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>Outgoing links (from one component to another):</p>
									<p>
										<span class="bold"><strong>Row</strong></span>: Main.</p>
									<p>
										<span class="bold"><strong>Trigger</strong></span>: Run if; On
										Component Ok; On Component Error.</p>
									<p> </p>
									<p> Incoming links (from one component to another):</p>
									<p>
										<span class="bold"><strong>Row</strong></span>: Iterate; </p>
									<p> </p>
									<p> For further information regarding connections, see
											<span class="bluebold">Talend Open Studio</span> User Guide.</p>
								</td></tr></tbody></table></div></div><div class="section" title="Scenario: Transforming a list of files as data flow"><div class="titlepage"><div><div><h3 class="title"><a name="d0e241210"></a>Scenario: Transforming a list of files as data flow</h3></div></div></div><p>The following scenario describes a Job that iterates on a list of files, picks
					up the filename and current date and transforms this into a flow, that gets
					displayed on the console.</p><div class="mediaobject"><img src="../images/Use_Case_tIterateToFlow1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Drop the following components: <span class="bold"><strong>tFileList</strong></span>, <span class="bold"><strong>tIterateToFlow</strong></span> and <span class="bold"><strong>tLogRow</strong></span> from the <span class="bold"><strong>Palette</strong></span> to the design workspace.</p></li><li class="listitem"><p>Connect the <span class="bold"><strong>tFileList</strong></span> to the
								<span class="bold"><strong>tIterateToFlow</strong></span> using an <span class="bold"><strong>iterate</strong></span> link and connect the Job to the
								<span class="bold"><strong>tLogRow</strong></span> using a <span class="bold"><strong>Row main</strong></span> connection.</p></li><li class="listitem"><p>In the <span class="bold"><strong>tFileList</strong></span>
							<span class="bold"><strong>Component</strong></span> view, set the directory where
							the list of files is stored.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tIterateToFlow2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In this example, the files are three simple .txt files held in one
							directory: <span class="emphasis"><em>Countries</em></span>. </p></li><li class="listitem"><p>No need to care about the case, hence clear the <span class="bold"><strong>Case sensitive </strong></span>check box.</p></li><li class="listitem"><p>Leave the <span class="bold"><strong>Include Subdirectories</strong></span>
							check box unchecked.</p></li><li class="listitem"><p>Then select the <span class="bold"><strong>tIterateToFlow</strong></span>
							component et click <span class="bold"><strong>Edit Schema</strong></span> to set
							the new schema</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tIterateToFlow3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Add two new columns: <span class="emphasis"><em>Filename</em></span> of <span class="bold"><strong>String</strong></span> type and <span class="emphasis"><em>Date</em></span> of
								<span class="bold"><strong>date</strong></span> type. Make sure you define the
							correct pattern in Java.</p></li><li class="listitem"><p>Click <span class="bold"><strong>OK </strong></span>to validate.</p></li><li class="listitem"><p>Notice that the newly created schema shows on the <span class="bold"><strong>Mapping </strong></span>table.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tIterateToFlow4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In each cell of the <span class="bold"><strong>Value</strong></span> field,
							press <span class="bold"><strong>Ctrl+Space bar </strong></span>to access the list
							of global and user-specific variables.</p></li><li class="listitem"><p>For the <span class="emphasis"><em>Filename</em></span> column, use the global variable:
								<code class="code">tFileList_1CURRENT_FILEPATH</code>. It retrieves the current
							filepath in order to catch the name of each file, the Job iterates on.
						</p></li><li class="listitem"><p>For the <span class="emphasis"><em>Date</em></span> column, use the Talend
									routine:<code class="code">TalendDate.getCurrentDate()</code> (in Java)</p></li><li class="listitem"><p>Then on the <span class="bold"><strong>tLogRow</strong></span> component view,
							select the <span class="bold"><strong>Print values in cells of a table
							</strong></span>check box.</p></li><li class="listitem"><p>Save your Job and press <span class="bold"><strong>F6</strong></span> to execute
							it.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tIterateToFlow5.png"></div><p>The filepath displays on the <span class="emphasis"><em>Filename</em></span> column and the
					current date displays on the <span class="emphasis"><em>Date</em></span> column.</p></div></div></body></html>