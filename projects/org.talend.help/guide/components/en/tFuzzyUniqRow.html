<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tFuzzyUniqRow</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Enterprise"><link rel="up" href="Raa78577.html" title="Chapter&nbsp;5.&nbsp;Data Quality components"><link rel="prev" href="tFuzzyMatch.html" title="tFuzzyMatch"><link rel="next" href="tGenKey.html" title="tGenKey"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tFuzzyUniqRow"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tFuzzyUniqRow"></a>tFuzzyUniqRow</h2></div></div></div><div class="mediaobject"><img src="../images/tFuzzyUniqRow_icon32_white.png"></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Warning]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="italic">This component will be available in the <span class="bold"><strong>Palette</strong></span><span class="emphasis"><em> of the studio on
                                        the condition that you have subscribed to the relevant
                                        edition of </em></span><span class="bluebold">Talend Enterprise Data Quality</span>.</span></p></td></tr></table></div><div class="section" title="tFuzzyUniqRow properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e56759"></a>tFuzzyUniqRow properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top"><p><span class="bold"><strong>Component family</strong></span></p>
                                                </td><td valign="top"><p>Data Quality</p>
                                                </td><td valign="top">&nbsp;</td></tr><tr><td valign="top"><p><span class="bold"><strong>Function</strong></span></p>
                                                </td><td colspan="2" valign="top"><p><span class="bold"><strong>tFuzzyUniqRow
                                                  </strong></span>compares columns in the input flow by
                                                  using a defined matching method and collects the
                                                  encountered duplicates.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Purpose</strong></span></p>
                                                </td><td colspan="2" valign="top"><p>Helps ensuring the data quality of any
                                                  source data.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Basic settings</strong></span></p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Schema</em></span> and
                                                  <span class="emphasis"><em>Edit schema</em></span></p>
                                                </td><td valign="top"><p>A schema is a row
                                                  description, i.e., it defines the number of fields
                                                  that will be processed and passed on to the next
                                                  component. The schema is either built-in or remote
                                                  in the Repository.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="bold"><strong>Built-in</strong></span>: You create and store the
                                                  schema locally for this component only. Related
                                                  topic: see <span class="bluebold">Talend Enterprise Studio</span>
                                                  <span class="bold"><strong>User
                                                  Guide</strong></span>.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="bold"><strong>Repository</strong></span>: You have already created
                                                  the schema and stored it in the Repository. Thus,
                                                  you can reuse it in various projects and job
                                                  designs. Related topic: see <span class="bluebold">Talend Enterprise Studio</span>
                                                  <span class="bold"><strong>User
                                                  Guide</strong></span>.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Column</em></span></p>
                                                </td><td valign="top"><p>List of all columns in the
                                                  input flow.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Key
                                                  attribute</em></span></p>
                                                </td><td valign="top"><p>Select the check boxes
                                                  next to the columns you want to check.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Matching
                                                  type</em></span></p>
                                                </td><td valign="top"><p>Select the relevant
                                                  matching algorithm from the list:</p><p>
                                                  <span class="bold"><strong>Exact Match</strong></span>:
                                                  matches each processed entry to all possible
                                                  reference entries with exactly the same
                                                  value.</p><p>
                                                  <span class="bold"><strong>Levenshtein</strong></span>:
                                                  Based on the edit distance theory. It calculates
                                                  the number of insertion, deletion or substitution
                                                  required for an entry to match the reference
                                                  entry. </p><p>
                                                  <span class="bold"><strong>Metaphone</strong></span>: Based
                                                  on a phonetic algorithm for indexing entries by
                                                  their pronunciation. It first loads the phonetics
                                                  of all entries of the lookup reference and checks
                                                  all entries of the main flow against the entries
                                                  of the reference flow.</p><p>
                                                  <span class="bold"><strong>Double Metaphone</strong></span>:
                                                  a new version of the Metaphone phonetic algorithm
                                                  that produces more accurate results than the
                                                  original algorithm. It can return both a primary
                                                  and a secondary code for a string. This accounts
                                                  for some ambiguous cases as well as for multiple
                                                  variants of surnames with common ancestry.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Min.
                                                  Distance</em></span></p>
                                                </td><td valign="top"><p>Only for <span class="bold"><strong>Levenshtein</strong></span>. Set the
                                                  minimum number of changes allowed to match the
                                                  reference. If set to 0, only perfect
                                                  matches(<span class="bold"><strong>Exact
                                                  Match</strong></span>) are returned.</p>
                                                </td></tr><tr><td><p>&nbsp;</p>
                                                </td><td valign="top"><p><span class="emphasis"><em>Max.
                                                  Distance</em></span></p>
                                                </td><td valign="top"><p>Only for <span class="bold"><strong>Levenshtein</strong></span>. Set the
                                                  maximum number of changes allowed to match the
                                                  reference.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Advanced settings</strong></span></p>
                                                </td><td valign="top"><p><span class="emphasis"><em>tStat</em></span><span class="emphasis"><em>Catcher</em></span>
                                                  <span class="emphasis"><em>Statistics</em></span></p>
                                                </td><td valign="top"><p>Select this check box to
                                                  collect log data at the component level.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Usage</strong></span></p>
                                                </td><td colspan="2" valign="top"><p>This component is not startable (green
                                                  background) and it requires an input component and
                                                  two output components.</p>
                                                </td></tr><tr><td valign="top"><p><span class="bold"><strong>Limitation/prerequisite</strong></span></p>
                                                </td><td colspan="2" valign="top"><p>n/a</p>
                                                </td></tr></tbody></table></div></div><div class="section" title="Scenario: Comparing four columns using different matching methods and collecting encountered duplicates"><div class="titlepage"><div><div><h3 class="title"><a name="d0e57002"></a>Scenario: Comparing four columns using different matching methods and
                        collecting encountered duplicates</h3></div></div></div><p>This java scenario describes a four-component job
                        aiming at collecting in two separate files all unique entries and all
                        duplicate entries from few defined processed columns based on the
                        Levenshtein and Double Metaphone matching types.</p><p>The input file in this example looks like the
                        following:</p><div class="mediaobject"><img src="../images/Use_Case_tFuzzyUniqRow4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Drop <span class="bold"><strong>tFileInputDelimited</strong></span>,
                                                <span class="bold"><strong>tFuzzyUniqRow</strong></span>, and
                                        two <span class="bold"><strong>tFileOutputExcel</strong></span>
                                        components from the <span class="bold"><strong>Palette</strong></span>
                                        onto the design workspace.</p></li><li class="listitem"><p>Connect <span class="bold"><strong>tFileInputDelimited</strong></span>
                                        to <span class="bold"><strong>tFuzzyUniqRow</strong></span> using the
                                                <span class="bold"><strong>Main</strong></span> link,
                                                <span class="bold"><strong>tFuzzyUniqRow</strong></span> to
                                        the <span class="bold"><strong>tFileOutputExcel</strong></span>
                                        components using the <span class="bold"><strong>Uniques</strong></span> link with one and the <span class="bold"><strong>Duplicates</strong></span> link with the
                                        other. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFuzzyUniqRow.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Double-click <span class="bold"><strong>tFileInputDelimited</strong></span> to open its
                                                <span class="bold"><strong>Basic settings</strong></span> view
                                        and define its properties.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFuzzyUniqRow1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Set property type to <span class="bold"><strong>Built-In</strong></span>.</p></li><li class="listitem"><p>Click the three-dot button next to the <span class="bold"><strong>File Name</strong></span> field to browse to the file
                                        holding the input data.</p></li><li class="listitem"><p>Define in the corresponding fields the row separator allowing
                                        to identify the end of a row and the field separator used to
                                        delimit fields in a row.</p></li><li class="listitem"><p>If needed, set <span class="bold"><strong>Header</strong></span>,
                                                <span class="bold"><strong>Footer</strong></span>, and
                                                <span class="bold"><strong>Limit</strong></span>.</p><p> For this scenario, set <span class="bold"><strong>Header</strong></span> to 1. Footer and limit for the
                                        number of processed rows are not set. </p></li><li class="listitem"><p>Click <span class="bold"><strong>Edit schema</strong></span> to open a
                                        dialog box where you can describe the data structure of the
                                        source delimited file.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFuzzyUniqRow2.png"></div><p>In this scenario, the source schema is made of the
                        following columns: <span class="emphasis"><em>ID, Status, FirstName, Email, City, Initial,
                                ZipCode,</em></span> and <span class="emphasis"><em>Header</em></span>.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Double click <span class="bold"><strong>tFuzzyUniqRow</strong></span> to
                                        display its <span class="bold"><strong>Basic settings</strong></span>
                                        view and define its properties.</p></li><li class="listitem"><p>In the <span class="bold"><strong>Key Attribute</strong></span> column,
                                        select the check boxes next to the columns you want to check
                                        using the defined matching method,
                                                <span class="emphasis"><em>Firstname</em></span>,
                                                <span class="emphasis"><em>Email</em></span>,
                                                <span class="emphasis"><em>City</em></span>, and
                                                <span class="emphasis"><em>ZipCode</em></span> in this example.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFuzzyUniqRow3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>In the <span class="bold"><strong>Matching Type</strong></span> column,
                                        set the matching methods you want to use on each of the
                                        selected columns.</p><p> In this example, <span class="emphasis"><em>Leveshtein</em></span> is to be
                                        used as the matching method for the <span class="emphasis"><em>FirstName,
                                                Email, </em></span>and <span class="emphasis"><em>ZipCode</em></span>
                                        columns, <span class="emphasis"><em>Double Metaphone</em></span> is to be used
                                        as the matching method for the <span class="emphasis"><em>City</em></span>
                                        column.</p></li><li class="listitem"><p>Then set the minimum and maximum distances for the
                                                <span class="emphasis"><em>Levenshtein</em></span> method. In this
                                        method, the distance is the number of character changes
                                        (insertion, deletion or substitution) that needs to be
                                        carried out in order for the entry to fully match the
                                        reference. In this example, we want the min. distance to be
                                        0 and the max. distance to be 2. This will output all
                                        entries in the <span class="emphasis"><em>FirstName, Email, </em></span>and
                                                <span class="emphasis"><em>ZipCode</em></span> columns that exactly
                                        match or that have maximum two character changes. There is
                                        no minimum nor maximum distance to set for <span class="emphasis"><em>Double
                                                Metaphone</em></span> because this matching method is
                                        based on phonetic discrepancies in the input data.</p></li><li class="listitem"><p>Double click the first <span class="bold"><strong>tFileOutputExcel</strong></span> to display its
                                                <span class="bold"><strong>Basic settings</strong></span> view
                                        and define its properties.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFuzzyUniqRow5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Set the destination file name as well as the Sheet name and
                                        select the Include header check box.</p></li><li class="listitem"><p>Do the same for the second <span class="bold"><strong>tFileOutputExcel</strong></span>.</p></li><li class="listitem"><p>Save your Job and click <span class="bold"><strong>F6</strong></span> to
                                        execute it.</p></li></ul></div><p><span class="bold"><strong>tFuzzyUniqRow</strong></span>
                        uses the <span class="emphasis"><em>Levenshtein</em></span> method to compare each of the
                        three defined columns separately, it uses the <span class="emphasis"><em>Double
                                Metaphone</em></span> method to compare data in the
                                <span class="emphasis"><em>City</em></span> column, and finally passes the unique and
                        duplicate rows to the defined output files. In our example, the first two
                        rows match, hence the second row will go in the &#8220;duplicates&#8221; output. </p><div class="mediaobject"><img src="../images/Use_Case_tFuzzyUniqRow6.png"></div><p>The third row is unique and will go in the
                        &#8220;uniques&#8221; output.</p><div class="mediaobject"><img src="../images/Use_Case_tFuzzyUniqRow7.png"></div></div></div></body></html>