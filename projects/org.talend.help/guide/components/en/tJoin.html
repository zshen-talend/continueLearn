<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tJoin</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch15.html" title="Chapter&nbsp;15.&nbsp;Processing components"><link rel="prev" href="tFilterRow.html" title="tFilterRow"><link rel="next" href="tMap.html" title="tMap"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="EN" class="section" title="tJoin"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tJoin"></a>tJoin</h2></div></div></div><div class="mediaobject"><img src="../images/tJoin_icon32_white.png"></div><div class="section" title="tJoin properties"><div class="titlepage"><div><div><h3 class="title"><a name="d0e249754"></a>tJoin properties</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Component family</strong></span>
									</p>
								</td><td valign="top">
									<p>Processing</p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Function</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p><span class="bold"><strong>tJoin </strong></span>joins two tables by
										doing an exact match on several columns. It compares columns
										from the main flow with reference columns from the lookup
										flow and outputs the main flow data and/or the rejected
										data.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Purpose</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Helps ensuring the data quality of any source data against
										a reference data source.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema</em></span> and <span class="emphasis"><em>Edit
											schema</em></span></p>
								</td><td valign="top">
									<p>A schema is a row description, i.e., it defines the number
										of fields that will be processed and passed on to the next
										component. The schema is either built-in or remote in the
										Repository.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in</strong></span>: You create and
										store the schema locally for this component only. Related
										topic: see <span class="bluebold">Talend Open Studio</span>
										<span class="bold"><strong>User Guide</strong></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository</strong></span>: You have
										already created and stored the schema in the Repository. You
										can reuse it in other projects and Job designs. Related
										topic: see <span class="bluebold">Talend Open Studio</span>
										<span class="bold"><strong>User Guide</strong></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Include lookup columns in output</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box to include the lookup columns you
										define in the output flow.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="emphasis"><em>Key definition</em></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Input key attribute</em></span>
									</p>
								</td><td valign="top">
									<p>Select the column(s) from the main flow that needs to be
										checked against the reference (lookup) key column.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Lookup key attribute</em></span>
									</p>
								</td><td valign="top">
									<p>Select the lookup key columns that you will use as a
										reference against which to compare the columns from the
										input flow.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Inner join (with reject output)</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box to join the two tables first and
										gather the rejected data from the main flow.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStat</em></span>
										<span class="emphasis"><em>Catcher</em></span>
										<span class="emphasis"><em>Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Select this check box to collect log data at the component
										level.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Usage</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>This component is not startable and it requires two input
										components and one or more output components.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Limitation/prerequisite</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>n/a</p>
								</td></tr></tbody></table></div></div><div class="section" title="Scenario: Doing an exact match on two columns and outputting the main and rejected data"><div class="titlepage"><div><div><h3 class="title"><a name="d0e250016"></a>Scenario: Doing an exact match on two columns and outputting the main and
					rejected data</h3></div></div></div><p>This java scenario describes a five-component Job aiming at carrying out an
					exact match between the <span class="emphasis"><em>firstnameClient</em></span> column of an input
					file against the data of the reference input file, and the
						<span class="emphasis"><em>lastnameClient</em></span> column against the data of the reference
					input file. The outputs of this exact match are written in two separate files:
					exact data are written in an Excel file, and inaccurate data are written in a
					delimited file.</p><p>In this scenario, we have already stored the input schemas of the input and
					reference files in the Repository. For more information about storing schema
					metadata in the <span class="bold"><strong>Repository</strong></span> tree view, see
						<span class="bluebold">Talend Open Studio</span>
					<span class="bold"><strong>User Guide</strong></span>.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> In the <span class="bold"><strong>Repository</strong></span> tree view, expand
								<span class="bold"><strong>Metadata</strong></span> and the file node where
							you have stored the input schemas and drop the relevant file onto the
							design workspace.</p><p> The <span class="bold"><strong>[Components]</strong></span> dialog box
							displays.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tFuzzyJoin.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Select <span class="bold"><strong>tFileInputDelimited </strong></span>from the
							list and click <span class="bold"><strong>OK</strong></span> to close the dialog
							box.</p><p> The <span class="bold"><strong>tFileInputDelimited</strong></span> component
							displays in the workspace. The input file used in this scenario is
							called <span class="emphasis"><em>ClientSample</em></span>. It holds four columns
							including the two columns <span class="emphasis"><em>firstnameClient</em></span> and
								<span class="emphasis"><em>lastnameClient</em></span> we want to do the exact match
							on.</p></li><li class="listitem"><p> Do the same for the second input file you want to use as a reference,
								<span class="emphasis"><em>ClientSample_Update </em></span>in this scenario.</p></li><li class="listitem"><p> Drop the following components from the <span class="bold"><strong>Palette</strong></span> onto the design workspace: <span class="bold"><strong>tJoin</strong></span>, <span class="bold"><strong>tFileOutputExcel</strong></span>, and <span class="bold"><strong>tFileOutputDelimited</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tJoin1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Connect the main and reference input files to <span class="bold"><strong>tJoin</strong></span> using <span class="bold"><strong>Main</strong></span> links.
							The link between the reference input file and <span class="bold"><strong>tJoin</strong></span> displays as a <span class="emphasis"><em>Lookup</em></span> link on
							the design workspace.</p></li><li class="listitem"><p> Connect <span class="bold"><strong>tJoin</strong></span> to <span class="bold"><strong>tFileOutputExcel</strong></span> using the <span class="bold"><strong>Main</strong></span> link and <span class="bold"><strong>tJoin</strong></span> to <span class="bold"><strong>tFileOutputDelimited</strong></span> using the <span class="bold"><strong>Inner join reject</strong></span> link.</p></li><li class="listitem"><p> If needed, double-click the main and reference input files to display
							their <span class="bold"><strong>Basic settings</strong></span> views. All their
							property fields are automatically filled in. If you do not define your
							input files in the <span class="bold"><strong>Repository</strong></span>, fill in
							the details manually after selecting <span class="bold"><strong>Built-in</strong></span> in the <span class="bold"><strong>Property
								Type</strong></span> field.</p></li><li class="listitem"><p> Double click <span class="bold"><strong>tJoin</strong></span> to display its
								<span class="bold"><strong>Basic settings</strong></span> view and define its
							properties.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tJoin2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Click the <span class="bold"><strong>Edit schema</strong></span> button to open
							a dialog box that displays the data structure of the input files and
							then define the data you want to pass to the output components, three
							columns in this scenario, <span class="emphasis"><em>idClient</em></span>,
								<span class="emphasis"><em>firstnameClient</em></span> and
								<span class="emphasis"><em>lastnameClient</em></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tJoin3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Click <span class="bold"><strong>OK</strong></span> to close the dialog
							box.</p></li><li class="listitem"><p> In the <span class="bold"><strong>Key definition</strong></span> area of the
								<span class="bold"><strong>Basic settings</strong></span> view of <span class="bold"><strong>tJoin</strong></span>, click the plus button to add two
							columns to the list and then select the input columns and the output
							columns you want to do the exact matching on from the <span class="bold"><strong>Input key attribute</strong></span> and <span class="bold"><strong>Lookup key attribute</strong></span> lists respectively,
								<span class="emphasis"><em>firstnameClient</em></span> and lastnameClient in this
							example.</p></li><li class="listitem"><p> Select the <span class="bold"><strong>Inner join (with reject
								output)</strong></span> check box to define one of the outputs as inner
							join reject table.</p></li><li class="listitem"><p> Double click <span class="bold"><strong>tFileOutputExcel</strong></span> to
							display its <span class="bold"><strong>Basic settings</strong></span> view and
							define its properties.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tJoin4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Set the destination file name as well as the Sheet name and select
							the Include header check box.</p></li><li class="listitem"><p> Double click <span class="bold"><strong>tFileOutputDelimited</strong></span> to
							display its <span class="bold"><strong>Basic settings</strong></span> view and
							define its properties.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tJoin5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Set the destination file name as well as row and field separators in
							the corresponding fields and select the Include header check box.</p></li><li class="listitem"><p> Save your Job and click <span class="bold"><strong>F6</strong></span> to
							execute it.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tJoinExecuted.png"></div><p>The output of the exact match on the <span class="emphasis"><em>firstnameClient</em></span> and
					the <span class="emphasis"><em>lastnameClient</em></span> column is written in the defined excel
					file.</p><div class="mediaobject"><img src="../images/Use_Case_tJoinOutExcel.png"></div><p>The inaccurate data are written in the defined delimited file.</p><div class="mediaobject"><img src="../images/Use_Case_tJoinOutCSV.png"></div></div></div></body></html>