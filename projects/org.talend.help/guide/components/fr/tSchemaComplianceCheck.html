<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tSchemaComplianceCheck</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch05.html" title="Chapitre&nbsp;5.&nbsp;Composants Data Quality"><link rel="prev" href="tReplaceList.html" title="tReplaceList"><link rel="next" href="tUniqRow.html" title="tUniqRow"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="FR" class="section" title="tSchemaComplianceCheck"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tSchemaComplianceCheck"></a>tSchemaComplianceCheck</h2></div></div></div><div class="mediaobject"><img src="../images/tSchemaComplianceCheck_icon32_white.png"></div><div class="section" title="Propri&eacute;t&eacute;s du tSchemaComplianceCheck"><div class="titlepage"><div><div><h3 class="title"><a name="d0e54401"></a>Propri&eacute;t&eacute;s du tSchemaComplianceCheck</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Famille de composant</strong></span>
									</p>
								</td><td valign="top">
									<p>Data Quality</p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Fonction</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Ce composant valide toutes les lignes d&#8217;entr&eacute;e en fonction
										du sch&eacute;ma de r&eacute;f&eacute;rence ou v&eacute;rifie le type, la nullabilit&eacute;,
										la longueur de la ligne en fonction des valeurs de
										r&eacute;f&eacute;rence. Cette validation peut &ecirc;tre appliqu&eacute;e &agrave; l&#8217;ensemble
										des lignes ou une partie seulement.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Objectif</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Le <span class="bold"><strong>tSchemaComplianceCheck</strong></span>
										permet d&#8217;assurer la qualit&eacute; des donn&eacute;es de n&#8217;importe quelle
										source de donn&eacute;es en les comparant aux donn&eacute;es de
										r&eacute;f&eacute;rence.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Base Schema</em></span> et <span class="emphasis"><em>Edit
											schema</em></span></p>
								</td><td valign="top">
									<p>Un sch&eacute;ma est une description de lignes, i.e., il d&eacute;finit
										le nombre de champs qui sont trait&eacute;s et pass&eacute;s au composant
										suivant. Le sch&eacute;ma est soit local (<span class="bold"><strong>Built-in</strong></span>) soit distant dans le <span class="bold"><strong>Repository</strong></span>. </p>
									<p> D&eacute;finissez la structure et la nature des donn&eacute;es &agrave;
										traiter.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in&nbsp;</strong></span>: Le sch&eacute;ma est
										cr&eacute;&eacute; et conserv&eacute; pour ce composant seulement. Voir
										&eacute;galement&nbsp;le <span class="bold"><strong>Guide utilisateur
										</strong></span>de <span class="bluebold">Talend Open Studio</span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository&nbsp;</strong></span>: Le sch&eacute;ma
										existe d&eacute;j&agrave; et est stock&eacute; dans le Repository. Ainsi, il peut
										&ecirc;tre r&eacute;utilisable dans divers projets et Job designs. Voir
										&eacute;galement&nbsp;le <span class="bold"><strong>Guide
											utilisateur</strong></span>
										<span class="bluebold">Talend Open Studio</span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Check all columns from schema</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette option si vous souhaitez effectuer la
										v&eacute;rification sur toutes les colonnes du sch&eacute;ma de
										base.</p>
								</td></tr><tr><td valign="top">&nbsp;</td><td valign="top">
									<p>
										<span class="emphasis"><em>Custom defined</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette option si vous souhaitez effectuer la
										v&eacute;rification sur des colonnes en particulier. Lorsque cette
										option est coch&eacute;e, le tableau <span class="bold"><strong>Checked
											Columns</strong></span> ainsi que la case <span class="bold"><strong>Trim the excess content of column when
											length checking chosen and the length is greater than
											defined length</strong></span> apparaissent.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Checked Columns</em></span>
									</p>
								</td><td valign="top">
									<p>D&eacute;finissez dans ce tableau quelles sont les v&eacute;rifications
										&agrave; effectuer, et sur quelles colonnes.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Column&nbsp;:</strong></span> Affiche les noms
										des colonnes.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Type :</strong></span>s&eacute;lectionnez les
										propri&eacute;t&eacute;s que les donn&eacute;es doivent avoir. Cette validation
										est obligatoire pour toutes les colonnes.</p>
									<p> Pour effectuer cette v&eacute;rification sur toutes les
										colonnes, cochez la case d&#8217;en-t&ecirc;te du tableau.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">&nbsp;</td><td valign="top">
									<p><span class="bold"><strong>Date pattern&nbsp;</strong></span>: D&eacute;finissez
										le format de date souhait&eacute; sur chaque colonne avec le type
										de donn&eacute;es <span class="emphasis"><em>Date</em></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">&nbsp;</td><td valign="top">
									<p><span class="bold"><strong>Nullable&nbsp;</strong></span>: Cochez la case
										de la colonne que vous souhaitez d&eacute;finir comme colonne
										nullable, afin de permettre aux lignes ayant cette colonne
										vide de se diriger vers le flux de sortie sans tenir compte
										du sch&eacute;ma de base d&eacute;fini. Pour d&eacute;finir toutes les colonnes
										comme nullables, cochez la case d&#8217;en-t&ecirc;te du tableau.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Max length&nbsp;</strong></span>: Cochez la
										case de la colonne dont vous souhaitez v&eacute;rifier la longueur
										des donn&eacute;es en fonction de la longueur d&eacute;finie dans le
										sch&eacute;ma de base. Pour effectuer cette v&eacute;rification sur toutes
										les colonnes, cochez la case d&#8217;en-t&ecirc;te du tableau.</p>
								</td></tr><tr><td valign="top">&nbsp;</td><td valign="top">
									<p>
										<span class="emphasis"><em>Trim the excess content of column when length
											checking chosen and the length is greater than defined
											length</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case afin d&#8217;enlever la partie en trop (en
										fonction de la longueur d&eacute;finie) depuis le flux de sortie
										plut&ocirc;t que de rejeter la ligne quand l&#8217;option de
										v&eacute;rification de la longueur des donn&eacute;es est coch&eacute;e.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Use another schema for compliance check</em></span>
									</p>
								</td><td valign="top">
									<p>D&eacute;finissez un sch&eacute;ma de r&eacute;f&eacute;rence en donnant aux donn&eacute;es
										les propri&eacute;t&eacute;s qu&#8217;elles sont cens&eacute;es avoir. Ainsi, les
										donn&eacute;es non conformes seront rejet&eacute;es.</p>
									<p> Ces propri&eacute;t&eacute;s peuvent correspondre au type de donn&eacute;es,
										aux valeurs nulles, et/ou &agrave; la longueur des donn&eacute;es.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Use Fastest Date Check</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case afin d&#8217;effectuer une v&eacute;rification rapide
										du format de date en utilisant la m&eacute;thode <span class="emphasis"><em>TalendDate.isDate()</em></span> de la routine
										syst&egrave;me <span class="emphasis"><em>TalendDate</em></span>
										lorsque <span class="emphasis"><em>Date pattern</em></span> (format de date)
										n&#8217;est pas d&eacute;fini. Pour plus d&#8217;informations concernant les
										routines, consultez le <span class="bold"><strong>Guide
											utilisateur</strong></span>
										<span class="bluebold">Talend Open Studio</span>.</p>
								</td></tr><tr><td valign="top">&nbsp;</td><td valign="top">
									<p>
										<span class="emphasis"><em>Treat all empty string as NULL</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case afin de traiter tous les champs vides de
										chaque colonne comme des valeurs nulles, plut&ocirc;t que comme
										des cha&icirc;nes de caract&egrave;res vides. </p>
									<p> Cette case est coch&eacute;e par d&eacute;faut. Lorsqu&#8217;elle est
										d&eacute;coch&eacute;e, le tableau <span class="bold"><strong>Choose
											Column(s)</strong></span> s&#8217;affiche pour vous permettre de
										s&eacute;lectionner les colonnes que vous souhaitez..</p>
								</td></tr><tr><td valign="top">&nbsp;</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStatCatcher Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case pour collecter les donn&eacute;es de log au
										niveau du composant.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Utilisation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Ce composant est un composant interm&eacute;diaire permettant
										d&#8217;exclure les donn&eacute;es non conformes du flux principal. Ce
										composant ne peut &ecirc;tre utilis&eacute; comme composant de d&eacute;but
										puisqu&#8217;il requiert un flux d&#8217;entr&eacute;e. Il n&eacute;cessite aussi au
										moins un composant de sortie afin de regrouper les flux
										valid&eacute;s et &eacute;ventuellement un deuxi&egrave;me pour les donn&eacute;es
										rejet&eacute;es via un lien Rejects. Pour plus d&#8217;informations,
										consultez le <span class="bold"><strong>Guide
											utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span>.
									</p>
								</td></tr></tbody></table></div></div><div class="section" title="Sc&eacute;nario&nbsp;: Valider les dates en fonction d&#8217;un sch&eacute;ma"><div class="titlepage"><div><div><h3 class="title"><a name="d0e54821"></a>Sc&eacute;nario&nbsp;: Valider les dates en fonction d&#8217;un sch&eacute;ma</h3></div></div></div><p>Ce sc&eacute;nario tr&egrave;s basique permet de v&eacute;rifier le type, la nullabilit&eacute; et la
					longueur des donn&eacute;es du flux d&#8217;entr&eacute;e en fonction du sch&eacute;ma de r&eacute;f&eacute;rence d&eacute;fini.
					Le flux d&#8217;entr&eacute;e provient d&#8217;un fichier csv simple contenant des donn&eacute;es dont les
					propri&eacute;t&eacute;s ont un mauvais type, un mauvais id, dont les donn&eacute;es sont sup&eacute;rieures
					&agrave; la longueur maximum, ou contenant des valeurs nulles dans les colonnes alors
					que celles-ci sont d&eacute;finies comme non nullables.</p><div class="mediaobject"><img src="../images/Use_Case_tSchemaComplianceCheck5.png"></div><p>Lors de la validation, les donn&eacute;es valides ainsi que les donn&eacute;es rejet&eacute;es sont
					affich&eacute;es respectivement dans deux tableaux de la console.</p><div class="mediaobject"><img src="../images/Use_Case_tSchemaComplianceCheck1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A partir de la <span class="bold"><strong>Palette</strong></span>, cliquez et
							d&eacute;posez les composants suivants dans l&#8217;espace de mod&eacute;lisation
							graphique&nbsp;: <span class="bold"><strong>tFileInputDelimited</strong></span>,
								<span class="bold"><strong>tSchemaComplianceCheck</strong></span>, ainsi que
							deux composants<span class="bold"><strong> tLogRow</strong></span>.</p></li><li class="listitem"><p>Cliquez-droit sur le <span class="bold"><strong>tFileInputDelimited</strong></span> pour le connecter au composant
								<span class="bold"><strong>tSchemaComplianceCheck</strong></span> via une
							connexion <span class="bold"><strong>Row Main</strong></span>.</p></li><li class="listitem"><p>Cliquez-droit sur le composant <span class="bold"><strong>tSchemaComplianceCheck</strong></span> et s&eacute;lectionnez <span class="bold"><strong>Row &gt; Main</strong></span> pour le connecter au premier
							composant <span class="bold"><strong>tLogRow</strong></span>. Ce flux de sortie ne
							contiendra que les donn&eacute;es valides.</p></li><li class="listitem"><p>Cliquez-droit une deuxi&egrave;me fois sur le composant <span class="bold"><strong>tSchemaComplianceCheck</strong></span> et cette fois s&eacute;lectionnez
								<span class="bold"><strong>Row &gt; Rejects</strong></span> pour le connecter
							au second composant <span class="bold"><strong>tLogRow</strong></span>. Cette
							deuxi&egrave;me sortie regroupera toutes les donn&eacute;es non conformes.</p></li><li class="listitem"><p>S&eacute;lectionnez le lien <span class="bold"><strong>Rejects</strong></span> que vous
							venez de connecter, vous remarquerez que le sch&eacute;ma transmis au second
								<span class="bold"><strong>tLogRow</strong></span> contient deux nouvelles
							colonnes&nbsp;: <span class="emphasis"><em>ErrorCode</em></span> et
								<span class="emphasis"><em>ErrorMessage</em></span>. Ces deux colonnes sont en lecture
							seule et fournissent des informations sur les donn&eacute;es rejet&eacute;es, afin de
							faciliter le traitement et la correction des erreurs, si
							n&eacute;cessaire.</p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tFileInputDelimited </strong></span>afin d&#8217;afficher sa vue <span class="bold"><strong>Basic settings</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSchemaComplianceCheck2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Renseignez le chemin d&#8217;acc&egrave;s au fichier d&#8217;entr&eacute;e dans le champ
								<span class="bold"><strong>File Name</strong></span>.</p></li><li class="listitem"><p>Sp&eacute;cifiez quelle est la ligne d&#8217;en-t&ecirc;te. Dans ce sc&eacute;nario, il s&#8217;agit
							de la premi&egrave;re ligne.</p></li><li class="listitem"><p>Laissez les autres param&egrave;tres tels qu&#8217;ils sont.</p></li><li class="listitem"><p>Cliquez sur <span class="bold"><strong>Edit Schema</strong></span> pour d&eacute;crire
							la structure de donn&eacute;es de ce fichier d&#8217;entr&eacute;e. Dans ce sc&eacute;nario, le
							sch&eacute;ma est compos&eacute; de cinq colonnes&nbsp;: <span class="emphasis"><em>ID</em></span>,
								<span class="emphasis"><em>Name</em></span>, <span class="emphasis"><em>BirthDate</em></span>,
								<span class="emphasis"><em>State</em></span>, et <span class="emphasis"><em>City</em></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSchemaComplianceCheck3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Laissez le champ <span class="bold"><strong>Type</strong></span> aussi permissif
							que possible. Vous d&eacute;finirez le type de donn&eacute;es r&eacute;el dans la vue
								<span class="bold"><strong>Component</strong></span> du composant <span class="bold"><strong>tSchemaComplianceCheck</strong></span>.</p></li><li class="listitem"><p>Renseignez le champ <span class="bold"><strong>Length</strong></span> des
							colonnes <span class="emphasis"><em>Name</em></span>, <span class="emphasis"><em>State</em></span> et
								<span class="emphasis"><em>City</em></span>&nbsp;: respectivement <span class="emphasis"><em>7</em></span>,
								<span class="emphasis"><em>10</em></span> et <span class="emphasis"><em>10</em></span>.</p></li><li class="listitem"><p>Puis double-cliquez sur le composant <span class="bold"><strong>tSchemaComplianceCheck</strong></span> pour configurer les param&egrave;tres de
							validation.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSchemaComplianceCheck4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cochez l&#8217;option <span class="bold"><strong>Custom defined</strong></span> dans
							la zone <span class="bold"><strong>Mode</strong></span> pour effectuer des
							validations personnalis&eacute;es. Dans cet exemple, le tableau <span class="bold"><strong>Checked columns</strong></span> permet de configurer les
							param&egrave;tres de validations.</p><p> Cependant, vous pouvez aussi cocher la case <span class="bold"><strong>Check all columns from schema</strong></span> si vous souhaitez v&eacute;rifier
							tous les param&egrave;tres de toutes les colonnes (type, valeurs nulles et
							longueur), en fonction du sch&eacute;ma de base d&eacute;fini, ou encore cocher
							l&#8217;option <span class="bold"><strong>Use another schema for compliance
								check</strong></span> et d&eacute;finir le sch&eacute;ma de la structure des donn&eacute;es
							souhait&eacute;.</p></li><li class="listitem"><p>Dans le tableau <span class="bold"><strong>Checked Columns</strong></span>,
							d&eacute;finissez les v&eacute;rifications &agrave; effectuer. Pour ce sc&eacute;nario&nbsp;:</p><p>- S&eacute;lectionnez <span class="bold"><strong>Int</strong></span> comme <span class="bold"><strong>Type</strong></span> de donn&eacute;es de la colonne
								<span class="emphasis"><em>ID</em></span>.</p><p>- Cochez la case <span class="bold"><strong>Length</strong></span> afin que les
							longueurs des colonnes <span class="emphasis"><em>Name</em></span>,
								<span class="emphasis"><em>State</em></span> et <span class="emphasis"><em>City</em></span> soient
							v&eacute;rifi&eacute;es.</p><p>- S&eacute;lectionnez <span class="bold"><strong>Date</strong></span> comme <span class="bold"><strong>Type</strong></span> de donn&eacute;es de la colonne
								<span class="emphasis"><em>BirthDate, </em></span>et<span class="emphasis"><em> </em></span><span class="emphasis"><em>dd-MM-yyyy</em></span><span class="emphasis"><em> </em></span>comme<span class="bold"><strong> Date pattern</strong></span>.</p><p>- D&eacute;cochez la case <span class="bold"><strong>Nullable</strong></span> afin que
							les valeurs nulles de toutes les colonnes soient v&eacute;rifi&eacute;es. </p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Pour rejeter les champs dont les donn&eacute;es sont sup&eacute;rieures &agrave; la longueur
						maximum d&eacute;finie, assurez-vous que la case <span class="bold"><strong>Trim the
							excess content of column when length checking chosen and the length is
							greater than defined length</strong></span> est d&eacute;coch&eacute;e. </p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la vue <span class="bold"><strong>Advanced settings</strong></span> du
							composant <span class="bold"><strong>tSchemaComplianceCheck</strong></span>,
							cochez la case <span class="bold"><strong>Treat all empty string as
								NULL</strong></span> afin de rejeter toutes les lignes contenant des
							champs vides.</p></li><li class="listitem"><p>Pour visualiser le r&eacute;sultat du processus de validation sous forme de
							tableau dans la console <span class="bold"><strong>Run</strong></span>,
							double-cliquez sur chaque composant <span class="bold"><strong>tLogRow</strong></span> et cochez la case <span class="bold"><strong>Table</strong></span> dans leur vue <span class="bold"><strong>Basic
								settings</strong></span>.</p></li><li class="listitem"><p> Enregistrez votre Job et appuyez sur <span class="bold"><strong>F6</strong></span> pour l&#8217;ex&eacute;cuter. </p><p> Deux tableaux s&#8217;affichent dans la console, qui montrent
							respectivement les donn&eacute;es valides et les donn&eacute;es rejet&eacute;es.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSchemaComplianceCheck6.png"></div></div></div></body></html>