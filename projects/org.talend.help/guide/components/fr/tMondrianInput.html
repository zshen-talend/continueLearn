<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tMondrianInput</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch02.html" title="Chapitre&nbsp;2.&nbsp;Composants Business Intelligence"><link rel="prev" href="tLineChart.html" title="tLineChart"><link rel="next" href="tMSSqlSCD.html" title="tMSSqlSCD"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="FR" class="section" title="tMondrianInput"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tMondrianInput"></a>tMondrianInput</h2></div></div></div><div class="mediaobject"><img src="../images/tMondrianInput_icon32_white.png"></div><div class="section" title="Propri&eacute;t&eacute;s du tMondrianInput"><div class="titlepage"><div><div><h3 class="title"><a name="d0e25734"></a>Propri&eacute;t&eacute;s du tMondrianInput</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Famille du composant</strong></span>
									</p>
								</td><td valign="top">
									<p>Business Intelligence/OLAP Cube</p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Fonction</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Le composant <span class="bold"><strong>tMondrianInput</strong></span> lit des donn&eacute;es &agrave; partir de
										bases relationnelles et produit des groupes de donn&eacute;es
										multidimensionnels reposant sur une requ&ecirc;te MDX. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Objectif</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Le <span class="bold"><strong>tMondrianInput</strong></span> ex&eacute;cute
										une expression multi-dimensionnelle (MDX) correspondant &agrave; la
										structure du groupe de donn&eacute;es et au sch&eacute;ma d&eacute;fini. Puis il
										passe les donn&eacute;es multidimensionnelles obtenues au composant
										suivant &agrave; l&#8217;aide d&#8217;un lien de type <span class="bold"><strong>Row
											Main</strong></span>. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Mondrian Version</em></span>
									</p>
								</td><td valign="top">
									<p>S&eacute;lectionnez la version de Mondrian que vous
										utilisez.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>DB type</em></span>
									</p>
								</td><td valign="top">
									<p>S&eacute;lectionnez le type de relation appropri&eacute; pour relier les
										bases de donn&eacute;es. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Property type</em></span>
									</p>
								</td><td valign="top">
									<p>Peut &ecirc;tre Built-in ou Repository.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in</strong></span>&nbsp;: Propri&eacute;t&eacute;s
										utilis&eacute;es ponctuellement.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository&nbsp;</strong></span>: S&eacute;lectionnez
										le fichier de propri&eacute;t&eacute;s du composant. Les champs suivants
										sont alors pr&eacute;-remplis &agrave; l&#8217;aide des donn&eacute;es
										collect&eacute;es.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Datasource</em></span>
									</p>
								</td><td valign="top">
									<p>Chemin d&#8217;acc&egrave;s et nom du fichier contenant les
										donn&eacute;es.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Username</em></span> et
											<span class="emphasis"><em>Password</em></span></p>
								</td><td valign="top">
									<p>Informations d&#8217;authentification de l&#8217;utilisateur de la
										base de donn&eacute;es.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema</em></span> et <span class="emphasis"><em>Edit
											Schema</em></span></p>
								</td><td valign="top">
									<p>Un sch&eacute;ma est une description de lignes, i.e., il d&eacute;finit
										le nombre de champs qui sont trait&eacute;s et pass&eacute;s au composant
										suivant. Le sch&eacute;ma est soit local (Built-in) soit distant
										dans le <span class="bold"><strong>Repository</strong></span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in</strong></span>&nbsp;: Le sch&eacute;ma est
										cr&eacute;&eacute; et conserv&eacute; pour ce composant seulement. Voir
										&eacute;galement&nbsp;: <span class="bold"><strong>Guide
											Utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span>.
									</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository&nbsp;</strong></span>: Le sch&eacute;ma
										existe d&eacute;j&agrave; et est stock&eacute; dans le <span class="bold"><strong>Repository</strong></span>. Ainsi, il peut &ecirc;tre r&eacute;utilis&eacute;.
										Voir &eacute;galement&nbsp;: le <span class="bold"><strong>Guide Utilisateur
										</strong></span>de <span class="bluebold">Talend Open Studio</span>.
									</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Catalog</em></span>
									</p>
								</td><td valign="top">
									<p>Chemin d&#8217;acc&egrave;s au catalogue (structure de l&#8217;entrep&ocirc;t de
										donn&eacute;es). </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>MDX Query</em></span>
									</p>
								</td><td valign="top">
									<p>Saisissez votre requ&ecirc;te MDX en faisant attention &agrave; ce que
										l&#8217;ordre des champs corresponde &agrave; celui d&eacute;fini dans le sch&eacute;ma
										et dans la structure de l&#8217;entrep&ocirc;t de donn&eacute;es. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Encoding</em></span>
									</p>
								</td><td valign="top">
									<p>S&eacute;lectionnez le type d&#8217;encodage &agrave; partir de la liste ou
										choisissez l&#8217;option <span class="bold"><strong>Custom</strong></span>
										pour le d&eacute;finir manuellement. Ce champ doit obligatoirement
										&ecirc;tre renseign&eacute;.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStatCatcher Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case pour collecter les donn&eacute;es de log au
										niveau du composant.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Utilisation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Ce composant couvre toutes les possibilit&eacute;s des requ&ecirc;tes
										MDX pour des groupes de donn&eacute;es multidimensionnels. </p>
								</td></tr></tbody></table></div></div><div class="section" title="Sc&eacute;nario&nbsp;: Tables en jointure crois&eacute;e"><div class="titlepage"><div><div><h3 class="title"><a name="d0e26102"></a>Sc&eacute;nario&nbsp;: Tables en jointure crois&eacute;e</h3></div></div></div><p>Le pr&eacute;sent Job permet d&#8217;extraire des groupes de donn&eacute;es multidimensionnels &agrave;
					partir de tables de bases de donn&eacute;es relationnelles stock&eacute;es dans une base
					MySQL. Les donn&eacute;es sont r&eacute;cup&eacute;r&eacute;es &agrave; l&#8217;aide d&#8217;une expression multidimensionnelle
					(requ&ecirc;te MDX). Il est clair que vous devez conna&icirc;tre la structure de vos
					donn&eacute;es, ou du moins disposer d&#8217;une description de la structure (catalogue)
					comme r&eacute;f&eacute;rence du groupe de donn&eacute;es &agrave; r&eacute;cup&eacute;rer dans ces diff&eacute;rentes
					dimensions. </p><div class="mediaobject"><img src="../images/Use_Case_tMondrianInput1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A partir de la <span class="bold"><strong>Palette</strong></span>,
							cliquez-d&eacute;posez un composant <span class="bold"><strong>tMondrianInput</strong></span> (famille <span class="bold"><strong>Business
								Intelligence</strong></span>) ainsi qu&#8217;un composant de sortie <span class="bold"><strong>tLogRow</strong></span> (famille <span class="bold"><strong>Logs
								&amp; Errors</strong></span>).</p></li><li class="listitem"><p>Reliez le <span class="bold"><strong>tMondrianInput</strong></span> au composant
							de sortie &agrave; l&#8217;aide d&#8217;un lien de type <span class="bold"><strong>Row
								Main</strong></span>. </p></li><li class="listitem"><p>S&eacute;lectionnez le composant <span class="bold"><strong>tMondrianInput</strong></span> puis cliquez sur la vue <span class="bold"><strong>Component</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMondrianInput2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans le champ <span class="bold"><strong>DB Type</strong></span>, s&eacute;lectionnez
							la base de donn&eacute;es relationnelle &agrave; utiliser avec Mondrian.</p></li><li class="listitem"><p>S&eacute;lectionnez l&#8217;entr&eacute;e du <span class="bold"><strong>Repository</strong></span>
							correspondante dans le champ <span class="bold"><strong>Property
								type</strong></span>, dans le cas o&ugrave; vous stockez les d&eacute;tails de
							connexion &agrave; vos bases de donn&eacute;es de mani&egrave;re centralis&eacute;e. Dans cet
							exemple, les propri&eacute;t&eacute;s sont en mode <span class="bold"><strong>Built-in</strong></span>.</p></li><li class="listitem"><p>Remplissez les d&eacute;tails de connexion &agrave; votre base de donn&eacute;es&nbsp;:
								<span class="bold"><strong>Host</strong></span>, <span class="bold"><strong>Port</strong></span>, <span class="bold"><strong>Database</strong></span>,
								<span class="bold"><strong>User Name </strong></span>et <span class="bold"><strong>Password</strong></span>.</p></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>Schema</strong></span>, s&eacute;lectionnez le
							sch&eacute;ma correspondant &agrave; partir du <span class="bold"><strong>Repository</strong></span> dans le cas o&ugrave; il est stock&eacute; de mani&egrave;re
							centralis&eacute;e. Dans cet exemple, le sch&eacute;ma doit reste &agrave; d&eacute;finir (mode
								<span class="bold"><strong>Built-in</strong></span>).</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMondrianInput3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>La base de donn&eacute;es relationnelle que l&#8217;on veut interroger contient
							cinq colonnes&nbsp;: <span class="emphasis"><em>media</em></span>, <span class="emphasis"><em>drink</em></span>,
								<span class="emphasis"><em>unit_sales</em></span>, <span class="emphasis"><em>store_cost</em></span> et
								<span class="emphasis"><em>store_sales</em></span>.</p></li><li class="listitem"><p>La requ&ecirc;te doit permettre de r&eacute;cup&eacute;rer le contenu de
								<span class="emphasis"><em>unit_sales</em></span>, <span class="emphasis"><em>store_cost</em></span> et
							de <span class="emphasis"><em>store_sales</em></span> pour les diff&eacute;rentes valeur de
								<span class="emphasis"><em>media </em></span>/ <span class="emphasis"><em>drink</em></span> en utilisant
							une requ&ecirc;te MDX comme dans l&#8217;exemple ci-dessous&nbsp;:</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMondrianInput4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A partir de l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span>
							du composant <span class="bold"><strong>tMondrianInput</strong></span>, renseignez
							le chemin d&#8217;acc&egrave;s au catalogue de l&#8217;entrep&ocirc;t de donn&eacute;es dans le champ
								<span class="bold"><strong>Catalog</strong></span>. Ce catalogue d&eacute;crit la
							structure de l&#8217;entrep&ocirc;t. </p></li><li class="listitem"><p>Entrez ensuite la requ&ecirc;te MDX de la mani&egrave;re suivante&nbsp;:</p><p>
							</p><pre class="programlisting">"select<span></span>
   {[Measures].[Unit Sales], [Measures].[Store Cost], [Measures].[Store
Sales]} on columns,<span></span>
   CrossJoin(<span></span>
     { [Promotion Media].[All Media].[Radio],<span></span>
       [Promotion Media].[All Media].[TV],<span></span>
       [Promotion Media].[All Media].[Sunday Paper],<span></span>
       [Promotion Media].[All Media].[Street Handout] },<span></span>
     [Product].[All Products].[Drink].children) on rows<span></span>
 from Sales<span></span>
 where ([Time].[1997])"</pre><p>
						</p></li><li class="listitem"><p>S&eacute;lectionnez enfin le type d&#8217;encodage &agrave; partir de la liste du champ
								<span class="bold"><strong>Encoding</strong></span>
							<span class="bold"><strong>Type</strong></span>.</p></li><li class="listitem"><p>S&eacute;lectionnez le composant <span class="bold"><strong>tLogRow</strong></span>
							puis cochez l&#8217;option <span class="bold"><strong>Print header</strong></span> pour
							afficher le nom des colonnes sur la console. </p></li><li class="listitem"><p>Enregistrez le Job puis appuyez sur <span class="bold"><strong>F6</strong></span> pour l&#8217;ex&eacute;cuter.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMondrianInput5.png"></div><p>La console affiche le r&eacute;sultat de <span class="emphasis"><em>unit_sales</em></span>,
						<span class="emphasis"><em>store_cost</em></span> et <span class="emphasis"><em>store_sales</em></span> pour
					chaque type de <span class="emphasis"><em>Drink</em></span> (<span class="emphasis"><em>Beverages</em></span>,
						<span class="emphasis"><em>Dairy</em></span>, <span class="emphasis"><em>Alcoholic beverages</em></span>) crois&eacute;
					avec chaque type de <span class="emphasis"><em>media</em></span> (<span class="emphasis"><em>TV</em></span>,
						<span class="emphasis"><em>Sunday Paper</em></span>, <span class="emphasis"><em>Street handout</em></span>)
					comme illustr&eacute; ci-dessus.</p></div></div></body></html>