<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tExtractXMLField</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch19.html" title="Chapitre&nbsp;19.&nbsp;Composants XML"><link rel="prev" href="tEDIFACTtoXML.html" title="tEDIFACTtoXML"><link rel="next" href="tFileInputXML.html" title="tFileInputXML"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="FR" class="section" title="tExtractXMLField"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tExtractXMLField"></a>tExtractXMLField</h2></div></div></div><div class="mediaobject"><img src="../images/tExtractXMLField_icon32.png"></div><a name="Xaa2267741"></a><div class="section" title="Propri&eacute;t&eacute;s du tExtractXMLField"><div class="titlepage"><div><div><h3 class="title"><a name="d0e272675"></a>Propri&eacute;t&eacute;s du tExtractXMLField</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Famille de composant</strong></span>
									</p>
								</td><td valign="top">
									<p>XML</p>
								</td><td valign="top"> </td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Fonction</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Le composant <span class="bold"><strong>tExtractXMLField</strong></span> lit la structure XML
										contenue dans les champs d&#8217;un fichier ou d&#8217;une table et en
										extrait les donn&eacute;es.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Objectif</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Le <span class="bold"><strong>tExtractXMLField</strong></span> lit
										la structure XML contenue dans les champs d&#8217;un fichier ou
										d&#8217;une table, r&eacute;cup&egrave;re les donn&eacute;es contenues dans cette
										structure et les envoie au composant suivant via un lien
										Row.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Property type</em></span>
									</p>
								</td><td valign="top">
									<p>Peut &ecirc;tre Built-in ou Repository. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in&nbsp;</strong></span>: Propri&eacute;t&eacute;s
										utilis&eacute;es ponctuellement..</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository&nbsp;</strong></span>: S&eacute;lectionnez
										le fichier de propri&eacute;t&eacute;s du composant. Les champs suivants
										sont alors pr&eacute;-remplis &agrave; l&#8217;aide des donn&eacute;es
										collect&eacute;es.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema</em></span> et <span class="emphasis"><em>Edit
											Schema</em></span></p>
								</td><td valign="top">
									<p>Un sch&eacute;ma est une description de lignes, i.e., il d&eacute;finit
										le nombre de champs qui sont trait&eacute;s et pass&eacute;s au composant
										suivant. Le sch&eacute;ma est soit local (built-in) soit distant
										dans le Repository.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in&nbsp;</strong></span>: Le sch&eacute;ma est
										cr&eacute;&eacute; et conserv&eacute; ponctuellement pour ce composant seulement.
										Voir &eacute;galement&nbsp;le <span class="bold"><strong>Guide
											utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span>.
									</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository</strong></span>&nbsp;: Le sch&eacute;ma
										existe d&eacute;j&agrave; et est stock&eacute; dans le Repository. Ainsi, il peut
										&ecirc;tre r&eacute;utilis&eacute; dans divers projets et Job designs. Voir
										&eacute;galement&nbsp;le <span class="bold"><strong>Guide
											utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span>.
									</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>XML field</em></span>
									</p>
								</td><td valign="top">
									<p>Nom du champ XML &agrave; traiter. </p>
									<p>Voir &eacute;galement&nbsp;le <span class="bold"><strong>Guide
											utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span></p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Loop XPath query</em></span>
									</p>
								</td><td valign="top">
									<p>N&#339;ud de l&#8217;arborescence XML sur lequel est bas&eacute; la
										boucle.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Mapping </em></span>
									</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Column</strong></span>&nbsp;: refl&egrave;te le
										sch&eacute;ma tel qu&#8217;il est d&eacute;fini dans l&#8217;&eacute;diteur Edit
										Schema.</p>
									<p><span class="bold"><strong>XPath Query&nbsp;</strong></span>: Saisissez
										les champs &agrave; extraire de la structure Xml d&#8217;entr&eacute;e.</p>
									<p><span class="bold"><strong>Get nodes</strong></span>&nbsp;: Cochez cette
										case pour r&eacute;cup&eacute;rer le contenu XML de tous les n&#339;uds
										courants sp&eacute;cifi&eacute;s dans le champ <span class="bold"><strong>Xpath
											Query</strong></span>, ou cochez la case correspondant &agrave; un
										n&#339;ud sp&eacute;cifique pour ne r&eacute;cup&eacute;rer que le contenu du n&#339;ud
										s&eacute;lectionn&eacute;.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Limit</em></span>
									</p>
								</td><td valign="top">
									<p>Nombre maximum de lignes &agrave; traiter. Si Limit = 0, aucune
										ligne n&#8217;est lue ou trait&eacute;e.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Die on error</em></span>
									</p>
								</td><td valign="top">
									<p>Cette case est coch&eacute;e par d&eacute;faut et stoppe le Job en cas
										d&#8217;erreur. D&eacute;cochez cette case pour terminer le traitement
										avec les lignes sans erreurs, et ignorer les lignes en
										erreur. Vous pouvez r&eacute;cup&eacute;rer les lignes en erreur, si vous
										le souhaitez. Pour cela, utilisez un lien <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Reject</strong></span>.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStatCatcher Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case pour collecter les donn&eacute;es de log du
										Job, aussi bien au niveau du Job qu&#8217;au niveau de chaque
										composant. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Utilisation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Ce composant doit &ecirc;tre utilis&eacute; en composant interm&eacute;diaire.
										Il n&eacute;cessite donc un composant d&#8217;entr&eacute;e et de sortie. Il
										permet d'extraire des donn&eacute;es d'un champ d&eacute;limit&eacute; &agrave; l'aide
										d'un lien <span class="bold"><strong>Row</strong></span> &gt;
											<span class="bold"><strong>Main</strong></span>, et permet de
										cr&eacute;er un flux de rejet avec un lien <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Reject</strong></span>, filtrant les donn&eacute;es dont le type ne
										correspond pas au type d&eacute;fini.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Limitation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>n/a</p>
								</td></tr></tbody></table></div></div><div class="section" title="Sc&eacute;nario&nbsp;1&nbsp;: Extraire les donn&eacute;es XML d&#8217;un champ d&#8217;une table de base de donn&eacute;es"><div class="titlepage"><div><div><h3 class="title"><a name="d0e273049"></a>Sc&eacute;nario&nbsp;1&nbsp;: Extraire les donn&eacute;es XML d&#8217;un champ d&#8217;une table de base de
					donn&eacute;es</h3></div></div></div><p>Ce sc&eacute;nario est compos&eacute; de trois composants et permet de lire la structure XML
					contenue dans les champs d&#8217;une base de donn&eacute;es et d&#8217;en extraire les
					donn&eacute;es.</p><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Glissez les composants <span class="bold"><strong>tMysqlInput</strong></span> de
							la famille <span class="bold"><strong>Database</strong></span> &gt; <span class="bold"><strong>Mysql</strong></span>, <span class="bold"><strong>tExtractXMLField</strong></span> de la famille <span class="bold"><strong>Xml</strong></span> et un composant <span class="bold"><strong>tFileOutputDelimited</strong></span> de la famille <span class="bold"><strong>File</strong></span> &gt; <span class="bold"><strong>Output</strong></span> de la
								<span class="bold"><strong>Palette</strong></span> dans le Job
							designer.</p></li><li class="listitem"><p>Reliez les composants entre eux via des connexions de type <span class="bold"><strong>Main</strong></span> &gt; <span class="bold"><strong>Row</strong></span>.</p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tMysqlInput</strong></span> pour param&eacute;trer ses propri&eacute;t&eacute;s dans l&#8217;onglet
								<span class="bold"><strong>Basic settings</strong></span> de la vue <span class="bold"><strong>Component</strong></span>&nbsp;: </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Si votre sch&eacute;ma est d&eacute;j&agrave; stock&eacute; sous le n&#339;ud <span class="bold"><strong>Db
								Connections</strong></span> dans le <span class="bold"><strong>Repository</strong></span>, s&eacute;lectionnez l&#8217;option <span class="bold"><strong>Repository</strong></span> dans le champ<span class="bold"><strong> Schema
								Type</strong></span> puis choisissez les m&eacute;tadonn&eacute;es appropri&eacute;es &agrave; partir
							de la liste. </p></li><li class="listitem"><p>Si vous n&#8217;avez encore d&eacute;fini aucun sch&eacute;ma, s&eacute;lectionnez l&#8217;option
								<span class="bold"><strong>Built-in</strong></span> et renseignez manuellement
							les informations de connexion et la structure des donn&eacute;es dans un
							sch&eacute;ma. Pour plus d&#8217;informations sur les propri&eacute;t&eacute;s du composant
								<span class="bold"><strong>tMysqlInput</strong></span>, consultez <a class="xref" href="tMysqlInput.html" title="tMysqlInput">la section intitul&eacute;e &laquo;&nbsp;tMysqlInput&nbsp;&raquo;</a>.</p></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>Table Name</strong></span>, saisissez
							le nom de la table dont les champs contiennent les donn&eacute;es XML. Dans ce
							sc&eacute;nario, la table se nomme <span class="emphasis"><em>customerdetails</em></span> et ne
							contient qu&#8217;une seule colonne.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>Guess Query</strong></span>
							pour r&eacute;cup&eacute;rer la requ&ecirc;te correspondant &agrave; votre sch&eacute;ma.</p></li><li class="listitem"><p>Dans le Job designer, double-cliquez sur le composant <span class="bold"><strong>tExtractXMLField</strong></span> pour param&eacute;trer ses
							propri&eacute;t&eacute;s dans l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span>
							de la vue <span class="bold"><strong>Component</strong></span>&nbsp;: </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la liste d&eacute;roulante <span class="bold"><strong>Property
								type</strong></span>, s&eacute;lectionnez l&#8217;option <span class="bold"><strong>Repository</strong></span> si la description de votre fichier est
							stock&eacute;e dans une m&eacute;tadonn&eacute;e du Repository. Si vous cliquez-d&eacute;posez le
							composant directement &agrave; partir de la m&eacute;tadonn&eacute;e, vous n&#8217;aurez pas besoin
							de modifier ses propri&eacute;t&eacute;s.</p></li><li class="listitem"><p>Sinon, s&eacute;lectionnez l&#8217;option <span class="bold"><strong>Built-in</strong></span>
							et renseignez manuellement les champs suivants. </p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>Sync columns</strong></span>
							pour r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Vous pouvez cliquer sur
							le bouton <span class="bold"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ
								<span class="bold"><strong>Edit schema</strong></span> pour consulter le
							sch&eacute;ma.</p></li><li class="listitem"><p>Dans la liste <span class="bold"><strong>Xml field</strong></span>, s&eacute;lectionnez
							la colonne dont vous souhaitez extraire le contenu XML. La colonne se
							nomme <span class="emphasis"><em>CustomerDetails</em></span> et est l&#8217;unique colonne de la
							table <span class="emphasis"><em>customerdetails</em></span>.</p></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>Loop XPath query</strong></span>,
							saisissez le n&#339;ud de l&#8217;arborescence sur lequel effectuer la boucle afin
							de r&eacute;cup&eacute;rer les donn&eacute;es.</p></li><li class="listitem"><p>La colonne <span class="bold"><strong>Column</strong></span> du tableau
								<span class="bold"><strong>Mapping</strong></span> sera automatiquement
							renseign&eacute;e avec la description du fichier que vous avez configur&eacute;. Dans
							la colonne <span class="bold"><strong>Xpath query</strong></span>, saisissez entre
							guillemet le n&#339;ud du champ XML contenant les donn&eacute;es que vous voulez
							extraire. Dans ce sc&eacute;nario, l&#8217;objectif est d&#8217;extraire les noms des
							clients, saisissez donc <span class="emphasis"><em>&#8220;CustomerName&#8221;</em></span> qui
							correspond &agrave; l&#8217;&eacute;l&eacute;ment XML contenant cette information.</p></li><li class="listitem"><p>Dans le Job designer, double-cliquez sur le composant <span class="bold"><strong>tFileOutputDelimited</strong></span> pour param&eacute;trer ses
							propri&eacute;t&eacute;s dans l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span>
							de la vue <span class="bold"><strong>Component</strong></span>&nbsp;: </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans le champ <span class="bold"><strong>File Name</strong></span>, indiquez le
							r&eacute;pertoire et le nom du fichier de sortie. Pour ce sc&eacute;nario, appelez le
							fichier <span class="emphasis"><em>CustomerNames.csv</em></span>.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>Sync columns</strong></span>
							pour r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Vous pouvez cliquer sur
							le bouton<span class="bold"><strong> [...]</strong></span> &agrave; c&ocirc;t&eacute; du champ
								<span class="bold"><strong>Edit schema</strong></span> pour consulter le
							sch&eacute;ma.</p></li><li class="listitem"><p>Enregistrez le Job et appuyez sur <span class="bold"><strong>F6</strong></span>
							pour l&#8217;ex&eacute;cuter. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField5.png"></div><p>Le Job retourne les noms des clients contenus sous le n&#339;ud
						<code class="code">CustomerName</code> du champ <span class="emphasis"><em>CustomerDetails</em></span> de
					la table. </p></div><div class="section" title="Sc&eacute;nario&nbsp;2&nbsp;: Extraire les donn&eacute;es valides et les donn&eacute;es erron&eacute;es &agrave; partir d&#8217;un champ XML dans fichier d&eacute;limit&eacute;"><div class="titlepage"><div><div><h3 class="title"><a name="d0e273284"></a>Sc&eacute;nario&nbsp;2&nbsp;: Extraire les donn&eacute;es valides et les donn&eacute;es erron&eacute;es &agrave; partir
					d&#8217;un champ XML dans fichier d&eacute;limit&eacute;</h3></div></div></div><p>Ce sc&eacute;nario est compos&eacute; de quatre composants et permet de lire la structure
					XML contenue dans les champs d&#8217;un fichier d&eacute;limit&eacute;, d&#8217;en extraire les donn&eacute;es et
					de rejeter les donn&eacute;es erron&eacute;es.</p><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField6.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A partir de la <span class="bold"><strong>Palette</strong></span>, glissez dans
							le Job designer les composants <span class="bold"><strong>tFileInputDelimited</strong></span> de la famille <span class="bold"><strong>File</strong></span> &gt; <span class="bold"><strong>Input</strong></span>,
								<span class="bold"><strong>tExtractXMLField</strong></span> de la famille
								<span class="bold"><strong>Xml</strong></span>, <span class="bold"><strong>tFileOutputDelimited</strong></span> de la famille <span class="bold"><strong>File</strong></span> &gt; <span class="bold"><strong>Output</strong></span> et
								<span class="bold"><strong>tLogRow</strong></span> de la famille <span class="bold"><strong>Logs &amp; Errors</strong></span>.</p></li><li class="listitem"><p>Reliez les composants entre eux comme indiqu&eacute; sur le sch&eacute;ma
							ci-dessus.</p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tFileInputDelimited</strong></span> pour param&eacute;trer ses propri&eacute;t&eacute;s dans
							l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span> de la vue
								<span class="bold"><strong>Component</strong></span>&nbsp;: </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField7.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>S&eacute;lectionnez l&#8217;option <span class="bold"><strong>Built-in</strong></span> &agrave;
							partir de la liste d&eacute;roulante <span class="bold"><strong>Schema</strong></span> et
							renseignez manuellement les informations concernant le fichier d&eacute;limit&eacute;
							dans les champs correspondants. </p></li><li class="listitem"><p>Cliquez sur le bouton<span class="bold"><strong> [...] </strong></span>&agrave; c&ocirc;t&eacute; du
							champ <span class="bold"><strong>Edit schema</strong></span> pour afficher la
							bo&icirc;te de dialogue permettant de d&eacute;finir la structure des donn&eacute;es, comme
							pr&eacute;sent&eacute; ci-dessus. </p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>[+]</strong></span> pour
							ajouter autant de lignes que n&eacute;cessaire &agrave; la structure des donn&eacute;es. Dans
							cet exemple, il n&#8217;y a qu&#8217;une seule colonne dans le sch&eacute;ma&nbsp;:
								<span class="emphasis"><em>xmlStr</em></span>.</p></li><li class="listitem"><p>Cliquez sur <span class="bold"><strong>OK</strong></span> pour valider vos
							changements et fermer la bo&icirc;te de dialogue. </p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Si vous avez pr&eacute;alablement stock&eacute; votre sch&eacute;ma dans le r&eacute;pertoire
							<span class="bold"><strong>Metadata</strong></span> sous <span class="bold"><strong>File delimited</strong></span>, s&eacute;lectionnez l&#8217;option <span class="bold"><strong>Repository</strong></span> dans la liste d&eacute;roulante <span class="bold"><strong>Schema</strong></span> puis cliquez sur le bouton <span class="bold"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ pour afficher la bo&icirc;te de dialogue
							<span class="bold"><strong>[Repository Content]</strong></span> &agrave; partir de
						laquelle vous pouvez s&eacute;lectionner un sch&eacute;ma pertinent. Cliquez sur <span class="bold"><strong>OK </strong></span>pour fermer la bo&icirc;te de dialogue et remplir
						les champs automatiquement avec les m&eacute;tadonn&eacute;es contenues dans le sch&eacute;ma. </p><p>Pour plus d&#8217;informations sur le stockage des sch&eacute;mas de m&eacute;tadonn&eacute;es dans
						le <span class="bold"><strong>Repository</strong></span>, consultez le <span class="bold"><strong>Guide utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span>. </p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A partir de la liste <span class="bold"><strong>Property type</strong></span>,
							s&eacute;lectionnez&nbsp;: </p><p>-<span class="bold"><strong>Repository</strong></span> si vous avez d&eacute;j&agrave; stock&eacute;
							les m&eacute;tadonn&eacute;es de votre fichier d&#8217;entr&eacute;e dans le <span class="bold"><strong>Repository</strong></span>, les champs suivants sont alors renseign&eacute;s
							automatiquement avec les informations stock&eacute;es, ou </p><p>-<span class="bold"><strong>Built-in</strong></span> si aucune m&eacute;tadonn&eacute;e n&#8217;est
							stock&eacute;e pour votre fichier d&#8217;entr&eacute;e&nbsp;; vous devez alors renseigner
							manuellement les champs suivants. </p><p>Dans cet exemple, c&#8217;est le mode <span class="bold"><strong>Built-in</strong></span> qui est utilis&eacute;. </p></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>File Name</strong></span>, renseignez
							le chemin d&#8217;acc&egrave;s ou cliquez sur le bouton <span class="bold"><strong>[...]</strong></span> pour parcourir vos dossiers jusqu&#8217;au fichier &agrave;
							traiter. Dans cet exemple, il s&#8217;agit du fichier
								<span class="emphasis"><em>CustomerDetails_Error</em></span>.</p><p>Ce fichier csv stock&eacute; localement contient une suite de lignes simples
							au format XML, s&eacute;par&eacute;es par un double retour chariot.</p></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>Row Separator</strong></span>,
							renseignez le s&eacute;parateur de lignes, ici le double retour chariot. Dans
							le champ <span class="bold"><strong>Field Separator</strong></span>, renseignez le
							s&eacute;parateur de champ, aucun ici. </p></li><li class="listitem"><p>Dans cet exemple, il n&#8217;y a pas d&#8217;en-t&ecirc;te (<span class="bold"><strong>Header</strong></span>), de pied de page (<span class="bold"><strong>Footer</strong></span>) ou de nombre limite de lignes &agrave; traiter
								(<span class="bold"><strong>Limit</strong></span>).</p></li><li class="listitem"><p>Dans l&#8217;espace graphique, double-cliquez sur le composant <span class="bold"><strong>tExtractXMLField</strong></span> pour param&eacute;trer ses
							propri&eacute;t&eacute;s dans l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span>
							de la vue <span class="bold"><strong>Component</strong></span>&nbsp;: </p></li></ul></div><div class="mediaobject"><img src="../images/use_case_textractxmlfield8.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A partir de la liste <span class="bold"><strong>Property type</strong></span>,
							s&eacute;lectionnez&nbsp;: </p><p>-<span class="bold"><strong>Repository</strong></span> si vous avez d&eacute;j&agrave; stock&eacute;
							les m&eacute;tadonn&eacute;es de votre fichier d&#8217;entr&eacute;e dans le <span class="bold"><strong>Repository</strong></span>, les champs suivants sont alors renseign&eacute;s
							automatiquement avec les informations stock&eacute;es, ou </p><p>-<span class="bold"><strong>Built-in</strong></span> si aucune m&eacute;tadonn&eacute;e n&#8217;est
							stock&eacute;e pour votre fichier d&#8217;entr&eacute;e&nbsp;; vous devez alors renseigner
							manuellement les champs suivants. </p><p>Dans cet exemple, c&#8217;est le mode <span class="bold"><strong>Built-in</strong></span> qui est utilis&eacute;.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>Sync columns</strong></span>
							pour r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Vous pouvez cliquer sur
							le bouton <span class="bold"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ
								<span class="bold"><strong>Edit schema</strong></span> pour consulter le
							sch&eacute;ma ou le modifier. </p><p>La colonne <span class="bold"><strong>Column</strong></span> du tableau
								<span class="bold"><strong>Mapping</strong></span> sera automatiquement
							renseign&eacute;e avec lae sch&eacute;ma d&eacute;fini.</p></li><li class="listitem"><p>Dans la liste <span class="bold"><strong>Xml field</strong></span>, s&eacute;lectionnez
							la colonne dont vous souhaitez extraire le contenu XML. Dans cet
							exemple, la colonne se nomme <span class="emphasis"><em>xmlStr</em></span>.</p></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>Loop XPath query</strong></span>,
							saisissez le n&#339;ud de l&#8217;arborescence sur lequel effectuer la boucle afin
							de r&eacute;cup&eacute;rer les donn&eacute;es.</p></li><li class="listitem"><p>Dans la colonne <span class="bold"><strong>Xpath query</strong></span>,
							saisissez entre guillemets le n&#339;ud du champ XML contenant les donn&eacute;es
							que vous voulez extraire. </p></li><li class="listitem"><p>Dans le Job designer, double-cliquez sur le composant <span class="bold"><strong>tFileOutputDelimited</strong></span> pour param&eacute;trer ses
							propri&eacute;t&eacute;s dans l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span>
							de la vue <span class="bold"><strong>Component</strong></span>&nbsp;: </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tExtractXMLField9.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Choisissez le mode <span class="bold"><strong>Built-In</strong></span> dans la
							liste d&eacute;roulante <span class="bold"><strong>Property Type</strong></span>. </p></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>File Name</strong></span>, indiquez le
							r&eacute;pertoire et le nom du fichier de sortie. Pour ce sc&eacute;nario, appelez le
							fichier <span class="emphasis"><em>CustomerNames_right.csv</em></span>.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>Sync columns</strong></span>
							pour r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Vous pouvez cliquer sur
							le bouton <span class="bold"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ
								<span class="bold"><strong>Edit schema</strong></span> pour consulter le
							sch&eacute;ma ou le modifier.</p></li><li class="listitem"><p>Dans le Job designer, double-cliquez sur le composant <span class="bold"><strong>tLogRow</strong></span> pour param&eacute;trer ses propri&eacute;t&eacute;s dans
							l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span> de la vue
								<span class="bold"><strong>Component</strong></span>.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>Sync Columns</strong></span>
							pour r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Pour plus
							d&#8217;informations sur le composant <span class="bold"><strong>tLogRow</strong></span>, consultez <a class="xref" href="tLogRow.html" title="tLogRow">la section intitul&eacute;e &laquo;&nbsp;tLogRow&nbsp;&raquo;</a>. </p></li><li class="listitem"><p>Enregistrez le Job et appuyez sur <span class="bold"><strong>F6</strong></span>
							pour l&#8217;ex&eacute;cuter. </p></li></ul></div><div class="mediaobject"><img src="../images/use_case_textractxmlfield10.png"></div><p>Le composant <span class="bold"><strong>tExtractXMLField</strong></span> lit et extrait
					dans un fichier d&eacute;limit&eacute; en sortie, <span class="emphasis"><em>CustomerNames_right</em></span>
					dans cet exemple, les informations concernant les clients dont la structure XML
					est correcte, et affiche les lignes erron&eacute;es dans la console de log. </p></div></div></body></html>