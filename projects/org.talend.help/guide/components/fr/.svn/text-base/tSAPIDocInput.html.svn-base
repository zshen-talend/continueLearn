<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tSAPIDocInput</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Enterprise"><link rel="up" href="ch01.html" title="Chapitre&nbsp;1.&nbsp;Composants Business"><link rel="prev" href="tSAPConnection.html" title="tSAPConnection"><link rel="next" href="tSAPIDocOutput.html" title="tSAPIDocOutput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="fr" class="section" title="tSAPIDocInput"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tSAPIDocInput"></a>tSAPIDocInput</h2></div></div></div><div class="mediaobject"><img src="../images/tSAPIDocInput.png"></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Ce composant n&#8217;est pas disponible dans la <span class="bold"><strong>Palette</strong></span> de <span class="bold"><strong>Talend Integration Express
						Studio</strong></span>.</p></td></tr></table></div><div class="section" title="Propri&eacute;t&eacute;s du tSAPIDocInput"><div class="titlepage"><div><div><h3 class="title"><a name="d0e16885"></a>Propri&eacute;t&eacute;s du tSAPIDocInput</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Famille de composant</strong></span>
									</p>
								</td><td valign="top">
									<p>Business </p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Fonction</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Le composant <span class="bold"><strong>tSAPIDocInput</strong></span> se connecte &agrave; une destination
										RFC dans un syst&egrave;me SAP via l&#8217;authentification au serveur
										Gateway SAP et &eacute;crit des fichiers IDoc (Intermediate
										Documents au format XML ou HTML) &agrave; l&#8217;emplacement d&eacute;fini par
										l&#8217;utilisateur.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Objectif</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Le <span class="bold"><strong>tSAPIDocInput</strong></span> vous
										permet d&#8217;extraire un ensemble de donn&eacute;es IDoc utilis&eacute; pour
										des transactions asynchrones entre un syst&egrave;me SAP et une
										autre application.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Property type</em></span>
									</p>
								</td><td valign="top">
									<p>Peut &ecirc;tre Built-in ou Repository.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in&nbsp;</strong></span>: Propri&eacute;t&eacute;s
										utilis&eacute;es ponctuellement.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository</strong></span>&nbsp;: S&eacute;lectionnez
										le fichier o&ugrave; sont stock&eacute;es les propri&eacute;t&eacute;s du composant. Les
										champs suivants sont alors pr&eacute;-remplis &agrave; l&#8217;aide des donn&eacute;es
										collect&eacute;es.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<div class="mediaobject"><img src="../images/Save_Icon.png"></div>
								</td><td valign="top">
									<p>Cliquez sur cette ic&ocirc;ne pour ouvrir l&#8217;assistant connexion
										de base de donn&eacute;es et enregistrer les param&egrave;tres de
										connexion que vous avez d&eacute;finis dans la vue <span class="bold"><strong>Basic settings </strong></span>du composant. </p>
									<p>Pour plus d&#8217;informations sur comment d&eacute;finir et stocker
										des param&egrave;tres de connexion de base de donn&eacute;es, consultez le
											<span class="bold"><strong>Guide utilisateur</strong></span> de
											<span class="bluebold">Talend Enterprise Studio</span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Connection configuration</em></span>
									</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Client</strong></span>&nbsp;: saisissez votre
										code de connexion SAP.</p>
									<p><span class="bold"><strong>Userid&nbsp;</strong></span>: saisissez votre
										identifiant de connexion.</p>
									<p><span class="bold"><strong>Password&nbsp;</strong></span>: saisissez
										votre mot de passe.</p>
									<p><span class="bold"><strong>Language&nbsp;</strong></span>: renseignez la
										langue.</p>
									<p><span class="bold"><strong>Host name&nbsp;</strong></span>: saisissez
										l&#8217;adresse IP du syst&egrave;me SAP.</p>
									<p><span class="bold"><strong>System number</strong></span>&nbsp;: saisissez
										le num&eacute;ro du syst&egrave;me.</p>
									<p><span class="bold"><strong>Program ID</strong></span>&nbsp;: saisissez
										l&#8217;ID du programme de la destination RFC &agrave; laquelle vous
										souhaitez vous connecter. Cet ID correspond &agrave; ce que vous
										avez configur&eacute; pour le RFC correspondant dans votre syst&egrave;me
										SAP.</p>
									<p><span class="bold"><strong>Gateway service&nbsp;</strong></span>:
										saisissez le nom de votre service Gateway. Pour l&#8217;obtenir,
										vous pouvez soit &eacute;diter le fichier service situ&eacute; dans le
										r&eacute;pertoire (indiqu&eacute; ci-dessous) du syst&egrave;me o&ugrave; est install&eacute;
										votre syst&egrave;me
											SAP&nbsp;:&nbsp;<span class="emphasis"><em>C:\WINDOWS\system32\drivers\etc\</em></span>&nbsp;;
										soit effectuer la transaction SMGW pour le trouver dans la
										vue Moniteur.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Output format</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez l&#8217;une des cases ou les deux cases afin de choisir
										le format des documents &agrave; &eacute;crire. Le format peut &ecirc;tre XML ou
										HTML.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Die on error</em></span>
									</p>
								</td><td valign="top">
									<p>Cette case est coch&eacute;e par d&eacute;faut et stoppe le Job en cas
										d&#8217;erreur. D&eacute;cochez cette case pour terminer le traitement
										avec les lignes sans erreurs, et ignorer les lignes en
										erreur. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Activate logs</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case pour activer la g&eacute;n&eacute;ration des fichiers
										de log et sp&eacute;cifier le r&eacute;pertoire o&ugrave; stocker ces
										fichiers.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStatCatcher Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case pour collecter les donn&eacute;es de log au
										niveau du composant.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Connections</strong></span>
									</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>Liens de sortie (d&#8217;un composant &agrave; un autre)&nbsp;:</p>
									<p><span class="bold"><strong>Trigger&nbsp;</strong></span>: Run if; On
										Component Ok; On Component Error, On Subjob Ok, On Subjob
										Error.</p>
									<p> Liens d&#8217;entr&eacute;e (d&#8217;un composant &agrave; un autre)&nbsp;:</p>
									<p><span class="bold"><strong>Trigger&nbsp;</strong></span>: Run if, On
										Component Ok, On Component Error, On Subjob Ok, On Subjob
										Error </p>
									<p> </p>
									<p>Pour plus d&#8217;informations concernant les connexions,
										consultez le <span class="bold"><strong>Guide utilisateur
											</strong></span><span class="bluebold">Talend Enterprise Studio</span>.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Utilisation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Ce composant est g&eacute;n&eacute;ralement utilis&eacute; de mani&egrave;re
										ind&eacute;pendante ou dans un sous-job. Une fois ex&eacute;cut&eacute;, il
										continue d&#8217;&eacute;couter les &eacute;v&eacute;nements SAP et extrait les donn&eacute;es
										IDoc sauf si une erreur se produit, ou si vous arr&ecirc;tez
										l&#8217;ex&eacute;cution. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Limitation/Pr&eacute;requis</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Vous devez installer des fichiers .jar et .dll sp&eacute;cifiques
										valid&eacute;s et fournis par SAP au Studio et au poste de travail
										accueillant votre Studio.</p>
									<p>Cette proc&eacute;dure varie selon les plateformes&nbsp;: Windows
										32bits, Windows 64bits ou Linux. </p>
									<p>Pour plus d&#8217;informations concernant l&#8217;ajout des fichiers
										requis pour configurer une connexion SAP, consultez le
											<span class="bold"><strong>Guide utilisateur</strong></span>
										<span class="bluebold">Talend Enterprise Studio</span>. </p>
								</td></tr></tbody></table></div></div><div class="section" title="Se connecter &agrave; un syst&egrave;me SAP R/3 afin d&#8217;observer la cr&eacute;ation de fichiers IDoc"><div class="titlepage"><div><div><h3 class="title"><a name="d0e17254"></a>Se connecter &agrave; un syst&egrave;me SAP R/3 afin d&#8217;observer la cr&eacute;ation de fichiers
					IDoc</h3></div></div></div><p>Ce sc&eacute;nario d&eacute;crit un Job &agrave; un seul composant qui utilise le composant
						<span class="bold"><strong>tSAPIDocInput</strong></span> pour &eacute;couter la cr&eacute;ation de
					fichiers IDoc dans un syst&egrave;me SAP R/3 donn&eacute;.</p><p>Pour reproduire ce sc&eacute;nario, vous devez&nbsp;: </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>cr&eacute;er une destination RFC (RFC Destination) sur le syst&egrave;me SAP R/3
							donn&eacute;.</p></li><li class="listitem"><p>configurer le composant <span class="bold"><strong>tSAPIDocInput</strong></span>
							pour &eacute;couter l&#8217;invocation &agrave; partir du syst&egrave;me SAP R/3.</p></li></ol></div><div class="section" title="Cr&eacute;er une destination RFC pour le composant d&#8217;&eacute;coute tSAPIDocInput"><div class="titlepage"><div><div><h4 class="title"><a name="d0e17274"></a>Cr&eacute;er une destination RFC pour le composant d&#8217;&eacute;coute
						tSAPIDocInput</h4></div></div></div><p>Connectez-vous &agrave; un syst&egrave;me SAP R/3 donn&eacute; puis proc&eacute;dez comme suit pour
						cr&eacute;er la destination RFC requise.</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Ex&eacute;cutez la transaction SM59 pour ouvrir la vue <span class="bold"><strong>Display and maintain RFC
								destinations</strong></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput1.png"></div></li><li class="step" title="&Eacute;tape 2"><p>A partir de cette vue, s&eacute;lectionnez l&#8217;option <span class="bold"><strong>TCP/IP connections</strong></span> et cliquez sur <span class="bold"><strong>Create</strong></span>. </p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput2.png"></div><p>La vue <span class="bold"><strong>RFC Destination</strong></span>
								s&#8217;affiche.</p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput3.png"></div></li><li class="step" title="&Eacute;tape 3"><p>Dans le champ <span class="bold"><strong>RFC destination</strong></span> de
								cette vue, saisissez le nom de la destination RFC &agrave; utiliser. Ce
								champ &eacute;tant sensible &agrave; la casse, il est recommand&eacute; d&#8217;utiliser des
								majuscules. Pour ce sc&eacute;nario,
									saisissez&nbsp;<span class="emphasis"><em>IDOC_TALEND</em></span>.</p></li><li class="step" title="&Eacute;tape 4"><p>Dans le champ <span class="bold"><strong>Connection type</strong></span>,
								s&eacute;lectionnez le type <span class="bold"><strong>T </strong></span>pour lancer
								un programme externe via TCP/IP.</p></li><li class="step" title="&Eacute;tape 5"><p>Dans le champ <span class="bold"><strong>Description</strong></span>,
								saisissez une courte description de la destination RFC sur le point
								d&#8217;&ecirc;tre cr&eacute;&eacute;e. Pour ce sc&eacute;nario, saisissez
									simplement&nbsp;<span class="emphasis"><em>TALEND IDOC LISTENER</em></span>.</p></li><li class="step" title="&Eacute;tape 6"><p>Dans la zone <span class="bold"><strong>Logon</strong></span>, cochez la
								case <span class="bold"><strong>Current user</strong></span> puis cliquez sur
								le bouton <span class="bold"><strong>Save</strong></span> dans la barre
								d&#8217;outils sup&eacute;rieure.</p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput4.png"></div><p>La destination RFC nomm&eacute;e <span class="emphasis"><em>IDOC_TALEND</em></span>
								s&#8217;ouvre.</p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput5.png"></div></li><li class="step" title="&Eacute;tape 7"><p>A partir de cette vue, cliquez sur <span class="bold"><strong>Registration</strong></span> pour afficher le champ <span class="bold"><strong>Program ID</strong></span>. Dans ce champ, saisissez l&#8217;ID
								du programme. Cet ID doit utiliser le m&ecirc;me nom que celui de la
								destination RFC cr&eacute;&eacute;e, soit&nbsp;<span class="emphasis"><em>IDOC_TALEND</em></span>.Cliquez
								de nouveau sur <span class="bold"><strong>Save</strong></span> dans la barre
								d&#8217;outils sup&eacute;rieure pour valider cette configuration.</p></li><li class="step" title="&Eacute;tape 8"><p>Toujours dans cette barre d&#8217;outils, cliquez sur le bouton de
								retour (sous forme de fl&egrave;che pointant vers la gauche) pour retourner
								&agrave; la vue <span class="bold"><strong>SAP Easy Access</strong></span> (&eacute;cran
								principal de SAP) et ex&eacute;cuter la
									transaction&nbsp;<span class="emphasis"><em>SMGW</em></span> afin d&#8217;ouvrir la vue
								Moniteur passerelle (gateway monitor).</p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput6.png"></div></li><li class="step" title="&Eacute;tape 9"><p>A partir de la barre de menu Moniteur passerelle (gateway
								monitor), s&eacute;lectionnez <span class="bold"><strong>Goto&nbsp;&gt;&nbsp;Parameters&nbsp;&gt;&nbsp;Display</strong></span>. Un tableau comme
								celui pr&eacute;sent&eacute; ci-dessous s&#8217;affiche. Vous pouvez y trouver le
								service de passerelle du syst&egrave;me SAP R/3.</p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput7.png"></div></li></ol></div><p>Dans cet exemple, le service de passerelle &agrave; utiliser
							est&nbsp;<span class="emphasis"><em>sapgw00</em></span>.</p><p>La destination RFC requise est maintenant cr&eacute;&eacute;e.</p></div><div class="section" title="Configurer le composant d&#8217;&eacute;coute tSAPIDocInput"><div class="titlepage"><div><div><h4 class="title"><a name="d0e17402"></a>Configurer le composant d&#8217;&eacute;coute tSAPIDocInput</h4></div></div></div><p>Depuis la perspective <span class="bold"><strong>Data Integration</strong></span> de
						votre Studio, proc&eacute;dez comme suit&nbsp;: </p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>A partir de la <span class="bold"><strong>Palette</strong></span>,d&eacute;posez le
								composant <span class="bold"><strong>tSAPIDocInput</strong></span> dans
								l&#8217;espace de mod&eacute;lisation graphique.</p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput8.png"></div></li><li class="step" title="&Eacute;tape 2"><p>Double-cliquez sur ce composant pour ouvrir l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span> de sa vue <span class="bold"><strong>Component</strong></span> et d&eacute;finir ses
								propri&eacute;t&eacute;s.</p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput9.png"></div></li><li class="step" title="&Eacute;tape 3"><p>Dans le champ <span class="bold"><strong>Client</strong></span>, saisissez
								le code de connexion (client number) du syst&egrave;me SAP R/3. Pour ce
								sc&eacute;nario, saisissez&nbsp;<span class="emphasis"><em>000</em></span>.</p></li><li class="step" title="&Eacute;tape 4"><p>Dans les champs <span class="bold"><strong>Userid</strong></span> et
									<span class="bold"><strong>Password</strong></span> respectivement,
								saisissez les informations d&#8217;authentification, &agrave; savoir
								l&#8217;identifiant et le mot de passe.</p></li><li class="step" title="&Eacute;tape 5"><p>Dans le champ <span class="bold"><strong>Language</strong></span>, saisissez
								la langue utilis&eacute;e par le syst&egrave;me SAP R/3. Pour ce sc&eacute;nario,
									saisissez&nbsp;<span class="emphasis"><em>EN</em></span>.</p></li><li class="step" title="&Eacute;tape 6"><p>Dans le champ <span class="bold"><strong>Host name</strong></span>,
								saisissez l&#8217;adresse IP du serveur d&#8217;h&eacute;bergement du syst&egrave;me SAP R/3
								donn&eacute;.</p></li><li class="step" title="&Eacute;tape 7"><p>Dans le champ <span class="bold"><strong>System number</strong></span>,
								saisissez le num&eacute;ro du syst&egrave;me du syst&egrave;me SAP R/3.</p></li><li class="step" title="&Eacute;tape 8"><p> Dans le champ <span class="bold"><strong>Gateway service</strong></span>,
								saisissez le nom de votre service Gateway.</p></li><li class="step" title="&Eacute;tape 9"><p>Dans le champ <span class="bold"><strong>Program ID</strong></span>,
								saisissez l&#8217;ID du programme d&eacute;fini lors de la cr&eacute;ation de la
								destination RFC requise. Pour ce sc&eacute;nario,
									saisissez&nbsp;<span class="emphasis"><em>IDOC_TALEND</em></span>.</p></li><li class="step" title="&Eacute;tape 10"><p>Dans le champ <span class="bold"><strong>XML-IDoc file
									output</strong></span>, saisissez le chemin d&#8217;acc&egrave;s ou parcourez
								votre r&eacute;pertoire jusqu&#8217;&agrave; l&#8217;emplacement o&ugrave; vous souhaitez stocker le
								fichier SAP IDoc r&eacute;cup&eacute;r&eacute;.</p></li></ol></div></div><div class="section" title="Executer le Job"><div class="titlepage"><div><div><h4 class="title"><a name="d0e17495"></a>Executer le Job</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Appuysez sur <span class="bold"><strong>CTRL+S</strong></span> pour
								sauvegarder votre Job et appuyez sur <span class="bold"><strong>F6</strong></span> pour l&#8217;ex&eacute;cuter.</p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput10.png"></div><p>A partir de cette console, vous pouvez constater que le composant
									<span class="bold"><strong>tSAPIDocInput</strong></span> &eacute;coute le syst&egrave;me
								SAP R/3 donn&eacute;.</p></li><li class="step" title="&Eacute;tape 2"><p>Retournez sur la destination RFC du syst&egrave;me SAP R/3 et cliquez sur
									<span class="bold"><strong>Test connection</strong></span>. </p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput11.png"></div></li></ol></div><p>Le r&eacute;sultat du test indique que la connexion entre le syst&egrave;me SAP R/3 et
						le composant d&#8217;&eacute;coute <span class="bold"><strong>tSAPIDocInput</strong></span> est
						&eacute;tablie avec succ&egrave;s.</p><div class="mediaobject"><img src="../images/Use_Case_tSAPIDocInput16.png"></div><p>
						<span>Le composant <span class="bold"><strong>tSAPIDocInput</strong></span> &eacute;coute
							d&eacute;sormais le syst&egrave;me SAP R/3 et attend l&#8217;invocation de la destination
							RFC pr&eacute;c&eacute;demment d&eacute;finie.</span>
					</p></div></div></div></body></html>