<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tSurviveFields</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Enterprise"><link rel="up" href="ch06.html" title="Chapitre&nbsp;6.&nbsp;Composants Data Quality"><link rel="prev" href="tStem.html" title="tStem"><link rel="next" href="tSynonymOutput.html" title="tSynonymOutput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="fr" class="section" title="tSurviveFields"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tSurviveFields"></a>tSurviveFields</h2></div></div></div><div class="mediaobject"><img src="../images/tMergeRow_icon32_white.png"></div><div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
					<span class="emphasis"><em>Ce composant est disponible dans la </em></span>
					<span class="bold"><strong>Palette</strong></span>
					<span class="emphasis"><em>du studio uniquement si vous avez souscrit &agrave; l&#8217;&eacute;dition correspondante
						de </em></span>
					<span class="bluebold">
						Talend Enterprise Data Quality
					</span>
					<span class="emphasis"><em>.</em></span>
				</p></td></tr></table></div><div class="section" title="Propri&eacute;t&eacute;s du tSurviveFields"><div class="titlepage"><div><div><h3 class="title"><a name="d0e210389"></a>Propri&eacute;t&eacute;s du tSurviveFields</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Famille de composant</strong></span>
									</p>
								</td><td valign="top">
									<p>Data Quality</p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Fonction</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Le <span class="bold"><strong>tSurviveFields</strong></span> re&ccedil;oit
										un flux et le fusionne sur une ou plusieurs colonne(s). La
										cl&eacute; d'agr&eacute;gation et le r&eacute;sultat correspondant des op&eacute;rations
										(comme max, min, sum etc) sont fournis pour chaque ligne de
										sortie.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Objectif</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Le <span class="bold"><strong>tSurviveFields</strong></span>
										centralise des donn&eacute;es &agrave; partir de sources vari&eacute;es et
										h&eacute;t&eacute;rog&egrave;nes. Il permet de cr&eacute;er une copie de r&eacute;f&eacute;rence des
										donn&eacute;es pour MDM.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema</em></span> et <span class="emphasis"><em>Edit
											schema</em></span></p>
								</td><td valign="top">
									<p>Un sch&eacute;ma est une description de lignes, i.e., il d&eacute;finit
										le nombre de champs qui sont trait&eacute;s et pass&eacute;s au composant
										suivant. Le sch&eacute;ma est soit local (built-in) soit distant
										dans le Repository.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in</strong></span>&nbsp;: Le sch&eacute;ma est
										cr&eacute;&eacute; et conserv&eacute; ponctuellement pour ce composant seulement.
										Voir &eacute;galement&nbsp;le <span class="bold"><strong>Guide
											utilisateur</strong></span> de <span class="bluebold">Talend Enterprise Studio</span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository</strong></span>&nbsp;: Le sch&eacute;ma
										existe d&eacute;j&agrave; et est stock&eacute; dans le Repository. Ainsi, il peut
										&ecirc;tre r&eacute;utilisable dans divers projets et Job designs. Voir
										&eacute;galement&nbsp;le <span class="bold"><strong>Guide
											utilisateur</strong></span> de <span class="bluebold">Talend Enterprise Studio</span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Key</em></span>
									</p>
								</td><td valign="top">
									<p>D&eacute;finissez les ensembles de fusion, les valeurs qui seront
										utilis&eacute;es pour les calculs.</p>
									<p><span class="bold"><strong>Output column</strong></span>&nbsp;:
										S&eacute;lectionnez dans la liste la colonne refl&eacute;tant la structure
										du sch&eacute;ma que vous avez d&eacute;fini. Vous pouvez ajouter autant
										de colonnes de sortie que vous le souhaitez, afin
										d&#8217;effectuer des agr&eacute;gations plus pr&eacute;cises.</p>
									<p><span class="bold"><strong>Input column</strong></span>&nbsp;: Fait
										correspondre chaque colonne d&#8217;entr&eacute;e &agrave; vos colonnes de
										sortie, si la colonne de sortie de l&#8217;ensemble d&#8217;agr&eacute;gation
										doit &ecirc;tre diff&eacute;rente.</p>
									<div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
											<span class="emphasis"><em>Les colonnes du tableau Key ne doivent PAS
												appara&icirc;tre dans le tableau Operations. Si vous
												souhaitez que toutes les colonnes de sortie du
												sch&eacute;ma soient remplies, elles doivent appara&icirc;tre
												soit dans le tableau Key, soit dans le tableau
												Operations.</em></span>
										</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Operations</em></span>
									</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Output column</strong></span>&nbsp;:
										S&eacute;lectionnez dans la liste la colonne de sortie qui
										r&eacute;sultera de l&#8217;op&eacute;ration de fusion s&eacute;lectionn&eacute;e.</p>
									<p><span class="bold"><strong>Function</strong></span>&nbsp;: S&eacute;lectionnez
										dans la liste le type des op&eacute;rations de fusion &agrave; effectuer.
										La liste comprend count, min, max, avg, sum, first, last,
										list, list(objects), count(distinct), standard deviation,
										max length et replace.</p>
									<p><span class="bold"><strong>Input column</strong></span>&nbsp;:
										S&eacute;lectionnez dans la liste la colonne d&#8217;entr&eacute;e &agrave; partir de
										laquelle les valeurs sont s&eacute;lectionn&eacute;es pour l&#8217;op&eacute;ration de
										fusion.</p>
									<p><span class="bold"><strong>Weight column</strong></span>&nbsp;:
										Disponible uniquement avec la fonction
											<span class="emphasis"><em>replace</em></span>. S&eacute;lectionnez dans la liste
										la colonne que vous souhaitez utiliser comme valeur de poids
										pour l&#8217;op&eacute;ration de fusion. L&#8217;entr&eacute;e sera remplac&eacute;e par les
										valeurs de poids sup&eacute;rieur.</p>
									<p><span class="bold"><strong>Ignore null values</strong></span>&nbsp;;
										Cochez les cases correspondant aux colonnes pour lesquelles
										vous souhaitez ignorer les valeurs NULL.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Delimiter (only for list operation)</em></span>
									</p>
								</td><td valign="top">
									<p>Saisissez, entre guillemets, le d&eacute;limiteur que vous
										souhaitez utiliser pour les op&eacute;rations de liste.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Use financial precision, this is the max precision
											for "sum" and "avg" operations, checked option heaps
											more memory and slower than unchecked.</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case pour utiliser une pr&eacute;cision financi&egrave;re,
										la pr&eacute;cision maximale pour les op&eacute;rations "sum" et "avg". Si
										la case est coch&eacute;e, le processus utilisera plus de m&eacute;moire
										et sera plus lent.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Check type overflow (slower)</em></span>
									</p>
								</td><td valign="top">
									<p>V&eacute;rifie le type des donn&eacute;es afin d&#8217;assurer que le Job ne
										tombe pas en erreur.</p>
									<p>Si vous cochez cette case, le syst&egrave;me sera plus
										lent.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Check ULP (Unit in the Last Place), ensure that a
											value will be incremented or decremented correctly, only
											for float and double types. (slower)</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case afin de lancer la v&eacute;rification de l&#8217;ULP
										(Unit&eacute; en derni&egrave;re location), et assurer que la valeur est
										incr&eacute;ment&eacute;e ou d&eacute;cr&eacute;ment&eacute;e correctement. Fonctionne
										seulement pour les types float ou double (plus lent).</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="italic">tStatCatcher Statistics</span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case pour collecter les m&eacute;tadonn&eacute;es de
										process du Job, aussi bien au niveau du Job qu&#8217;au niveau de
										chaque composant. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Utilisation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Ce composant est une &eacute;tape interm&eacute;diaire. Cela requiert un
										flux entrant et une sortie.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Limitation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>n/a</p>
								</td></tr></tbody></table></div></div><div class="section" title="Sc&eacute;nario&nbsp;: Fusionner le contenu de plusieurs lignes en utilisant diff&eacute;rentes colonnes comme valeur de poids"><div class="titlepage"><div><div><h3 class="title"><a name="d0e210729"></a>Sc&eacute;nario&nbsp;: Fusionner le contenu de plusieurs lignes en utilisant diff&eacute;rentes
					colonnes comme valeur de poids</h3></div></div></div><p>Ce sc&eacute;nario d&eacute;crit un Job utilisant un composant <span class="bold"><strong>tSurviveFields</strong></span> pour fusionner selon diff&eacute;rents valeurs de poids
					le contenu de lignes de donn&eacute;es dans diff&eacute;rentes colonnes et &eacute;crire le r&eacute;sultat
					dans un fichier de sortie.</p><p>Dans ce sc&eacute;nario, vous avez d&eacute;j&agrave; stock&eacute; les sch&eacute;mas d&#8217;entr&eacute;e de fichier
					d&#8217;entr&eacute;e dans le <span class="bold"><strong>Repository</strong></span>. Pour plus
					d&#8217;informations &agrave; propos du stockage de m&eacute;tadonn&eacute;es de sch&eacute;ma dans le <span class="bold"><strong>Repository</strong></span>, consultez le <span class="bold"><strong>Guide
						utilisateur</strong></span> de <span class="bluebold">Talend Enterprise Studio</span>.</p><p>Le fichier d&#8217;entr&eacute;e contient quatre colonnes&nbsp;: <span class="emphasis"><em>grp</em></span>,
						<span class="emphasis"><em>gender</em></span>, <span class="emphasis"><em>firstname</em></span> et
						<span class="emphasis"><em>count</em></span>. Les donn&eacute;es contiennent des erreurs, comme des
					doublons, des pr&eacute;noms dont l&#8217;orthographe est fausse ou diff&egrave;re, ainsi que des
					informations diff&eacute;rentes pour le m&ecirc;me client.</p><div class="mediaobject"><img src="../images/Use_Case_tMergeRow.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la vue <span class="bold"><strong>Repository</strong></span>, cliquez sur
								<span class="bold"><strong>Metadata</strong></span> &gt; <span class="bold"><strong>File Excel</strong></span>, et glissez les sch&eacute;mas d&#8217;entr&eacute;e que vous
							avez stock&eacute;s, dans l&#8217;espace de mod&eacute;lisation graphique.</p><p>Le composant <span class="bold"><strong>tFileInputExcel</strong></span>
							contenant votre sch&eacute;ma s&#8217;affiche dans l&#8217;espace de travail.</p></li><li class="listitem"><p>Glissez un composant <span class="bold"><strong>tSurviveFields</strong></span>
							et un composant <span class="bold"><strong>tFileOutputExcel</strong></span> de la
								<span class="bold"><strong>Palette</strong></span> dans l&#8217;espace de
							mod&eacute;lisation graphique.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMergeRow1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Reliez les composants &agrave; l&#8217;aide de liens <span class="bold"><strong>Row
								Main</strong></span>.</p></li><li class="listitem"><p>Double-cliquez sur le <span class="bold"><strong>tFileInputExcel</strong></span>
							afin d&#8217;afficher sa vue <span class="bold"><strong>Component</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMergeRow2.png"></div><p>Tous les propri&eacute;t&eacute;s sont automatiquement renseign&eacute;es. Si vous n&#8217;avez pas
					d&eacute;fini vos sch&eacute;mas d&#8217;entr&eacute;e localement, dans le <span class="bold"><strong>Repository</strong></span>, remplissez les informations manuellement, apr&egrave;s
					avoir s&eacute;lectionn&eacute; <span class="bold"><strong>Built-In</strong></span> dans les listes
						<span class="bold"><strong>Property Type</strong></span> et <span class="bold"><strong>Schema Type</strong></span>.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Double-cliquez sur le <span class="bold"><strong>tSurviveFields</strong></span>
							afin d&#8217;afficher sa vue <span class="bold"><strong>Component</strong></span> et
							d&eacute;finir ses propri&eacute;t&eacute;s.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tMergeRow3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>Sync columns</strong></span>
							afin de r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent. Vous pouvez cliquer
							sur le bouton <span class="bold"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ
								<span class="bold"><strong>Edit schema</strong></span>, afin de voir le
							sch&eacute;ma.</p></li><li class="listitem"><p>Dans le tableau <span class="bold"><strong>Key</strong></span>, cliquez sur le
							bouton <span class="bold"><strong>[+]</strong></span> afin d&#8217;ajouter une nouvelle
							ligne.</p></li><li class="listitem"><p>Cliquez sur la ligne et s&eacute;lectionnez dans la liste la colonne que vous
							voulez utiliser pour fusionner les donn&eacute;es. Vous pouvez s&eacute;lectionner
							plusieurs colonnes comme ensemble d&#8217;agr&eacute;gation, si vous souhaitez
							fusionner les donn&eacute;es selon plusieurs crit&egrave;res. Dans ce sc&eacute;nario,
							l&#8217;objectif est d&#8217;utiliser la colonne <span class="emphasis"><em>grp</em></span> pour
							fusionner les donn&eacute;es.</p></li><li class="listitem"><p>Dans le tableau <span class="bold"><strong>Operations</strong></span>, cliquez
							sur le bouton <span class="bold"><strong>[+]</strong></span> pour ajouter de
							nouvelles lignes. Vous pouvez d&eacute;finir les colonnes de sortie qui
							contiendront les r&eacute;sultats de l&#8217;op&eacute;ration de fusion. Dans ce sc&eacute;nario,
							l&#8217;objectif est de fusionner les donn&eacute;es de trois colonnes,
								<span class="emphasis"><em>firstname</em></span>, <span class="emphasis"><em>gender</em></span> et
								<span class="emphasis"><em>count</em></span>. </p></li><li class="listitem"><p>Cliquez sur la premi&egrave;re ligne de la colonne <span class="bold"><strong>Output column</strong></span>, et s&eacute;lectionnez la premi&egrave;re colonne de
							sortie qui contiendra les r&eacute;sultats de la fusion.</p></li><li class="listitem"><p>Cliquez sur la premi&egrave;re ligne de la colonne <span class="bold"><strong>Function</strong></span>, et s&eacute;lectionnez l&#8217;op&eacute;ration de fusion que vous
							souhaitez effectuer.</p></li><li class="listitem"><p>Cliquez sur la premi&egrave;re ligne de la colonne <span class="bold"><strong>Input column</strong></span>, et s&eacute;lectionnez la colonne &agrave; partir de
							laquelle vous souhaitez prendre les valeurs.</p></li><li class="listitem"><p>Cliquez sur la premi&egrave;re ligne de la colonne <span class="bold"><strong>Weight column</strong></span>, et s&eacute;lectionnez la colonne qui sera
							utilis&eacute;e comme base de l&#8217;op&eacute;ration de fusion.</p></li><li class="listitem"><p>R&eacute;p&eacute;tez le processus afin de d&eacute;finir les param&egrave;tres de l&#8217;op&eacute;ration de
							fusion pour toutes les colonnes que vous souhaitez &eacute;crire dans le
							fichier de sortie.</p></li></ul></div><p>L&#8217;objectif est de lire les donn&eacute;es des colonnes d&#8217;entr&eacute;e
						<span class="emphasis"><em>firstname</em></span> et <span class="emphasis"><em>gender</em></span>, et de
					n&#8217;&eacute;crire que les valeurs du nombre maximal d&#8217;occurrences dans des colonnes de
					sortie <span class="emphasis"><em>firstname</em></span> et <span class="emphasis"><em>gender</em></span>. L&#8217;objectif
					est &eacute;galement de lire les donn&eacute;es de la colonne d&#8217;entr&eacute;e
						<span class="emphasis"><em>count</em></span>, et d&#8217;&eacute;crire dans une colonne de sortie
						<span class="emphasis"><em>count</em></span> les valeurs ayant le num&eacute;ro de groupe
						(<span class="emphasis"><em>grp</em></span>) le plus &eacute;lev&eacute;. </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Sauvegardez votre Job, et appuyez sur <span class="bold"><strong>F6
							</strong></span>afin de l&#8217;ex&eacute;cuter.</p></li></ul></div><p>Une barre de progression s&#8217;affiche et montre les pourcentages effectu&eacute;s de
					l&#8217;op&eacute;ration de fusion. Lorsque la progression atteint les 100%, les donn&eacute;es
					sp&eacute;cifi&eacute;es sont regroup&eacute;es et &eacute;crites dans les colonnes de sorties
					d&eacute;finies.</p><p>Le tableau ci-dessous montre un extrait des donn&eacute;es d&#8217;entr&eacute;e et de sortie
					apr&egrave;s l&#8217;op&eacute;ration de fusion.</p><div class="mediaobject"><img src="../images/Use_Case_tMergeRow4.png"></div></div></div></body></html>