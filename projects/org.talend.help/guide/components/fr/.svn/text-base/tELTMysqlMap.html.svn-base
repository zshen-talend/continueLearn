<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tELTMysqlMap</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="Raa48933.html" title="Chapitre&nbsp;7.&nbsp;Composants ELT"><link rel="prev" href="tELTMysqlInput.html" title="tELTMysqlInput"><link rel="next" href="tELTMysqlOutput.html" title="tELTMysqlOutput"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="FR" class="section" title="tELTMysqlMap"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tELTMysqlMap"></a>tELTMysqlMap</h2></div></div></div><div class="mediaobject"><img src="../images/tELTMySQLMap.png"></div><a name="Xaa3934996"></a><div class="section" title="Propri&eacute;t&eacute;s du tELTMysqlMap"><div class="titlepage"><div><div><h3 class="title"><a name="d0e177438"></a>Propri&eacute;t&eacute;s du tELTMysqlMap</h3></div></div></div><p>Les composants <span class="bold"><strong>tELTMysqlInput</strong></span>, <span class="bold"><strong>tELTMysqlOutput</strong></span>, et <span class="bold"><strong>tELTMysqlMap</strong></span> sont tr&egrave;s proches dans leurs conditions de
					fonctionnement. En effet, ces trois composants sont con&ccedil;us pour manipuler des
					sch&eacute;mas de donn&eacute;es d&#8217;une base MySQL afin de g&eacute;n&eacute;rer des commandes Insert, y
					compris des clauses, qui devront &ecirc;tre ex&eacute;cut&eacute;es dans la table de sortie
					d&eacute;finie.</p><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Famille de composant</strong></span>
									</p>
								</td><td valign="top">
									<p>ELT/Map/Mysql</p>
								</td><td valign="top"> </td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Fonction</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Permet de construire votre commande SQL graphiquement en
										utilisant la table fournie en entr&eacute;e.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Objectif</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Utilise les tables fournies en entr&eacute;e pour alimenter les
										param&egrave;tres n&eacute;cessaires &agrave; l&#8217;ex&eacute;cution de la commande SQL
										souhait&eacute;e. La commande peut contenir des jointures internes
										comme externes entre diff&eacute;rentes tables ou entre une table
										et ses alias.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>DB Version</em></span>
									</p>
								</td><td valign="top">
									<p>S&eacute;lectionnez la version de MySQL que vous utilisez.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Use an existing connection</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez la case et cliquez sur le composant de connexion
										ad&eacute;quat dans la liste <span class="bold"><strong>Component
											list</strong></span> pour r&eacute;utiliser les informations de
										connexion que vous avez d&eacute;j&agrave; d&eacute;finies.</p>
									<p> </p>
									<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Lorsqu&#8217;un Job contient un Job parent et un Job enfant,
											la liste <span class="bold"><strong>Component List</strong></span>
											pr&eacute;sente uniquement les composants de connexion du Job
											du m&ecirc;me niveau. Si vous souhaitez utiliser une connexion
											existant dans un autre niveau, v&eacute;rifiez que les
											composants de connexion disponibles partagent la m&ecirc;me
											connexion.</p><p>Pour plus d&#8217;informations concernant le partage d&#8217;une
											connexion &agrave; travers diff&eacute;rents niveaux de Jobs,
											consultez <span class="bold"><strong>Use or register a shared
												DB connection</strong></span> dans tous les composants de
											base de donn&eacute;es que vous utilisez.</p></td></tr></table></div>
									<p>Sinon, vous pouvez &eacute;galement d&eacute;sactiver le composant de
										connexion et utiliser les <span class="bold"><strong>Dynamic
											settings</strong></span> du composant, afin de param&eacute;trer
										manuellement la connexion. Dans ce cas, v&eacute;rifiez que le nom
										de la connexion est unique et distinct tout au long des deux
										niveaux de Jobs. Pour plus d&#8217;informations concernant les
										param&egrave;tres dynamiques (<span class="bold"><strong>Dynamic
											settings</strong></span>), consultez le <span class="bold"><strong>Guide utilisateur</strong></span> de votre Studio. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>ELT Mysql Map editor</em></span>
									</p>
								</td><td valign="top">
									<p>L&#8217;&eacute;diteur ELT du Mapper vous permet de d&eacute;finir le sch&eacute;ma
										de sortie ainsi que de construire graphiquement la commande
										SQL &agrave; ex&eacute;cuter. Le nom des colonnes du sch&eacute;ma peut &ecirc;tre
										diff&eacute;rent du nom des colonnes dans la base de
										donn&eacute;es.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Style link</em></span>
									</p>
								</td><td valign="top">
									<p>S&eacute;lectionnez le type d&#8217;affichage des liens.</p>
									<p><span class="bold"><strong>Auto</strong></span>&nbsp;: par d&eacute;faut, les
										liens entre les sch&eacute;mas d&#8217;entr&eacute;e et de sortie et les
										param&egrave;tres du service Web sont en forme de courbe.</p>
									<p><span class="bold"><strong>Bezier curve</strong></span>&nbsp;: les liens
										entre les sch&eacute;mas et les param&egrave;tres du service Web sont en
										forme de ligne.</p>
									<p><span class="bold"><strong>Line</strong></span>&nbsp;: les liens entre
										les sch&eacute;mas et les param&egrave;tres du service Web sont en forme
										de lignes droites. Cette option vous permettra d&#8217;optimiser
										les performances.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Property type</em></span>
									</p>
								</td><td valign="top">
									<p>Peut &ecirc;tre Built-in ou Repository. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in</strong></span>&nbsp;: Propri&eacute;t&eacute;s
										utilis&eacute;es ponctuellement.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository&nbsp;</strong></span>: S&eacute;lectionnez
										le fichier de propri&eacute;t&eacute;s du composant. Les champs suivants
										sont alors pr&eacute;-remplis &agrave; l&#8217;aide des donn&eacute;es
										collect&eacute;es.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Host</em></span>
									</p>
								</td><td valign="top">
									<p>Adresse IP du serveur de base de donn&eacute;es</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Port</em></span>
									</p>
								</td><td valign="top">
									<p>Num&eacute;ro de port d&#8217;&eacute;coute du serveur de la base.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Database</em></span>
									</p>
								</td><td valign="top">
									<p>Nom de la base de donn&eacute;es</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Username</em></span> et
											<span class="emphasis"><em>Password</em></span></p>
								</td><td valign="top">
									<p>Donn&eacute;es d&#8217;authentification de l&#8217;utilisateur de la
										base</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Preview</em></span>
									</p>
								</td><td valign="top">
									<p>L&#8217;aper&ccedil;u est un clich&eacute; des donn&eacute;es trait&eacute;es dans le
										Mapper. Il appara&icirc;t lorsque les propri&eacute;t&eacute;s du Mapper ont &eacute;t&eacute;
										compl&eacute;t&eacute;es. La synchronisation de l&#8217;aper&ccedil;u n&#8217;est disponible
										qu&#8217;apr&egrave;s avoir enregistrer les modifications.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Utilisation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>L&#8217;utilisation du composant <span class="bold"><strong>tELTMysqlMap</strong></span> est &eacute;troitement li&eacute;e &agrave; celle
										des composants <span class="bold"><strong>tELTMysqlInput</strong></span> et <span class="bold"><strong>tELTMysqlOutput</strong></span>. Notez que le lien de sortie
										(output) &agrave; utiliser avec ces deux composants doit respecter
										strictement la syntaxe du nom de la table. </p>
									<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Les composants ELT ne traitent pas le flux de donn&eacute;es
											lui-m&ecirc;me mais uniquement les informations du
											sch&eacute;ma.</p></td></tr></table></div>
								</td></tr></tbody></table></div><div class="section" title="Connecter les composants ELT"><div class="titlepage"><div><div><h4 class="title"><a name="Raa99053"></a>Connecter les composants ELT</h4></div></div></div><p>Les composants ELT ne traitent pas les donn&eacute;es en tant que telles mais les
						informations du sch&eacute;ma descriptif de la table qui seront utilis&eacute;es pour
						alimenter les param&egrave;tres de la requ&ecirc;te SQL &agrave; ex&eacute;cuter.</p><p>Par cons&eacute;quent la connexion requise pour relier ces diff&eacute;rents composants
						est simplement un lien qui porte le nom de la table. </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Le nom de la sortie que vous donnez &agrave; ce lien lors de sa cr&eacute;ation doit
							correspondre exactement au nom de la table car ce param&egrave;tre sera utilis&eacute;
							lors de la g&eacute;n&eacute;ration de la commande SQL. </p></td></tr></table></div><p>Voir &eacute;galement&nbsp;le <span class="bold"><strong>Guide utilisateur</strong></span> de
							<span class="bluebold">Talend Open Studio</span></p></div><div class="section" title="Tables de jointure et de correspondance"><div class="titlepage"><div><div><h4 class="title"><a name="Raa20019"></a>Tables de jointure et de correspondance</h4></div></div></div><p>Dans le Mapper ELT, vous pouvez s&eacute;lectionner des colonnes sp&eacute;cifiques des
						sch&eacute;mas d&#8217;entr&eacute;e et les ajouter dans le sch&eacute;ma de sortie.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>De la m&ecirc;me mani&egrave;re que dans l&#8217;&eacute;diteur du Mapper ETL, simplement
								glissez et d&eacute;posez le contenu du sch&eacute;ma d&#8217;entr&eacute;e vers le sch&eacute;ma de
								sortie.</p></li><li class="listitem"><p>Utilisez les touches <span class="bold"><strong>Ctrl</strong></span> et
									<span class="bold"><strong>Maj</strong></span> pour la s&eacute;lection multiple
								des colonnes contigu&euml;s ou non.</p></li></ul></div><p>Vous pouvez mettre en place des jointures explicites pour extraire des
						donn&eacute;es vari&eacute;es de diff&eacute;rentes tables.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cliquez sur la liste d&eacute;roulante <span class="bold"><strong>Join</strong></span> et s&eacute;lectionnez une jointure explicite. </p></li><li class="listitem"><p>Les jointures suivantes sont disponibles&nbsp;: <span class="bold"><strong>Inner Join</strong></span>, <span class="bold"><strong>Left Outer
									Join</strong></span>, <span class="bold"><strong>Right Outer
									Join</strong></span> ou <span class="bold"><strong>Full Outer
									Join</strong></span> et <span class="bold"><strong>Cross
								Join</strong></span>.</p></li><li class="listitem"><p>Par d&eacute;faut la jointure interne <span class="bold"><strong>(Inner
									Join)</strong></span> est s&eacute;lectionn&eacute;e.</p></li></ul></div><p>Vous pouvez &eacute;galement cr&eacute;er des tables <span class="bold"><strong>Alias</strong></span> afin de s&eacute;lectionner des donn&eacute;es vari&eacute;es dans une m&ecirc;me
						table.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la zone Input, cliquez sur le bouton plus <span class="bold"><strong>[+]</strong></span> pour cr&eacute;er un Alias. </p></li><li class="listitem"><p>D&eacute;finissez la table sur laquelle l&#8217;alias est bas&eacute;.</p></li><li class="listitem"><p>Saisissez un nom pour la table alias, de pr&eacute;f&eacute;rence veillez &agrave; ce
								qu&#8217;il soit diff&eacute;rent de la table principale pour &eacute;viter les
								confusions.</p></li></ul></div></div><div class="section" title="Ajouter des clauses WHERE"><div class="titlepage"><div><div><h4 class="title"><a name="Raa67768"></a>Ajouter des clauses WHERE</h4></div></div></div><p>Vous pouvez &eacute;galement restreindre la requ&ecirc;te Select &agrave; l&#8217;aide d&#8217;une clause
						WHERE. Cliquez sur le bouton <span class="bold"><strong>Add filter row</strong></span>
						situ&eacute; en haut de la table de sortie et saisissez la condition que vous
						souhaitez appliquer.</p><p>Veillez &agrave; ce que les composants d&#8217;entr&eacute;e soient tous li&eacute;s correctement au
						composant ELT Map pour garantir que les inclusions, jointures et clauses
						fonctionnent.</p></div><div class="section" title="G&eacute;n&eacute;rer la requ&ecirc;te SQL"><div class="titlepage"><div><div><h4 class="title"><a name="d0e177901"></a>G&eacute;n&eacute;rer la requ&ecirc;te SQL</h4></div></div></div><p>La mise en correspondance des &eacute;l&eacute;ments &agrave; partir des sch&eacute;mas d&#8217;entr&eacute;e vers
						les sch&eacute;mas de sortie cr&eacute;e automatiquement la requ&ecirc;te Select
						correspondante.</p><div class="mediaobject"><img src="../images/use_case-tetlmysqlmap5Half.png"></div><p>Les &eacute;ventuelles clauses sont &eacute;galement prises en compte
						automatiquement.</p></div></div><div class="section" title="Sc&eacute;nario&nbsp;1&nbsp;: Agr&eacute;ger les colonnes d&#8217;une table et appliquer un filtre"><div class="titlepage"><div><div><h3 class="title"><a name="Raa40349"></a>Sc&eacute;nario&nbsp;1&nbsp;: Agr&eacute;ger les colonnes d&#8217;une table et appliquer un filtre</h3></div></div></div><p>Le sc&eacute;nario suivant d&eacute;crit un Job rassemblant plusieurs sch&eacute;mas d&#8217;une table de
					base de donn&eacute;es en entr&eacute;e puis utilise une clause dans la requ&ecirc;te SQL afin de
					filtrer les donn&eacute;es en sortie.</p><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cliquez et d&eacute;posez les composants suivants de la <span class="bold"><strong>Palette</strong></span> dans l&#8217;espace de mod&eacute;lisation graphique&nbsp;: trois
								<span class="bold"><strong>tELTMysqlIntput</strong></span>, un <span class="bold"><strong>tELTMysqlMap</strong></span>, et un <span class="bold"><strong>tELTMysqlOutput</strong></span>.</p></li><li class="listitem"><p>Double-cliquez sur le premier <span class="bold"><strong>tELTMysqlInput</strong></span> afin d&#8217;afficher sa vue <span class="bold"><strong>Basic settings</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1-2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la liste <span class="bold"><strong>Schema</strong></span>, s&eacute;lectionnez
								<span class="bold"><strong>Repository</strong></span>, cliquez sur le bouton
								<span class="bold"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ <span class="bold"><strong>Edit schema</strong></span>. Dans la bo&icirc;te de dialogue
								<span class="bold"><strong>[Repository Content]</strong></span>, s&eacute;lectionnez
							votre connexion &agrave; la base de donn&eacute;es ainsi que le sch&eacute;ma
							souhait&eacute;.</p><p>Le nom du sch&eacute;ma s&eacute;lectionn&eacute; appara&icirc;t automatiquement dans le champ
								<span class="bold"><strong>Default Table Name</strong></span>.</p><p>Dans ce sc&eacute;nario, la connexion &agrave; la base de donn&eacute;es
									est&nbsp;<span class="emphasis"><em>Talend_MySQL</em></span> et le sch&eacute;ma pour le premier
							composant d&#8217;entr&eacute;e est&nbsp;<span class="emphasis"><em>owners</em></span>.</p></li><li class="listitem"><p>Configurez les deuxi&egrave;me et troisi&egrave;me composants <span class="bold"><strong>tELTMysqlInput</strong></span> de la m&ecirc;me mani&egrave;re, mais
								s&eacute;lectionnez&nbsp;<span class="emphasis"><em>cars</em></span>
								et&nbsp;<span class="emphasis"><em>resellers</em></span> respectivement comme nom de
							sch&eacute;ma.</p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Dans ce sc&eacute;nario, tous les sch&eacute;mas d&#8217;entr&eacute;e sont stock&eacute;s dans la zone
							<span class="bold"><strong>Metadata</strong></span> du <span class="bold"><strong>Repository</strong></span>, afin que vous les retrouviez facilement. Pour
						plus d&#8217;informations concernant les m&eacute;tadonn&eacute;es, consultez&nbsp;le<span class="bold"><strong> Guide utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span>.</p><p>Vous pouvez &eacute;galement s&eacute;lectionner les trois composants d&#8217;entr&eacute;e en
						d&eacute;posant les sch&eacute;mas correspondants de la zone <span class="bold"><strong>Metadata</strong></span> dans l&#8217;espace de mod&eacute;lisation graphique et en
						double-cliquant sur le composant <span class="bold"><strong>tELTMysqlInput</strong></span> dans le bo&icirc;te de dialogue <span class="bold"><strong>[Components]</strong></span>. Cela vous permet d&#8217;&eacute;viter les
						&eacute;tapes de nommage des composants et de d&eacute;finition de leur sch&eacute;ma.</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> Reliez les trois composants <span class="bold"><strong>tELTMysqlInput</strong></span> au composant <span class="bold"><strong>tELTMysqlMap</strong></span> &agrave; l&#8217;aide de liens nomm&eacute;s strictement selon
							le nom des tables de la base de donn&eacute;es&nbsp;:&nbsp;<span class="emphasis"><em>owners</em></span>,
								<span class="emphasis"><em>cars</em></span> et&nbsp;<span class="emphasis"><em>resellers</em></span>.</p></li><li class="listitem"><p>Reliez ensuite le composant <span class="bold"><strong>tELTMysqlMap</strong></span> au <span class="bold"><strong>tELTMysqlOutput</strong></span> et nommez le lien
								<span class="emphasis"><em>agg_result</em></span>, qui est le nom de la table de la
							base de donn&eacute;es dans laquelle vous allez sauvegarder le r&eacute;sultat de
							l&#8217;agr&eacute;gation.</p></li><li class="listitem"><p>Cliquez sur le composant <span class="bold"><strong>tELTMysqlMap</strong></span>
							afin d&#8217;afficher sa vue <span class="bold"><strong>Basic settings
							</strong></span>et configurer ses propri&eacute;t&eacute;s.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1-3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>S&eacute;lectionnez <span class="bold"><strong>Repository</strong></span> dans la liste
								<span class="bold"><strong>Property Type</strong></span> et s&eacute;lectionnez la
							connexion &agrave; la base de donn&eacute;es utilis&eacute;e pour les composants
							d&#8217;entr&eacute;e.</p><p>Toutes les informations de la base de donn&eacute;es sont automatiquement
							r&eacute;cup&eacute;r&eacute;es.</p></li><li class="listitem"><p>Laissez les param&egrave;tres configur&eacute;s par d&eacute;faut </p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tELTMysqlMap</strong></span> afin d&#8217;ouvrir le <span class="bold"><strong>Map
								Editor</strong></span> pour mettre en place les jointures entre les
							tables d&#8217;entr&eacute;e (Input) et configurer le flux de sortie.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1-4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Ajoutez les tables d&#8217;entr&eacute;e en cliquant sur le bouton <span class="bold"><strong>[+]</strong></span> dans le coin sup&eacute;rieur gauche de
							l&#8217;&eacute;diteur et s&eacute;lectionnez les noms des tables correspondants dans la
							bo&icirc;te de dialogue <span class="bold"><strong>[Add a new
							alias]</strong></span>.</p></li><li class="listitem"><p>Glissez-d&eacute;posez la colonne&nbsp;<span class="emphasis"><em>ID_Owner</em></span> &agrave; partir de
							la table&nbsp;<span class="emphasis"><em>owners</em></span> vers la colonne correspondante dans
							la table&nbsp;<span class="emphasis"><em>cars</em></span>. </p></li><li class="listitem"><p>Dans la table&nbsp;<span class="emphasis"><em>cars</em></span>, cochez la case <span class="bold"><strong>Explicit Join</strong></span> en face de
								<span class="emphasis"><em>ID_Owners</em></span>.</p><p>Une jointure <span class="bold"><strong>INNER JOIN</strong></span>, le type de
							jointure par d&eacute;faut, s&#8217;affiche dans la liste des jointures.</p></li><li class="listitem"><p>Glissez la colonne <span class="emphasis"><em>ID_Resellers</em></span> &agrave; partir de la
							table <span class="emphasis"><em>cars</em></span> vers la colonne correspondante de la
							table <span class="emphasis"><em>Resellers</em></span> pour mettre en place la seconde
							jointure. D&eacute;finissez &agrave; nouveau une option de jointure <span class="bold"><strong>INNER JOIN</strong></span>. </p></li><li class="listitem"><p>Puis s&eacute;lectionnez les colonnes &agrave; agr&eacute;ger dans la table de
								sortie,&nbsp;<span class="emphasis"><em>agg_result</em></span>.</p></li><li class="listitem"><p>D&eacute;posez les colonnes&nbsp;<span class="emphasis"><em>ID_Owners</em></span>,
								<span class="emphasis"><em>Name</em></span> et&nbsp;<span class="emphasis"><em>ID_Insurance</em></span> de la
								table&nbsp;<span class="emphasis"><em>owners</em></span> dans la table de sortie.</p></li><li class="listitem"><p>D&eacute;posez les colonnes&nbsp;<span class="emphasis"><em>Registration</em></span>,
								<span class="emphasis"><em>Make</em></span> et&nbsp;<span class="emphasis"><em>Color</em></span> de la
								table&nbsp;<span class="emphasis"><em>cars</em></span> dans la table de sortie.</p></li><li class="listitem"><p>D&eacute;posez les colonnes&nbsp;<span class="emphasis"><em>Name_Reseller</em></span>
								et&nbsp;<span class="emphasis"><em>City</em></span> de la
								table&nbsp;<span class="emphasis"><em>resellers</em></span> dans la table de sortie.</p></li><li class="listitem"><p>Avec les colonnes correspondantes s&eacute;lectionn&eacute;es, la mise en
							correspondance appara&icirc;t en jaune et les jointures en violet.</p></li><li class="listitem"><p>Appliquez un filtre sur la table de sortie. Cliquez sur le bouton
								<span class="bold"><strong>Add filter row</strong></span> en haut de la table
							de sortie afin d&#8217;afficher le champ textuel <span class="bold"><strong>Additional clauses</strong></span>, d&eacute;posez la
								colonne&nbsp;<span class="emphasis"><em>City</em></span> de la
								table&nbsp;<span class="emphasis"><em>resellers</em></span> dans le champ textuel puis
							d&eacute;finissez la clause WHERE&nbsp;: <code class="code">resellers.City
							=&#8217;Augusta&#8217;</code>.</p></li></ul></div><div class="mediaobject"><img src="../images/UseCase_teltmysqlmap-1-5_top.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cliquez sur l&#8217;onglet <span class="bold"><strong>Generated SQL Select
								query</strong></span> afin d&#8217;afficher l&#8217;instruction SQL
							correspondante.</p></li></ul></div><div class="mediaobject"><img src="../images/use_case-tetlmysqlmap5Half.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cliquez <span class="bold"><strong>OK</strong></span> pour sauvegarder le
							param&eacute;trage de l&#8217;ELT Map.</p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tELTMysqlOutput</strong></span> afin d&#8217;afficher sa vue <span class="bold"><strong>Basic settings</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1-6.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la liste <span class="bold"><strong>Action on data</strong></span>
							s&eacute;lectionnez l&#8217;action que vous souhaitez effectuer sur les
							donn&eacute;es.</p></li><li class="listitem"><p>S&eacute;lectionnez <span class="bold"><strong>Repository</strong></span> dans la liste
								<span class="bold"><strong>Schema</strong></span> et d&eacute;finissez le sch&eacute;ma de
							sortie de la m&ecirc;me mani&egrave;re que pour les sch&eacute;mas d&#8217;entr&eacute;e. Notez que le
							sch&eacute;ma de sortie doit &ecirc;tre nomm&eacute; comme la table dans laquelle vous
							souhaitez sauvegarder vos r&eacute;sultats d&#8217;aggr&eacute;gation,&nbsp;<span class="emphasis"><em>agg_result
							</em></span>dans ce sc&eacute;nario.</p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Vous pouvez &eacute;galement utiliser un sch&eacute;ma en mode<span class="bold"><strong>
							Built-In</strong></span> et r&eacute;cup&eacute;rer la structure du sch&eacute;ma du composant
						pr&eacute;c&eacute;dent. Cependant, vous devez &ecirc;tre s&ucirc;r d&#8217;avoir sp&eacute;cifi&eacute; une table cible
						existant dans votre base de donn&eacute;es, ayant la m&ecirc;me structure de
						donn&eacute;es.</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Laissez les autres param&egrave;tres configur&eacute;s par d&eacute;faut.</p></li><li class="listitem"><p>Sauvegardez votre Job et appuyez sur la touche <span class="bold"><strong>F6</strong></span> pour l&#8217;ex&eacute;cuter.</p><p>Toutes les donn&eacute;es s&eacute;lectionn&eacute;es sont ins&eacute;r&eacute;es dans la
								table&nbsp;<span class="emphasis"><em>agg_result</em></span> comme sp&eacute;cifi&eacute; dans
							l&#8217;instruction SQL.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap1-7.png"></div></div><div class="section" title="Sc&eacute;nario&nbsp;2&nbsp;: ELT utilisant une table Alias"><div class="titlepage"><div><div><h3 class="title"><a name="Raa41309"></a>Sc&eacute;nario&nbsp;2&nbsp;: ELT utilisant une table Alias</h3></div></div></div><p>Le sc&eacute;nario suivant d&eacute;crit un Job mappant des informations provenant des deux
					tables d&#8217;entr&eacute;e et d&#8217;une table Alias servant de table d&#8217;entr&eacute;e virtuelle, vers
					une table de sortie. La table <span class="emphasis"><em>employees</em></span> contient l&#8217;ID des
					employ&eacute;s, le num&eacute;ro de leur service, leur nom et l&#8217;ID de leur responsable. Ces
					responsables sont &eacute;galement consid&eacute;r&eacute;s comme des employ&eacute;s et par cons&eacute;quent
					inclus dans la table&nbsp;<span class="emphasis"><em>employees</em></span>. La table <span class="emphasis"><em>dept
					</em></span>contient les informations de service des employ&eacute;s. La table Alias
					r&eacute;cup&egrave;re le nom des responsables de la
					table&nbsp;<span class="emphasis"><em>employees</em></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Glissez et d&eacute;posez de la <span class="bold"><strong>Palette</strong></span> dans
							l&#8217;espace de mod&eacute;lisation graphique deux composants <span class="bold"><strong>tELTMysqlInput</strong></span>, un <span class="bold"><strong>tELTMysqlMap</strong></span> et un <span class="bold"><strong>tELTMysqlOutput</strong></span>.</p><p>Nommez-les comme vous le souhaitez afin de d&eacute;crire au mieux leur
							fonctionnalit&eacute;.</p></li><li class="listitem"><p>Double-cliquez sur le premier composant <span class="bold"><strong>tELTMysqlInput</strong></span> afin d&#8217;afficher sa vue <span class="bold"><strong>Basic settings</strong></span> et configurer ses propri&eacute;t&eacute;s
							de base.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>S&eacute;lectionnez <span class="bold"><strong>Repository</strong></span> dans la liste
								<span class="bold"><strong>Schema</strong></span> puis d&eacute;finissez la connexion
							&agrave; la base de donn&eacute;es ainsi que le sch&eacute;ma, en cliquant sur le bouton
								<span class="bold"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du champ <span class="bold"><strong>Edit Schema</strong></span>.</p><p>La connexion &agrave; la base de donn&eacute;es est <span class="emphasis"><em>Talend_MySQL</em></span> et le sch&eacute;ma du premier composant
							d&#8217;entr&eacute;e est&nbsp;<span class="emphasis"><em>employees</em></span>.</p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Note]" src="../images/note.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Dans ce sc&eacute;nario, les sch&eacute;mas d&#8217;entr&eacute;e sont stock&eacute;s dans le <span class="bold"><strong>Repository</strong></span>, sous le n&#339;ud <span class="bold"><strong>Metadata</strong></span>, afin que vous puissiez les r&eacute;cup&eacute;rer plus
						facilement. Pour plus d&#8217;informations concernant les m&eacute;tadonn&eacute;es, consultez
						le <span class="bold"><strong>Guide utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span>.</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Configurez le second composant <span class="bold"><strong>tELTMysqlInput</strong></span> de la m&ecirc;me mani&egrave;re, mais
								s&eacute;lectionnez&nbsp;<span class="emphasis"><em>dept</em></span> comme nom de sch&eacute;ma.</p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tELTMysqlOutput</strong></span> afin d&#8217;afficher sa vue <span class="bold"><strong>Basic settings</strong></span> et d&eacute;finir ses
							propri&eacute;t&eacute;s.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-8.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la liste <span class="bold"><strong>Action on data</strong></span>,
							s&eacute;lectionnez l&#8217;action que vous souhaitez effectuer, <span class="bold"><strong>Insert</strong></span> dans ce sc&eacute;nario.</p></li><li class="listitem"><p>Dans la liste <span class="bold"><strong>Schema</strong></span>, s&eacute;lectionnez
								<span class="bold"><strong>Repository</strong></span> et d&eacute;finissez le sch&eacute;ma
							de sortie de la m&ecirc;me mani&egrave;re que pour les sch&eacute;mas d&#8217;entr&eacute;e. Dans ce
							sc&eacute;nario, s&eacute;lectionnez&nbsp;<span class="emphasis"><em>result</em></span> comme sch&eacute;ma de
							sortie, qui est le nom de la table de la base de donn&eacute;es utilis&eacute;e pour
							stocker le r&eacute;sultat du mapping.</p><p>Le sch&eacute;ma de sortie contient toutes les colonnes des sch&eacute;mas d&#8217;entr&eacute;e
							ainsi qu&#8217;une colonne&nbsp;<span class="emphasis"><em>ManagerName</em></span>.</p></li><li class="listitem"><p>Laissez les autres param&egrave;tres configur&eacute;s par d&eacute;faut.</p></li><li class="listitem"><p>Reliez les deux composants <span class="bold"><strong>tELTMysqlInput</strong></span> au <span class="bold"><strong>tELTMysqlMap</strong></span> &agrave; l&#8217;aide de liens <span class="bold"><strong>Link</strong></span> nomm&eacute;s strictement selon le nom des tables
								d&#8217;entr&eacute;e,&nbsp;<span class="emphasis"><em>employees</em></span>
								et&nbsp;<span class="emphasis"><em>dept</em></span> dans ce sc&eacute;nario.</p></li><li class="listitem"><p>Reliez le composant <span class="bold"><strong>tELTMysqlMap</strong></span> au
								<span class="bold"><strong>tELTMysqlOutput</strong></span> &agrave; l&#8217;aide d&#8217;un lien
								<span class="bold"><strong>Link</strong></span>. Cliquez sur <span class="bold"><strong>Yes</strong></span> (Oui) &agrave; l&#8217;ouverture de la bo&icirc;te de
							dialogue pour permettre au Mapper ELT de r&eacute;cup&eacute;rer la structure de la
							table de sortie &agrave; partir du sch&eacute;ma de sortie.</p></li><li class="listitem"><p>Cliquez sur le composant <span class="bold"><strong>tELTMysqlMap</strong></span>
							afin d&#8217;afficher sa vue <span class="bold"><strong>Basic settings</strong></span>
							et configurer ses propri&eacute;t&eacute;s de base. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la liste <span class="bold"><strong>Property Type</strong></span>,
							s&eacute;lectionnez <span class="bold"><strong>Repository</strong></span> puis
							s&eacute;lectionnez la connexion &agrave; la base de donn&eacute;es utilis&eacute;e dans les
							composants d&#8217;entr&eacute;e.</p><p>Les informations de connexion &agrave; la base de donn&eacute;es sont
							automatiquement r&eacute;cup&eacute;r&eacute;es.</p></li><li class="listitem"><p>Laissez les autres param&egrave;tres configur&eacute;s par d&eacute;faut.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>[...]</strong></span> &agrave; c&ocirc;t&eacute; du
							champ <span class="bold"><strong>ELT Mysql Map Editor</strong></span> ou
							double-cliquez sur le composant <span class="bold"><strong>tELTMysqlMap</strong></span> dans l&#8217;espace de mod&eacute;lisation graphique
							afin d&#8217;ouvrir le ELT Map Editor.</p><p>Le composant <span class="bold"><strong>tELTMysqlMap</strong></span> est
							connect&eacute; au composant de sortie, la table de sortie est donc affich&eacute;e
							dans la zone correspondante.</p></li><li class="listitem"><p>Ajoutez les tables d&#8217;entr&eacute;e&nbsp;<span class="emphasis"><em>employees</em></span>
								et&nbsp;<span class="emphasis"><em>dept</em></span> dans la zone d&#8217;entr&eacute;e, en cliquant sur
							le bouton <span class="bold"><strong>[+]</strong></span> et en s&eacute;lectionnant le
							nom des tables correspondant dans la bo&icirc;te de dialogue <span class="bold"><strong>[Add a new alias]</strong></span>.</p></li><li class="listitem"><p>Lorsque vous cr&eacute;ez une table Alias &agrave; partir de la
								table&nbsp;<span class="emphasis"><em>employees</em></span> en
								s&eacute;lectionnant&nbsp;<span class="emphasis"><em>employees</em></span> dans la liste <span class="bold"><strong>Select the table to use</strong></span> et en
								saisissant&nbsp;<span class="emphasis"><em>Managers</em></span> dans le champ <span class="bold"><strong>Type in a valid alias</strong></span>, dans la bo&icirc;te de
							dialogue <span class="bold"><strong>[Add a new alias]</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>D&eacute;posez la colonne&nbsp;<span class="emphasis"><em>DeptNo</em></span> de la
								table&nbsp;<span class="emphasis"><em>employees</em></span> dans la
								table&nbsp;<span class="emphasis"><em>dept</em></span>.</p></li><li class="listitem"><p>Cochez la case <span class="bold"><strong>Explicit join</strong></span> devant
							la colonne&nbsp;<span class="emphasis"><em>DeptNo</em></span> de la
								table&nbsp;<span class="emphasis"><em>dept</em></span> afin de configurer une jointure
								<span class="bold"><strong>Inner Join</strong></span>.</p></li><li class="listitem"><p>D&eacute;posez la colonne&nbsp;<span class="emphasis"><em>ManagerId</em></span> de la
								table&nbsp;<span class="emphasis"><em>employees</em></span> dans la
								colonne&nbsp;<span class="emphasis"><em>ID</em></span> de la
								table&nbsp;<span class="emphasis"><em>Managers</em></span>.</p></li><li class="listitem"><p>Cochez la case <span class="bold"><strong>Explicit join</strong></span> devant
							la colonne&nbsp;<span class="emphasis"><em>ID</em></span> de la
								table&nbsp;<span class="emphasis"><em>Managers</em></span> et s&eacute;lectionnez <span class="bold"><strong>LEFT OUTER JOIN</strong></span> dans la list <span class="bold"><strong>Join</strong></span>, afin que les lignes de sortie puissent
							contenir des valeurs Null.</p></li></ul></div><div class="mediaobject"><img src="../images/UseCase_teltmysqlmap2-4_left.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>D&eacute;posez toutes les colonnes de la table&nbsp;<span class="emphasis"><em>employees</em></span>
							dans les colonnes correspondantes de la table de sortie.</p></li><li class="listitem"><p>D&eacute;posez les colonnes&nbsp;<span class="emphasis"><em>DeptName</em></span>
								et&nbsp;<span class="emphasis"><em>Location</em></span> de la
								table&nbsp;<span class="emphasis"><em>dept</em></span> dans les colonnes correspondantes de
							la table de sortie.</p></li><li class="listitem"><p>D&eacute;posez la colonne&nbsp;<span class="emphasis"><em>Name</em></span> de la
								table&nbsp;<span class="emphasis"><em>Managers</em></span> dans la
								colonne&nbsp;<span class="emphasis"><em>ManagerName</em></span> de la table de
							sortie.</p></li></ul></div><div class="mediaobject"><img src="../images/use_case-tetlmysqlmap2-4half.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cliquez sur l&#8217;onglet <span class="bold"><strong>Generated SQL Select
								query</strong></span> pour afficher l&#8217;instruction SQL &agrave; ex&eacute;cuter.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-6.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Sauvegardez votre Job et appuyez sur <span class="bold"><strong>F6</strong></span> pour l&#8217;ex&eacute;cuter.</p><p>La table de sortie&nbsp;<span class="emphasis"><em>result</em></span> de la base de donn&eacute;es
							contient toutes les informations concernant les employ&eacute;s, y compris le
							nom de leurs responsables respectifs.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tELTMysqlMap2-7.png"></div></div></div></body></html>