<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tReplaceList</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch05.html" title="Chapitre&nbsp;5.&nbsp;Composants Data Quality"><link rel="prev" href="tIntervalMatch.html" title="tIntervalMatch"><link rel="next" href="tSchemaComplianceCheck.html" title="tSchemaComplianceCheck"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="FR" class="section" title="tReplaceList"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tReplaceList"></a>tReplaceList</h2></div></div></div><div class="mediaobject"><img src="../images/tReplaceList_icon32_white.png"></div><div class="section" title="Propri&eacute;t&eacute;s du tReplaceList"><div class="titlepage"><div><div><h3 class="title"><a name="d0e53924"></a>Propri&eacute;t&eacute;s du tReplaceList</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Famille de composant</strong></span>
									</p>
								</td><td valign="top">
									<p>Data Quality</p>
								</td><td valign="top">&nbsp;</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Fonction</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Le <span class="bold"><strong>tReplaceList</strong></span> effectue
										un rechercher/remplacer dans les colonnes d&#8217;entr&eacute;e
										sp&eacute;cifi&eacute;es en fonction des donn&eacute;es de r&eacute;f&eacute;rence
										(lookup).</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Objectif</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Ce composant permet de nettoyer tous les fichiers avant un
										traitement futur.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema</em></span> et <span class="emphasis"><em>Edit
											schema</em></span></p>
								</td><td valign="top">
									<p>Un sch&eacute;ma est une description de lignes, i.e., il d&eacute;finit
										le nombre de champs qui sont trait&eacute;s et pass&eacute;s au composant
										suivant. Le sch&eacute;ma est soit local (built-in) soit distant
										dans le Repository. </p>
									<p> Deux colonnes en lecture seule, <span class="bold"><strong>Value</strong></span> et <span class="bold"><strong>Match</strong></span> sont automatiquement ajout&eacute;s au sch&eacute;ma
										de sortie.</p>
									<div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
											<span class="emphasis"><em>Le type de donn&eacute;es d&eacute;fini dans les sch&eacute;mas
												doit &ecirc;tre coh&eacute;rent, c&#8217;est-&agrave;-dire qu&#8217;un entier ne
												peut &ecirc;tre remplac&eacute; que par un entier en utilisant un
												entier comme champ de r&eacute;f&eacute;rence. Une valeur d&#8217;un
												type ne peut &ecirc;tre remplac&eacute;e par une valeur d&#8217;un
												autre type.</em></span>
										</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in</strong></span>&nbsp;: Le sch&eacute;ma est
										cr&eacute;&eacute; et conserv&eacute; ponctuellement pour ce composant seulement.
										Voir &eacute;galement&nbsp;le <span class="bold"><strong>Guide
											utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository</strong></span>&nbsp;: Le sch&eacute;ma
										existe d&eacute;j&agrave; et est stock&eacute; dans le Repository. Ainsi, il peut
										&ecirc;tre r&eacute;utilis&eacute;. Voir &eacute;galement&nbsp;le <span class="bold"><strong>Guide utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Lookup search column</em></span>
									</p>
								</td><td valign="top">
									<p>Saisissez le num&eacute;ro de la colonne sur laquelle effectuer
										la recherche dans le sch&eacute;ma de lookup.</p>
									<p><span class="bold"><strong>0&nbsp;</strong></span>: la premi&egrave;re colonne
										lue</p>
									<p><span class="bold"><strong>1</strong></span>&nbsp;: la deuxi&egrave;me colonne
										lue</p>
									<p><span class="bold"><strong>n</strong></span>&nbsp;: num&eacute;ro de la colonne
										dans le sch&eacute;ma lu.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td colspan="2" valign="top">
									<div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
											<span class="emphasis"><em>Afin de s&#8217;assurer que les valeurs cherch&eacute;es
												sont uniques, assurez-vous que la colonne soit
												d&eacute;finie comme cl&eacute; dans votre sch&eacute;ma de
												lookup.</em></span>
										</p></td></tr></table></div>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Lookup replacement column</em></span>
									</p>
								</td><td valign="top">
									<p>Saisissez le num&eacute;ro de la colonne dans laquelle les
										valeurs de remplacement sont stock&eacute;es.</p>
									<p><span class="bold"><strong>0</strong></span>&nbsp;: la premi&egrave;re colonne
										lue</p>
									<p><span class="bold"><strong>1</strong></span>&nbsp;: la deuxi&egrave;me colonne
										lue</p>
									<p><span class="bold"><strong>n</strong></span>&nbsp;: num&eacute;ro de la colonne
										dans le sch&eacute;ma lu</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Column options</em></span>
									</p>
								</td><td valign="top">
									<p>S&eacute;lectionnez les colonnes du flux principal dans lequel le
										remplacement est effectu&eacute;.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="italic">tStatCatcher Statistics</span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case pour collecter les m&eacute;tadonn&eacute;es de
										process du Job, aussi bien au niveau du Job qu&#8217;au niveau de
										chaque composant. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Utilisation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Ce composant est un composant interm&eacute;diaire, il n&eacute;cessite
										un composant d&#8217;entr&eacute;e et un composant de sortie.</p>
								</td></tr></tbody></table></div></div><div class="section" title="Sc&eacute;nario&nbsp;: Remplacement &agrave; partir d&#8217;un fichier de r&eacute;f&eacute;rence"><div class="titlepage"><div><div><h3 class="title"><a name="Raa76711"></a>Sc&eacute;nario&nbsp;: Remplacement &agrave; partir d&#8217;un fichier de r&eacute;f&eacute;rence</h3></div></div></div><p>Le Job suivant effectue un rechercher/remplacer sur une liste d&#8217;Etats avec
					leur code correspondant. Les codes correspondant sont extraits d&#8217;un fichier de
					r&eacute;f&eacute;rence plac&eacute; en flux Lookup dans le Job. Le flux principal est dupliqu&eacute; et
					les deux sorties sont affich&eacute;es dans la console, pour constater l&#8217;&eacute;tat du flux
					principal avant et apr&egrave;s remplacement.</p><div class="mediaobject"><img src="../images/Use_Case_tReplaceList1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cliquez et d&eacute;posez les composants suivants de la <span class="bold"><strong>Palette&nbsp;</strong></span>: <span class="bold"><strong>tMysqlInput</strong></span>,
								<span class="bold"><strong>tFileInputDelimited</strong></span>, <span class="bold"><strong>tReplicate</strong></span>, <span class="bold"><strong>tReplaceList</strong></span> et <span class="bold"><strong>tLogRow</strong></span>
							(x2). Notez que si vos sch&eacute;mas d&#8217;entr&eacute;e sont d&eacute;j&agrave; centralis&eacute;s sur le
							Repository, vous pouvez, d&#8217;un simple cliquer-d&eacute;poser, les faire passer
							du noeud correspondant du r&eacute;pertoire Metadata du Repository vers
							l&#8217;espace de mod&eacute;lisation. Cela permettra de r&eacute;cup&eacute;rer automatiquement
							les propri&eacute;t&eacute;s des composants d&#8217;entr&eacute;e. Pour plus d&#8217;informations,
							consultez le <span class="bold"><strong>Guide utilisateur</strong></span> de
								<span class="bluebold">Talend Open Studio</span>. </p></li><li class="listitem"><p>Connectez les composants &agrave; l&#8217;aide de liens <span class="bold"><strong>Main
								Row</strong></span> via un clic-droit sur chaque composant. Notez que le
							lien de type main row provenant du flux de r&eacute;f&eacute;rence (<span class="bold"><strong>tFileInputDelimited</strong></span>) se nomme lookup
							row.</p></li><li class="listitem"><p>S&eacute;lectionnez le composant <span class="bold"><strong>tMysqlInput</strong></span>
							et d&eacute;finissez les param&egrave;tres du flux d&#8217;entr&eacute;e.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tReplaceList3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Le sch&eacute;ma d&#8217;entr&eacute;e est compos&eacute; de deux colonnes&nbsp;:
								<span class="emphasis"><em>Names</em></span>, <span class="emphasis"><em>States</em></span>. La colonne
							States regroupe le nom des Etats des Etats-Unis qui seront remplac&eacute;s par
							leur code respectif.</p></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>Query</strong></span>, assurez-vous que
							la colonne <span class="emphasis"><em>State</em></span> est incluse dans la d&eacute;claration
								<code class="code">Select</code>. Dans cet exemple, toutes les colonnes sont
							s&eacute;lectionn&eacute;es.</p></li><li class="listitem"><p>V&eacute;rifiez les param&egrave;tres du composant <span class="bold"><strong>tReplicate</strong></span>. Le sch&eacute;ma est simplement divis&eacute; en deux flux
							identiques, mais aucun changement n&#8217;a &eacute;t&eacute; effectu&eacute; sur le sch&eacute;ma.</p></li><li class="listitem"><p>Puis double-cliquez sur le composant <span class="bold"><strong>tFileInputDelimited</strong></span>, pour param&eacute;trer le fichier de
							r&eacute;f&eacute;rence.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tReplaceList4.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Le fichier comporte deux colonnes&nbsp;: <span class="emphasis"><em>Postal</em></span> et
								<span class="emphasis"><em>State</em></span>. <span class="emphasis"><em>Postal</em></span> correspond
							au code postal de l&#8217;Etat de la colonne <span class="emphasis"><em>State</em></span>
							correspondante.</p></li><li class="listitem"><p>Les champs sont d&eacute;limit&eacute;s par des point-virgules et les lignes par des
							retours chariot.</p></li><li class="listitem"><p>Modifiez le sch&eacute;ma du flux lookup.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tReplaceList5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Assurez-vous que la colonne lookup sur laquelle est effectu&eacute;e la
							recherche (dans cet exemple&nbsp;: <span class="emphasis"><em>State</em></span>) est d&eacute;finie
							comme cl&eacute;, pour s&#8217;assurer que les donn&eacute;es cherch&eacute;es sont uniques.</p></li><li class="listitem"><p>S&eacute;lectionnez le composant <span class="bold"><strong>tReplaceList</strong></span> et param&eacute;trez l&#8217;op&eacute;ration &agrave;
							effectuer.</p></li><li class="listitem"><p>Le sch&eacute;ma est r&eacute;cup&eacute;r&eacute; &agrave; partir du composant pr&eacute;c&eacute;dent dans le flux
							principal.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tReplaceList2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans le champ <span class="bold"><strong>Lookup search index</strong></span>,
							renseignez la position de la colonne sur laquelle est effectu&eacute;e la
							recherche. Dans cet exemple, <span class="emphasis"><em>State</em></span> est la deuxi&egrave;me
							colonne du fichier d&#8217;entr&eacute;e lookup. Ainsi, saisissez&nbsp;<span class="bold"><strong>1</strong></span> dans ce champ.</p></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>Lookup replacement
								index</strong></span>, renseignez le num&eacute;ro de la colonne contenant les
							valeurs de remplacement, dans cet exemple&nbsp;: <span class="emphasis"><em>Postal</em></span>
							pour le code postal de l&#8217;Etat.</p></li><li class="listitem"><p>Dans le tableau <span class="bold"><strong>Column options</strong></span>,
							s&eacute;lectionnez la colonne <span class="emphasis"><em>States</em></span> puisque dans cet
							exemple le nom des Etats doit &ecirc;tre remplac&eacute; par leur code
							correspondant.</p></li><li class="listitem"><p>Pour les deux composants <span class="bold"><strong>tLogRow</strong></span>,
							cochez la case <span class="bold"><strong>Print values in table
								cells</strong></span> pour que les sorties soient plus claires.</p></li><li class="listitem"><p>Enregistrez le Job et ex&eacute;cutez-le en appuyant sur <span class="bold"><strong>F6</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tReplaceList6.png"></div><p>Le premier flux de sortie affiche la colonne States avec les noms des Etats
					puisqu&#8217;il provient du flux d&#8217;entr&eacute;e principal.</p><p>Le deuxi&egrave;me flux affiche la colonne States apr&egrave;s que le nom des Etats aient
					&eacute;t&eacute; remplac&eacute;s par leur codes postaux respectifs.</p></div></div></body></html>