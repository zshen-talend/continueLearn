<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tSortRow</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Enterprise"><link rel="up" href="ch16.html" title="Chapitre&nbsp;16.&nbsp;Composants Processing"><link rel="prev" href="tSampleRow.html" title="tSampleRow"><link rel="next" href="tSplitRow.html" title="tSplitRow"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="fr" class="section" title="tSortRow"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tSortRow"></a>tSortRow</h2></div></div></div><div class="mediaobject"><img src="../images/tSortRow.png"></div><div class="section" title="Propri&eacute;t&eacute;s du tSortRow"><div class="titlepage"><div><div><h3 class="title"><a name="Raa63352"></a>Propri&eacute;t&eacute;s du tSortRow</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Famille de composant</strong></span>
									</p>
								</td><td valign="top">
									<p>Processing</p>
								</td><td valign="top"> </td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Fonction</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Ce composant trie les donn&eacute;es d&#8217;entr&eacute;e bas&eacute;es sur une ou
										plusieurs colonnes, selon un type de tri et un ordre.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Objectif</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Il permet d&#8217;&eacute;tablir des m&eacute;triques et des tables de
										classification.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema</em></span> et <span class="emphasis"><em>Edit
											Schema</em></span></p>
								</td><td valign="top">
									<p>Un sch&eacute;ma est une description de lignes, i.e., il d&eacute;finit
										le nombre de champs qui sont trait&eacute;s et pass&eacute;s au composant
										suivant. Le sch&eacute;ma est soit local (built-in) soit distant
										dans le Repository. </p>
									<p>Cliquez sur <span class="bold"><strong>Edit Schema</strong></span>
										pour modifier le sch&eacute;ma. Notez que si vous modifiez le
										sch&eacute;ma dans cette vue, il devient automatiquement
										built-in.</p>
									<p>Cliquez sur <span class="bold"><strong>Sync columns</strong></span>
										pour r&eacute;cup&eacute;rer le sch&eacute;ma du composant pr&eacute;c&eacute;dent dans le
										Job.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in&nbsp;</strong></span>: Le sch&eacute;ma sera
										cr&eacute;&eacute; et conserv&eacute; pour ce composant seulement. Voir
										&eacute;galement&nbsp;le <span class="bold"><strong>Guide
											utilisateur</strong></span> de <span class="bluebold">Talend Enterprise Studio</span>.
									</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository&nbsp;</strong></span>: Le sch&eacute;ma
										existe d&eacute;j&agrave; et est stock&eacute; dans le Repository. Ainsi, il peut
										&ecirc;tre r&eacute;utilis&eacute; dans divers projets et Job designs. Voir
										&eacute;galement&nbsp;le <span class="bold"><strong>Guide
											utilisateur</strong></span> de <span class="bluebold">Talend Enterprise Studio</span>.
									</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Criteria</em></span>
									</p>
								</td><td valign="top">
									<p>Cliquez sur <span class="bold"><strong>[+]</strong></span> pour
										ajouter autant de lignes que n&eacute;cessaire pour mettre en place
										le tri. La premi&egrave;re colonne d&eacute;finie dans le sch&eacute;ma est
										s&eacute;lectionn&eacute;e par d&eacute;faut.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Schema column&nbsp;</strong></span>:
										S&eacute;lectionnez la colonne de votre sch&eacute;ma sur laquelle vous
										souhaitez baser votre tri. Notez que l&#8217;ordre est important
										car il d&eacute;termine la priorit&eacute; de tri.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Sort type&nbsp;</strong></span>: Num&eacute;rique ou
										Alphab&eacute;tique.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Order&nbsp;</strong></span>: Ordre ascendant
										ou descendant.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>Sort on disk</em></span>
									</p>
								</td><td valign="top">
									<p>Personnalisez la m&eacute;moire utilis&eacute;e de mani&egrave;re temporaire
										pour stocker les donn&eacute;es de sortie. </p>
									<p><span class="bold"><strong>Temp data directory
										path&nbsp;</strong></span>: D&eacute;finissez le chemin d&#8217;acc&egrave;s au dossier
										dans lequel stocker les fichiers temporaires.</p>
									<p><span class="bold"><strong>Create temp data directory if not
											exists</strong></span>&nbsp;: Cochez cette case afin de cr&eacute;er le
										dossier s&#8217;il n&#8217;existe pas. </p>
									<p><span class="bold"><strong>Buffer size of external
											sort</strong></span>&nbsp;: Entrez la taille de la m&eacute;moire
										physique &agrave; allouer au processus de tri. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>tStatCatcher Statistics</em></span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case pour collecter les donn&eacute;es de log au
										niveau du composant.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Utilisation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Ce composant manipule le flux de donn&eacute;es et par cons&eacute;quent
										requiert un composant en entr&eacute;e et un composant en sortie.
										Il s&#8217;agit donc d&#8217;un composant interm&eacute;diaire.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Limitation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>n/a</p>
								</td></tr></tbody></table></div></div><div class="section" title="Sc&eacute;nario 1&nbsp;: Trier des donn&eacute;es"><div class="titlepage"><div><div><h3 class="title"><a name="tSortRow_scenario"></a>Sc&eacute;nario<span> 1</span>&nbsp;: Trier des
					donn&eacute;es</h3></div></div></div><p>Le sc&eacute;nario suivant d&eacute;crit un Job constitu&eacute; de trois composants. Un composant
						<span class="bold"><strong>tRowGenerator</strong></span> est utilis&eacute; pour cr&eacute;er des
					entr&eacute;es de fa&ccedil;on al&eacute;atoire. Ces entr&eacute;es seront ensuite envoy&eacute;es au composant
						<span class="bold"><strong>tSortRow</strong></span> afin d&#8217;&ecirc;tre tri&eacute;es selon une
					valeur d&eacute;finie. Dans ce sc&eacute;nario, le flux d&#8217;entr&eacute;e contient des noms de vendeurs
					ainsi que leur volume de vente respectif et leur nombre d&#8217;ann&eacute;es d&#8217;anciennet&eacute;
					dans l&#8217;entreprise. Le r&eacute;sultat de l&#8217;op&eacute;ration de tri est affich&eacute; dans la console
						<span class="bold"><strong>Run</strong></span>.</p><div class="mediaobject"><img src="../images/Use_Case_tSortRow1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cliquez et d&eacute;posez les trois composants requis pour ce sc&eacute;nario&nbsp;:
								<span class="bold"><strong>tRowGenerator</strong></span>, <span class="bold"><strong>tSortRow</strong></span> et <span class="bold"><strong>tLogRow</strong></span>.</p></li><li class="listitem"><p>Connectez-les &agrave; l&#8217;aide de liens de type <span class="bold"><strong>Row</strong></span>
							<span class="bold"><strong>Main</strong></span>.</p></li><li class="listitem"><p>Dans le <span class="bold"><strong>RowGenerator editor</strong></span>,
							d&eacute;finissez les valeurs qui seront cr&eacute;&eacute;es de mani&egrave;re al&eacute;atoire et qui
							seront ensuite tri&eacute;es par le <span class="bold"><strong>tSortRow</strong></span>.
							Pour plus d&#8217;informations concernant l&#8217;utilisation du <span class="bold"><strong>tRowGenerator</strong></span>, consultez&nbsp;<a class="xref" href="tRowGenerator.html#Raa86373" title="Propri&eacute;t&eacute;s du tRowGenerator">la section intitul&eacute;e &laquo;&nbsp;Propri&eacute;t&eacute;s du tRowGenerator&nbsp;&raquo;</a>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSortRow2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans ce sc&eacute;nario, chaque vendeur est class&eacute; en fonction de la valeur
							de ses ventes (<span class="emphasis"><em>Sales</em></span>) et de son anciennet&eacute; dans
							l&#8217;entreprise (<span class="emphasis"><em>YearsInComp</em></span>).</p></li><li class="listitem"><p>Double-cliquez sur <span class="bold"><strong>tSortRow</strong></span> pour
							afficher l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span>.
							D&eacute;finissez la priorit&eacute; de tri sur la valeur des ventes et, en second
							crit&egrave;re, sur l&#8217;anciennet&eacute;.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSortRow3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Utilisez le bouton <span class="bold"><strong>[+]</strong></span> pour ajouter
							le nombre de lignes de crit&egrave;res requis. Param&eacute;trez le type de tri, dans
							cet exemple, les deux crit&egrave;res sont de type num&eacute;rique. Enfin, &eacute;tant
							donn&eacute; que la sortie est une classification, d&eacute;finissez l&#8217;ordre de tri
							comme descendant.</p></li><li class="listitem"><p>Dans l&#8217;onglet <span class="bold"><strong>Advanced Settings</strong></span>,
							cochez l&#8217;option <span class="bold"><strong>Sort on disk</strong></span> pour
							modifier les param&egrave;tres de la m&eacute;moire temporaire. Dans le champ
								<span class="bold"><strong>Temp data directory path</strong></span>,
							renseignez le chemin d&#8217;acc&egrave;s au dossier dans lequel vous voulez stocker
							les donn&eacute;es temporaires. Dans le champ <span class="bold"><strong>Buffer size
								of external sort</strong></span>, d&eacute;finissez la taille maximale de la
							m&eacute;moire tampon &agrave; allouer au traitement des donn&eacute;es. </p></li></ul></div><div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
						<span class="emphasis"><em>La valeur par d&eacute;faut de la m&eacute;moire tampon est de 1000000 mais plus
							vous traitez un nombre important de lignes et/ou colonnes, plus cette
							valeur devra &ecirc;tre &eacute;lev&eacute;e pour &eacute;viter l&#8217;interruption automatique du Job
							signifi&eacute;e par le message d&#8217;erreur &#8220;out of memory&#8221;.</em></span>
					</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Assurez-vous que ce flux est connect&eacute; au composant de sortie <span class="bold"><strong>tLogRow</strong></span>, afin d&#8217;afficher le r&eacute;sultat dans la
							console <span class="bold"><strong>Run</strong></span>.</p></li><li class="listitem"><p>Appuyez sur <span class="bold"><strong>F6</strong></span> pour ex&eacute;cuter le Job
							ou passez &agrave; la vue <span class="bold"><strong>Run</strong></span> et cliquez sur
							le bouton <span class="bold"><strong>Run</strong></span>. Le classement est
							d&#8217;abord bas&eacute; sur la valeur des ventes puis sur le nombre d&#8217;ann&eacute;es
							d&#8217;anciennet&eacute;.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSortRow4.png"></div></div><div class="section" title="Sc&eacute;nario 2 : Trier des donn&eacute;es bas&eacute;es sur un sch&eacute;ma dynamique"><div class="titlepage"><div><div><h3 class="title"><a name="d0e316257"></a>Sc&eacute;nario 2 : Trier des donn&eacute;es bas&eacute;es sur un sch&eacute;ma dynamique</h3></div></div></div><p>Dans ce sc&eacute;nario, des donn&eacute;es sont tri&eacute;es dans un fichier d&#8217;entr&eacute;e bas&eacute; sur un
					sch&eacute;ma dynamique, le r&eacute;sultat de l&#8217;op&eacute;ration de tri est affich&eacute; dans la console
						<span class="bold"><strong>Run</strong></span>, puis sauvegard&eacute; dans un fichier de
					sortie. Pour plus d&#8217;informations concernant la fonction de sch&eacute;ma dynamique,
					consultez le <span class="bold"><strong>Guide utilisateur</strong></span> de <span class="bluebold">Talend Enterprise Studio</span>.</p><div class="mediaobject"><img src="../images/Use_Case_tSortRow5.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A partir de la <span class="bold"><strong>Palette</strong></span>, cliquez
							d&eacute;posez dans l&#8217;&eacute;diteur graphique les composants requis pour ce
							sc&eacute;nario&nbsp;: <span class="bold"><strong>tFileInputDelimited</strong></span>,
								<span class="bold"><strong>tSortRow</strong></span>, <span class="bold"><strong>tLogRow</strong></span> et <span class="bold"><strong>tFileOutputDelimited</strong></span>.</p></li><li class="listitem"><p>Connectez-les &agrave; l&#8217;aide de liens de type <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Main</strong></span>. </p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tFileInputDelimited</strong></span> pour afficher l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span> de sa vue <span class="bold"><strong>Component</strong></span>. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSortRow6.png"></div><div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
						<span class="emphasis"><em>La fonction de sch&eacute;ma dynamique est disponible uniquement en mode </em></span>
						<span class="bold"><strong>Built-In</strong></span>
						<span class="emphasis"><em> et n&eacute;cessite que le fichier d&#8217;entr&eacute;e contienne une ligne
							d&#8217;en-t&ecirc;te.</em></span>
					</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>S&eacute;lectionnez <span class="bold"><strong>Built-In</strong></span> dans la liste
							d&eacute;roulante <span class="bold"><strong>Property Type</strong></span>.</p></li><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>[...]</strong></span> &agrave; droite
							du champ <span class="bold"><strong>File Name</strong></span> afin de parcourir
							votre r&eacute;pertoire et de s&eacute;lectionner votre fichier d&#8217;entr&eacute;e. Dans ce
							sc&eacute;nario, le fichier d&#8217;entr&eacute;e <span class="emphasis"><em>cars.csv</em></span> contient
							cinq colonnes&nbsp;: <span class="emphasis"><em>ID_Owner</em></span>,
								<span class="emphasis"><em>Registration</em></span>, <span class="emphasis"><em>Make</em></span>,
								<span class="emphasis"><em>Color</em></span>, et <span class="emphasis"><em>ID_Reseller</em></span>.
						</p></li><li class="listitem"><p>Sp&eacute;cifiez dans le champ <span class="bold"><strong>Header</strong></span> quelle
							est la ligne d&#8217;en-t&ecirc;te. Dans ce sc&eacute;nario, il s&#8217;agit de la premi&egrave;re
							ligne.</p></li><li class="listitem"><p>S&eacute;lectionnez <span class="bold"><strong>Built-In</strong></span> dans la liste
							d&eacute;roulante <span class="bold"><strong>Schema</strong></span>, puis cliquez sur
								<span class="bold"><strong>Edit schema</strong></span> pour param&eacute;trer le
							sch&eacute;ma d&#8217;entr&eacute;e.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSortRow7.png"></div><div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
						<span class="emphasis"><em>La colonne dynamique doit &ecirc;tre d&eacute;finie sur la derni&egrave;re ligne du
							sch&eacute;ma.</em></span>
					</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans l&#8217;&eacute;diteur de sch&eacute;ma, ajoutez deux colonnes &agrave; l&#8217;aide du bouton
								<span class="bold"><strong>[+]</strong></span> et nommez les respectivement
								<span class="emphasis"><em>ID_Owner</em></span> et <span class="emphasis"><em>Other</em></span>.
							Param&eacute;trez le type de donn&eacute;es de la colonne <span class="emphasis"><em>Other</em></span>
							en <span class="bold"><strong>Dynamic</strong></span> afin de r&eacute;cup&eacute;rer toutes les
							colonnes non d&eacute;finies dans le sch&eacute;ma.</p></li><li class="listitem"><p>Cliquez sur <span class="bold"><strong>OK</strong></span> pour propager le
							sch&eacute;ma et fermer l&#8217;&eacute;diteur de sch&eacute;ma.</p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tSortRow</strong></span> pour afficher l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span> de sa vue <span class="bold"><strong>Component</strong></span>. </p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSortRow8.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Ajoutez une ligne dans le tableau <span class="bold"><strong>Criteria</strong></span> &agrave; l&#8217;aide du bouton <span class="bold"><strong>[+]</strong></span>, s&eacute;lectionnez <span class="emphasis"><em>Other</em></span> dans
								<span class="bold"><strong>Schema column</strong></span>,
								<span class="emphasis"><em>alpha</em></span> dans le type de tri, puis s&eacute;lectionnez
							l&#8217;ordre <span class="emphasis"><em>asc</em></span> (ascendant) ou
								<span class="emphasis"><em>desc</em></span> (descendant) des donn&eacute;es de sortie.</p></li></ul></div><div class="warning" title="Avertissement" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="16pt"><img alt="[Avertissement]" src="../images/warning.png"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>
						<span class="emphasis"><em>Le tri des colonnes dynamiques ne fonctionne que lorsque le type
							de tri est configur&eacute; en </em></span>
						<span class="emphasis"><em>alpha</em></span>
						<span class="emphasis"><em>.</em></span>
					</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Pour visionner les donn&eacute;es de sortie sous forme de tableau dans la
							console <span class="bold"><strong>Run</strong></span>, double-cliquez sur le
							composant <span class="bold"><strong>tLogRow</strong></span> et s&eacute;lectionnez
							l&#8217;option <span class="bold"><strong>Table</strong></span> dans l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span>.</p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tFileOutputDelimited</strong></span> pour afficher l&#8217;onglet <span class="bold"><strong>Basic settings</strong></span> de sa vue <span class="bold"><strong>Component</strong></span>.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSortRow9.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cliquez sur le bouton <span class="bold"><strong>[...]</strong></span> &agrave; droite
							du champ <span class="bold"><strong>File name</strong></span> afin de parcourir et
							s&eacute;lectionner le r&eacute;pertoire dans lequel vous souhaitez enregistrer le
							fichier de sortie, puis donnez-lui un nom..</p></li><li class="listitem"><p>Cochez la case<span class="bold"><strong> Include Header</strong></span> pour
							r&eacute;cup&eacute;rer les noms des colonnes ainsi que les donn&eacute;es tri&eacute;es.</p></li><li class="listitem"><p>Enregistrez votre Job puis appuyez sur <span class="bold"><strong>F6</strong></span> pour l&#8217;ex&eacute;cuter.</p><p>Le r&eacute;sultat de l&#8217;op&eacute;ration de tri s&#8217;affiche dans la console <span class="bold"><strong>Run</strong></span> et est &eacute;crit dans le fichier de
							sortie.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tSortRow11.png"></div></div></div></body></html>