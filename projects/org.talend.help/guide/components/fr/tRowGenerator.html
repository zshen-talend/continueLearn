<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>tRowGenerator</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="Talend Open Studio"><link rel="up" href="ch13.html" title="Chapitre&nbsp;13.&nbsp;Composants Misc"><link rel="prev" href="tMsgBox.html" title="tMsgBox"><link rel="next" href="ch14.html" title="Chapitre&nbsp;14.&nbsp;Composants Orchestration"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="FR" class="section" title="tRowGenerator"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tRowGenerator"></a>tRowGenerator</h2></div></div></div><div class="mediaobject"><img src="../images/tRowGenerator.png"></div><div class="section" title="Propri&eacute;t&eacute;s du tRowGenerator"><div class="titlepage"><div><div><h3 class="title"><a name="Raa86373"></a>Propri&eacute;t&eacute;s du tRowGenerator</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td valign="top">
									<p>
										<span class="bold"><strong>Famille de composant</strong></span>
									</p>
								</td><td valign="top">
									<p>Misc</p>
								</td><td valign="top"> </td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Fonction</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Le composant <span class="bold"><strong>tRowGenerator</strong></span> g&eacute;n&egrave;re autant de lignes et de
										champs que vous souhaitez alimenter par des valeurs prises
										de fa&ccedil;on al&eacute;atoire dans une liste d&eacute;finie.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Objectif</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>Ce composant peut &ecirc;tre utilis&eacute; &agrave; des fins de test, pour
										cr&eacute;er un flux d&#8217;entr&eacute;e dans le cadre de jeux de
										tests.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="emphasis"><em>Schema</em></span> et <span class="emphasis"><em>Edit
											Schema</em></span></p>
								</td><td valign="top">
									<p>Un sch&eacute;ma est une description de lignes, i.e., il d&eacute;finit
										le nombre de champs qui sont trait&eacute;s et pass&eacute;s au composant
										suivant. Le sch&eacute;ma est soit local (built-in) soit distant
										dans le Repository. </p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Built-in&nbsp;</strong></span>: Le sch&eacute;ma est
										cr&eacute;&eacute; et conserv&eacute; pour ce composant uniquement. Voir
										&eacute;galement&nbsp;le <span class="bold"><strong>Guide
											utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span>.</p>
								</td></tr><tr><td>
									<p>&nbsp;</p>
								</td><td>
									<p>&nbsp;</p>
								</td><td valign="top">
									<p><span class="bold"><strong>Repository&nbsp;</strong></span>: Le sch&eacute;ma
										existe d&eacute;j&agrave; et est stock&eacute; dans le Repository. Ainsi, il peut
										&ecirc;tre r&eacute;utilisable dans divers projets et Jobs. Voir
										&eacute;galement&nbsp;le <span class="bold"><strong>Guide
											utilisateur</strong></span> de <span class="bluebold">Talend Open Studio</span>.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Basic settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="emphasis"><em>RowGenerator editor </em></span>
									</p>
								</td><td valign="top">
									<p>L&#8217;&eacute;diteur vous permet de d&eacute;finir pr&eacute;cis&eacute;ment les colonnes
										et la nature des donn&eacute;es &agrave; g&eacute;n&eacute;rer. Vous pouvez pr&eacute;d&eacute;finir
										des routines ou saisir vous-m&ecirc;me la fonction &agrave; utiliser pour
										g&eacute;n&eacute;rer les donn&eacute;es souhait&eacute;es.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Advanced settings</strong></span>
									</p>
								</td><td valign="top">
									<p>
										<span class="italic">tStatCatcher Statistics</span>
									</p>
								</td><td valign="top">
									<p>Cochez cette case pour collecter les donn&eacute;es de log au
										niveau du composant. </p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Utilisation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>La simplicit&eacute; d&#8217;utilisation de l&#8217;&eacute;diteur du <span class="bold"><strong>tRowGenerator</strong></span> vous permet de
										g&eacute;n&eacute;rer des donn&eacute;es de fa&ccedil;on al&eacute;atoire sans connaissance du
										langage Java.</p>
								</td></tr><tr><td valign="top">
									<p>
										<span class="bold"><strong>Limitation</strong></span>
									</p>
								</td><td colspan="2" valign="top">
									<p>n/a</p>
								</td></tr></tbody></table></div><p>L&#8217;&eacute;diteur du <span class="bold"><strong>tRowGenerator</strong></span> s&#8217;ouvre dans une
					fen&ecirc;tre s&eacute;par&eacute;e constitu&eacute;e de deux parties&nbsp;:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>dans la partie sup&eacute;rieure de la fen&ecirc;tre, une vue de d&eacute;finition de
								<span class="bold"><strong>Schema</strong></span>,</p></li><li class="listitem"><p>dans la partie inf&eacute;rieure, une vue <span class="bold"><strong>Function</strong></span> de d&eacute;finition et d&#8217;aper&ccedil;u des fonctions.</p></li></ul></div><div class="section" title="D&eacute;finition du sch&eacute;ma"><div class="titlepage"><div><div><h4 class="title"><a name="d0e241262"></a>D&eacute;finition du sch&eacute;ma</h4></div></div></div><p>Pour commencer, vous devez d&eacute;finir la structure des donn&eacute;es &agrave;
						g&eacute;n&eacute;rer.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Ajoutez autant de colonnes que n&eacute;cessaire &agrave; l&#8217;aide du bouton
									<span class="bold"><strong>plus [+]</strong></span>.</p></li><li class="listitem"><p>Dans la zone <span class="bold"><strong>Columns</strong></span>, saisissez
								les noms des colonnes &agrave; cr&eacute;er et cochez la case <span class="bold"><strong>Key</strong></span> si n&eacute;cessaire.</p></li><li class="listitem"><p>Assurez-vous d&#8217;avoir correctement d&eacute;fini la nature des donn&eacute;es
								contenues dans la colonne en s&eacute;lectionnant le type dans la colonne
									<span class="bold"><strong>Type</strong></span>. En fonction du type
								s&eacute;lectionn&eacute;, la liste des fonctions propos&eacute;es dans la colonne
									<span class="bold"><strong>Function</strong></span> diff&egrave;re. Cette
								information est obligatoire.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tRowGeneratorSchema.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>D&#8217;autres informations, bien que facultatives, peuvent &ecirc;tre utiles,
								telles que les colonnes <span class="bold"><strong>Length</strong></span>,
									<span class="bold"><strong>Precision</strong></span> ou <span class="bold"><strong>Comment</strong></span>. Mais vous avez la possibilit&eacute; de
								cacher les colonnes que vous n&#8217;utilisez pas, en cliquant sur le
								bouton <span class="bold"><strong>Columns </strong></span>dans la barre
								d&#8217;outils et en d&eacute;cochant les colonnes que vous souhaitez
								cacher.</p></li><li class="listitem"><p>Dans la zone <span class="bold"><strong>Function</strong></span>,
								s&eacute;lectionnez la routine/fonction pr&eacute;d&eacute;finie si l&#8217;une des
								propositions correspond &agrave; vos besoins. Vous pouvez &eacute;galement ajouter
								&agrave; cette liste toute routine que vous avez d&eacute;velopp&eacute;e et stock&eacute;e dans
								la partie <span class="bold"><strong>Routine</strong></span> du <span class="bold"><strong>Repository</strong></span>. Vous avez enfin la
								possibilit&eacute; de saisir directement la fonction que vous souhaitez
								utiliser dans la vue <span class="bold"><strong>Function</strong></span>. Voir
								&eacute;galement&nbsp;: <a class="xref" href="tRowGenerator.html#Raa20687" title="D&eacute;finition d&#8217;une fonction">la section intitul&eacute;e &laquo;&nbsp;D&eacute;finition d&#8217;une fonction&nbsp;&raquo;</a>.</p></li><li class="listitem"><p>Cliquez sur <span class="bold"><strong>Refresh</strong></span> pour
								visualiser un aper&ccedil;u des donn&eacute;es g&eacute;n&eacute;r&eacute;es.</p></li><li class="listitem"><p>Saisissez le nombre de lignes &agrave; g&eacute;n&eacute;rer. Plus le nombre de lignes
								est &eacute;lev&eacute;, plus la dur&eacute;e d&#8217;ex&eacute;cution sera longue pour cette
								op&eacute;ration de g&eacute;n&eacute;ration.</p></li></ul></div></div><div class="section" title="D&eacute;finition d&#8217;une fonction"><div class="titlepage"><div><div><h4 class="title"><a name="Raa20687"></a>D&eacute;finition d&#8217;une fonction</h4></div></div></div><p>Vous avez s&eacute;lectionn&eacute; les trois points <span class="bold"><strong>[...]</strong></span> dans la colonne <span class="bold"><strong>Function</strong></span> de l&#8217;&eacute;diteur du Sch&eacute;ma, car vous souhaitez
						personnaliser la fonction de g&eacute;n&eacute;ration.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>S&eacute;lectionnez l&#8217;onglet <span class="bold"><strong>Function
									parameters</strong></span>.</p></li><li class="listitem"><p>La zone <span class="bold"><strong>Parameter</strong></span> affiche
									<span class="bold"><strong>Customized parameter</strong></span> comme nom
								du param&egrave;tre (en lecture seule).</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tRowGeneratorFunctionCust.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dans la zone <span class="bold"><strong>Value</strong></span>, saisissez la
								fonction Java que vous souhaitez utiliser pour g&eacute;n&eacute;rer des
								donn&eacute;es.</p></li><li class="listitem"><p>Cliquez sur l&#8217;onglet <span class="bold"><strong>Preview</strong></span> et
								cliquez sur le bouton <span class="bold"><strong>Preview</strong></span> pour
								visualiser un &eacute;chantillon des donn&eacute;es qui seront g&eacute;n&eacute;r&eacute;es.</p></li></ul></div></div></div><div class="section" title="Sc&eacute;nario&nbsp;: G&eacute;n&eacute;ration al&eacute;atoire de fichiers de test"><div class="titlepage"><div><div><h3 class="title"><a name="d0e241383"></a>Sc&eacute;nario&nbsp;: G&eacute;n&eacute;ration al&eacute;atoire de fichiers de test</h3></div></div></div><p>Le sc&eacute;nario suivant d&eacute;crit un Job de deux composants, g&eacute;n&eacute;rant 50&nbsp;lignes
					compos&eacute;es de la mani&egrave;re suivante&nbsp;: un ID al&eacute;atoire compris entre 1 et 3, un nom
					et un pr&eacute;nom pris de mani&egrave;re al&eacute;atoire dans une liste de cha&icirc;nes de caract&egrave;res,
					et le champ <span class="bold"><strong>Date</strong></span> d&eacute;finie dans une p&eacute;riode
					donn&eacute;e.</p><div class="mediaobject"><img src="../images/Use_Case_tRowGenerator1.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Cliquez et d&eacute;posez un composant <span class="bold"><strong>tRowGenerator</strong></span> et un composant <span class="bold"><strong>tLogRow</strong></span> dans l&#8217;espace de mod&eacute;lisation.</p></li><li class="listitem"><p>Cliquez-droit sur le composant <span class="bold"><strong>tRowGenerator</strong></span> et s&eacute;lectionnez le lien <span class="bold"><strong>Row</strong></span> &gt; <span class="bold"><strong>Main</strong></span>. Faites glisser ce lien jusqu&#8217;au composant
								<span class="bold"><strong>tLogRow</strong></span>.</p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tRowGenerator</strong></span> pour ouvrir l&#8217;&eacute;diteur.</p></li><li class="listitem"><p>D&eacute;finissez les champs &agrave; g&eacute;n&eacute;rer.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tRowGenerator2.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>La colonne ID (<span class="emphasis"><em>random_ID</em></span>) est de type entier
								(<span class="bold"><strong>integer</strong></span>), les noms et pr&eacute;noms sont
							de type cha&icirc;ne de caract&egrave;res (<span class="bold"><strong>String</strong></span>)
							et la <span class="emphasis"><em>Date</em></span> est de type <span class="bold"><strong>Date</strong></span>.</p></li><li class="listitem"><p>Dans la colonne <span class="bold"><strong>Function</strong></span>,
							s&eacute;lectionnez la fonction adapt&eacute;e dans la liste ou les trois points
								<span class="bold"><strong>[...]</strong></span> pour la fonction
							personnalis&eacute;e.</p></li><li class="listitem"><p>Dans l&#8217;onglet <span class="bold"><strong>Function parameters</strong></span>,
							d&eacute;finissez les valeurs &agrave; prendre de fa&ccedil;on al&eacute;atoire.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tRowGenerator3.png"></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Les colonnes <span class="emphasis"><em>First_Name</em></span> et
								<span class="emphasis"><em>Last_Name</em></span> sont &agrave; g&eacute;n&eacute;rer &agrave; l&#8217;aide d&#8217;une
							fonction <code class="code">getAsciiRandomString</code> pr&eacute;d&eacute;finie dans les routines
							syst&egrave;me. Par d&eacute;faut, la longueur d&eacute;finie est de 6&nbsp;caract&egrave;res, mais vous
							pouvez la changer.</p></li><li class="listitem"><p>La colonne <span class="emphasis"><em>Date</em></span> appelle &eacute;galement une fonction
							pr&eacute;d&eacute;finie <code class="code">getRandomDate</code>. Vous pouvez &eacute;diter les valeurs de
							param&egrave;tre dans l&#8217;onglet <span class="bold"><strong>Function
								parameters</strong></span>.</p></li><li class="listitem"><p>Dans le champ <span class="bold"><strong>Number of Rows</strong></span>,
							param&eacute;trez le nombre de lignes &agrave; <span class="italic">50</span>.</p></li><li class="listitem"><p>Cliquez sur <span class="bold"><strong>OK</strong></span> pour valider les
							param&egrave;tres.</p></li><li class="listitem"><p>Double-cliquez sur le composant <span class="bold"><strong>tLogRow</strong></span> pour visualiser les param&egrave;tres dans l&#8217;onglet
								<span class="bold"><strong>Basic settings</strong></span>. Retenez les
							param&egrave;tres par d&eacute;faut.</p></li><li class="listitem"><p>Appuyez sur <span class="bold"><strong>F6</strong></span> pour ex&eacute;cuter le
							Job.</p></li></ul></div><div class="mediaobject"><img src="../images/Use_Case_tRowGenerator4.png"></div><p>Les 50&nbsp;lignes sont g&eacute;n&eacute;r&eacute;es selon les param&egrave;tres d&eacute;finis dans l&#8217;&eacute;diteur du
					composant <span class="bold"><strong>tRowGenerator</strong></span> et sont affich&eacute;es en
					sortie standard de la vue <span class="bold"><strong>Run</strong></span>.</p></div></div></body></html>